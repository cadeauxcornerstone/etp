This file is a merged representation of the entire codebase, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
.gitignore
app/(public)/checkout/[eventId]/loading.tsx
app/(public)/checkout/[eventId]/page.tsx
app/(public)/events/[id]/page.tsx
app/(public)/layout.tsx
app/(public)/loading.tsx
app/(public)/my-tickets/[id]/page.tsx
app/(public)/my-tickets/loading.tsx
app/(public)/my-tickets/page.tsx
app/(public)/page.tsx
app/admin/events/loading.tsx
app/admin/events/page.tsx
app/admin/layout.tsx
app/admin/page.tsx
app/admin/transactions/loading.tsx
app/admin/transactions/page.tsx
app/admin/users/loading.tsx
app/admin/users/page.tsx
app/auth/forgot-password/page.tsx
app/auth/layout.tsx
app/auth/reset-password/page.tsx
app/auth/signin/loading.tsx
app/auth/signin/page.tsx
app/auth/signup/page.tsx
app/auth/verify/page.tsx
app/globals.css
app/layout.tsx
app/organizer/analytics/page.tsx
app/organizer/dashboard/page.tsx
app/organizer/events/[id]/page.tsx
app/organizer/events/loading.tsx
app/organizer/events/new/page.tsx
app/organizer/events/page.tsx
app/organizer/layout.tsx
app/organizer/settings/page.tsx
app/scanner/history/page.tsx
app/scanner/layout.tsx
app/scanner/page.tsx
app/scanner/settings/page.tsx
components.json
components/events/category-filter.tsx
components/events/event-card.tsx
components/events/search-bar.tsx
components/layout/footer.tsx
components/layout/header.tsx
components/theme-provider.tsx
components/ui/avatar.tsx
components/ui/badge.tsx
components/ui/button.tsx
components/ui/card.tsx
components/ui/dropdown-menu.tsx
components/ui/input.tsx
components/ui/label.tsx
components/ui/radio-group.tsx
components/ui/select.tsx
components/ui/separator.tsx
components/ui/sheet.tsx
components/ui/switch.tsx
components/ui/table.tsx
components/ui/tabs.tsx
components/ui/textarea.tsx
lib/auth-context.tsx
lib/mock-data.ts
lib/types.ts
lib/utils.ts
next.config.mjs
package.json
postcss.config.mjs
public/apple-icon.png
public/icon-dark-32x32.png
public/icon-light-32x32.png
public/icon.svg
public/placeholder-logo.png
public/placeholder-logo.svg
public/placeholder-user.jpg
public/placeholder.jpg
public/placeholder.svg
README.md
styles/globals.css
tsconfig.json
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path=".gitignore">
# See https://help.github.com/articles/ignoring-files/ for more about ignoring files.

# dependencies
/node_modules

# next.js
/.next/
/out/

# production
/build

# debug
npm-debug.log*
yarn-debug.log*
yarn-error.log*
.pnpm-debug.log*

# env files
.env*

# vercel
.vercel

# typescript
*.tsbuildinfo
next-env.d.ts
</file>

<file path="app/(public)/checkout/[eventId]/loading.tsx">
export default function Loading() {
  return null;
}
</file>

<file path="app/(public)/checkout/[eventId]/page.tsx">
"use client";

import { useState, use, useMemo } from "react";
import Image from "next/image";
import Link from "next/link";
import { useRouter, useSearchParams } from "next/navigation";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";
import { RadioGroup, RadioGroupItem } from "@/components/ui/radio-group";
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { Separator } from "@/components/ui/separator";
import {
  Calendar,
  MapPin,
  ChevronLeft,
  Lock,
  Smartphone,
  CreditCard,
  Loader2,
  CheckCircle2,
  Ticket,
  AlertCircle,
} from "lucide-react";
import { mockEvents, formatDate, formatTime, formatRWF } from "@/lib/mock-data";
import { useAuth } from "@/lib/auth-context";

type PaymentMethod = "momo" | "airtel" | "card";

export default function CheckoutPage({
  params,
}: {
  params: Promise<{ eventId: string }>;
}) {
  const { eventId } = use(params);
  const router = useRouter();
  const searchParams = useSearchParams();
  const { user, isAuthenticated } = useAuth();

  const event = mockEvents.find((e) => e.id === eventId);

  // Parse ticket selection from URL
  const selectedTickets = useMemo(() => {
    try {
      const ticketData = searchParams.get("tickets");
      if (!ticketData) return {};
      return JSON.parse(decodeURIComponent(ticketData)) as Record<string, number>;
    } catch {
      return {};
    }
  }, [searchParams]);

  const [step, setStep] = useState<"details" | "payment" | "processing" | "success" | "failed">(
    isAuthenticated ? "details" : "details"
  );
  const [paymentMethod, setPaymentMethod] = useState<PaymentMethod>("momo");
  const [formData, setFormData] = useState({
    firstName: user?.firstName || "",
    lastName: user?.lastName || "",
    email: user?.email || "",
    phone: user?.phone || "",
    momoNumber: "",
    airtelNumber: "",
    cardNumber: "",
    cardExpiry: "",
    cardCvv: "",
  });
  const [errors, setErrors] = useState<Record<string, string>>({});

  if (!event) {
    return (
      <div className="container mx-auto px-4 py-24 text-center">
        <h1 className="text-2xl font-bold">Event not found</h1>
        <Button asChild className="mt-6">
          <Link href="/">Browse Events</Link>
        </Button>
      </div>
    );
  }

  // Calculate totals
  const orderItems = event.ticketTypes
    .filter((ticket) => selectedTickets[ticket.id] > 0)
    .map((ticket) => ({
      id: ticket.id,
      name: ticket.name,
      quantity: selectedTickets[ticket.id],
      price: ticket.price,
      subtotal: ticket.price * selectedTickets[ticket.id],
    }));

  const subtotal = orderItems.reduce((sum, item) => sum + item.subtotal, 0);
  const serviceFee = Math.round(subtotal * 0.05); // 5% service fee
  const total = subtotal + serviceFee;
  const totalTickets = orderItems.reduce((sum, item) => sum + item.quantity, 0);

  if (totalTickets === 0) {
    return (
      <div className="container mx-auto px-4 py-24 text-center">
        <AlertCircle className="mx-auto h-12 w-12 text-muted-foreground" />
        <h1 className="mt-4 text-2xl font-bold">No tickets selected</h1>
        <p className="mt-2 text-muted-foreground">
          Please select tickets before proceeding to checkout.
        </p>
        <Button asChild className="mt-6">
          <Link href={`/events/${eventId}`}>Back to Event</Link>
        </Button>
      </div>
    );
  }

  const validateDetails = () => {
    const newErrors: Record<string, string> = {};

    if (!formData.firstName.trim()) newErrors.firstName = "First name is required";
    if (!formData.lastName.trim()) newErrors.lastName = "Last name is required";
    if (!formData.email.trim()) {
      newErrors.email = "Email is required";
    } else if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(formData.email)) {
      newErrors.email = "Invalid email address";
    }
    if (!formData.phone.trim()) {
      newErrors.phone = "Phone is required";
    } else if (!/^0\d{9}$/.test(formData.phone)) {
      newErrors.phone = "Invalid phone number";
    }

    setErrors(newErrors);
    return Object.keys(newErrors).length === 0;
  };

  const validatePayment = () => {
    const newErrors: Record<string, string> = {};

    if (paymentMethod === "momo") {
      if (!formData.momoNumber.trim() || !/^07[8|9]\d{7}$/.test(formData.momoNumber)) {
        newErrors.momoNumber = "Invalid MTN number (078/079)";
      }
    } else if (paymentMethod === "airtel") {
      if (!formData.airtelNumber.trim() || !/^07[2|3]\d{7}$/.test(formData.airtelNumber)) {
        newErrors.airtelNumber = "Invalid Airtel number (072/073)";
      }
    } else if (paymentMethod === "card") {
      if (!formData.cardNumber.trim() || formData.cardNumber.replace(/\s/g, "").length !== 16) {
        newErrors.cardNumber = "Invalid card number";
      }
      if (!formData.cardExpiry.trim() || !/^\d{2}\/\d{2}$/.test(formData.cardExpiry)) {
        newErrors.cardExpiry = "Invalid expiry (MM/YY)";
      }
      if (!formData.cardCvv.trim() || !/^\d{3,4}$/.test(formData.cardCvv)) {
        newErrors.cardCvv = "Invalid CVV";
      }
    }

    setErrors(newErrors);
    return Object.keys(newErrors).length === 0;
  };

  const handleContinue = () => {
    if (step === "details" && validateDetails()) {
      setStep("payment");
    }
  };

  const handlePayment = async () => {
    if (!validatePayment()) return;

    setStep("processing");

    // Simulate payment processing
    await new Promise((resolve) => setTimeout(resolve, 3000));

    // Simulate success (90% chance) or failure
    if (Math.random() > 0.1) {
      setStep("success");
    } else {
      setStep("failed");
    }
  };

  const handleRetry = () => {
    setStep("payment");
  };

  // Processing State
  if (step === "processing") {
    return (
      <div className="min-h-[80vh] flex items-center justify-center">
        <div className="text-center">
          <div className="mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-accent/20">
            <Loader2 className="h-10 w-10 text-accent animate-spin" />
          </div>
          <h1 className="text-2xl font-bold">Processing Payment</h1>
          <p className="mt-2 text-muted-foreground">
            {paymentMethod === "momo" && "Check your phone for the MTN MoMo prompt..."}
            {paymentMethod === "airtel" && "Check your phone for the Airtel Money prompt..."}
            {paymentMethod === "card" && "Processing your card payment..."}
          </p>
          <p className="mt-4 text-sm text-muted-foreground">
            Please do not close this page
          </p>
        </div>
      </div>
    );
  }

  // Success State
  if (step === "success") {
    return (
      <div className="min-h-[80vh] flex items-center justify-center px-4">
        <div className="text-center max-w-md">
          <div className="mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-accent/20">
            <CheckCircle2 className="h-10 w-10 text-accent" />
          </div>
          <h1 className="text-3xl font-bold">Payment Successful!</h1>
          <p className="mt-2 text-muted-foreground">
            Your tickets have been confirmed. Check your email for details.
          </p>

          <Card className="mt-8 text-left">
            <CardContent className="p-6 space-y-4">
              <div className="flex items-center gap-4">
                <div className="relative h-16 w-16 shrink-0 overflow-hidden rounded-lg">
                  <Image
                    src={event.imageUrl || "/placeholder.svg"}
                    alt={event.title}
                    fill
                    className="object-cover"
                  />
                </div>
                <div>
                  <h3 className="font-semibold">{event.title}</h3>
                  <p className="text-sm text-muted-foreground">
                    {formatDate(event.date)} at {formatTime(event.date)}
                  </p>
                </div>
              </div>

              <Separator />

              <div className="space-y-2">
                {orderItems.map((item) => (
                  <div key={item.id} className="flex justify-between text-sm">
                    <span>
                      {item.quantity}x {item.name}
                    </span>
                    <span className="text-muted-foreground">{formatRWF(item.subtotal)}</span>
                  </div>
                ))}
                <div className="flex justify-between font-semibold pt-2 border-t border-border">
                  <span>Total Paid</span>
                  <span className="text-accent">{formatRWF(total)}</span>
                </div>
              </div>

              <div className="rounded-lg bg-secondary/50 p-3 text-sm">
                <p className="font-medium">Order #TKT-{Date.now().toString(36).toUpperCase()}</p>
                <p className="text-muted-foreground">
                  Confirmation sent to {formData.email}
                </p>
              </div>
            </CardContent>
          </Card>

          <div className="mt-8 flex flex-col gap-3">
            <Button asChild size="lg" className="gap-2">
              <Link href="/my-tickets">
                <Ticket className="h-5 w-5" />
                View My Tickets
              </Link>
            </Button>
            <Button asChild variant="outline" size="lg">
              <Link href="/">Browse More Events</Link>
            </Button>
          </div>
        </div>
      </div>
    );
  }

  // Failed State
  if (step === "failed") {
    return (
      <div className="min-h-[80vh] flex items-center justify-center px-4">
        <div className="text-center max-w-md">
          <div className="mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-destructive/20">
            <AlertCircle className="h-10 w-10 text-destructive" />
          </div>
          <h1 className="text-3xl font-bold">Payment Failed</h1>
          <p className="mt-2 text-muted-foreground">
            We couldn&apos;t process your payment. Please try again or use a different payment method.
          </p>

          <div className="mt-8 flex flex-col gap-3">
            <Button onClick={handleRetry} size="lg">
              Try Again
            </Button>
            <Button asChild variant="outline" size="lg">
              <Link href={`/events/${eventId}`}>Back to Event</Link>
            </Button>
          </div>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen pb-32 md:pb-12">
      {/* Header */}
      <div className="border-b border-border bg-card">
        <div className="container mx-auto px-4 py-4">
          <div className="flex items-center gap-4">
            <Button
              variant="ghost"
              size="sm"
              className="gap-2"
              onClick={() => (step === "payment" ? setStep("details") : router.back())}
            >
              <ChevronLeft className="h-4 w-4" />
              Back
            </Button>
            <div className="flex-1">
              <h1 className="font-semibold">Checkout</h1>
              <p className="text-sm text-muted-foreground">
                Step {step === "details" ? "1" : "2"} of 2
              </p>
            </div>
            <div className="flex items-center gap-1 text-sm text-muted-foreground">
              <Lock className="h-4 w-4" />
              Secure
            </div>
          </div>
        </div>
      </div>

      <div className="container mx-auto px-4 py-8">
        <div className="grid gap-8 lg:grid-cols-3">
          {/* Main Content */}
          <div className="lg:col-span-2 space-y-6">
            {/* Progress */}
            <div className="flex gap-2">
              <div className={`h-1 flex-1 rounded-full ${step === "details" || step === "payment" ? "bg-accent" : "bg-secondary"}`} />
              <div className={`h-1 flex-1 rounded-full ${step === "payment" ? "bg-accent" : "bg-secondary"}`} />
            </div>

            {step === "details" && (
              <Card>
                <CardHeader>
                  <CardTitle>Your Details</CardTitle>
                </CardHeader>
                <CardContent className="space-y-4">
                  <div className="grid gap-4 sm:grid-cols-2">
                    <div className="space-y-2">
                      <Label htmlFor="firstName">First Name</Label>
                      <Input
                        id="firstName"
                        value={formData.firstName}
                        onChange={(e) =>
                          setFormData((prev) => ({ ...prev, firstName: e.target.value }))
                        }
                        className={errors.firstName ? "border-destructive" : ""}
                      />
                      {errors.firstName && (
                        <p className="text-xs text-destructive">{errors.firstName}</p>
                      )}
                    </div>
                    <div className="space-y-2">
                      <Label htmlFor="lastName">Last Name</Label>
                      <Input
                        id="lastName"
                        value={formData.lastName}
                        onChange={(e) =>
                          setFormData((prev) => ({ ...prev, lastName: e.target.value }))
                        }
                        className={errors.lastName ? "border-destructive" : ""}
                      />
                      {errors.lastName && (
                        <p className="text-xs text-destructive">{errors.lastName}</p>
                      )}
                    </div>
                  </div>

                  <div className="space-y-2">
                    <Label htmlFor="email">Email Address</Label>
                    <Input
                      id="email"
                      type="email"
                      value={formData.email}
                      onChange={(e) =>
                        setFormData((prev) => ({ ...prev, email: e.target.value }))
                      }
                      className={errors.email ? "border-destructive" : ""}
                    />
                    {errors.email && (
                      <p className="text-xs text-destructive">{errors.email}</p>
                    )}
                    <p className="text-xs text-muted-foreground">
                      Tickets will be sent to this email
                    </p>
                  </div>

                  <div className="space-y-2">
                    <Label htmlFor="phone">Phone Number</Label>
                    <Input
                      id="phone"
                      type="tel"
                      value={formData.phone}
                      onChange={(e) =>
                        setFormData((prev) => ({ ...prev, phone: e.target.value }))
                      }
                      placeholder="0788123456"
                      className={errors.phone ? "border-destructive" : ""}
                    />
                    {errors.phone && (
                      <p className="text-xs text-destructive">{errors.phone}</p>
                    )}
                  </div>
                </CardContent>
              </Card>
            )}

            {step === "payment" && (
              <Card>
                <CardHeader>
                  <CardTitle>Payment Method</CardTitle>
                </CardHeader>
                <CardContent className="space-y-6">
                  <RadioGroup
                    value={paymentMethod}
                    onValueChange={(v) => setPaymentMethod(v as PaymentMethod)}
                    className="space-y-3"
                  >
                    <Label
                      htmlFor="momo"
                      className={`flex items-center gap-4 rounded-xl border p-4 cursor-pointer transition-colors ${
                        paymentMethod === "momo"
                          ? "border-accent bg-accent/10"
                          : "border-border hover:bg-secondary/50"
                      }`}
                    >
                      <RadioGroupItem value="momo" id="momo" />
                      <div className="flex h-10 w-10 items-center justify-center rounded-lg bg-yellow-500/20">
                        <Smartphone className="h-5 w-5 text-yellow-500" />
                      </div>
                      <div className="flex-1">
                        <p className="font-medium">MTN Mobile Money</p>
                        <p className="text-sm text-muted-foreground">Pay with MoMo</p>
                      </div>
                    </Label>

                    <Label
                      htmlFor="airtel"
                      className={`flex items-center gap-4 rounded-xl border p-4 cursor-pointer transition-colors ${
                        paymentMethod === "airtel"
                          ? "border-accent bg-accent/10"
                          : "border-border hover:bg-secondary/50"
                      }`}
                    >
                      <RadioGroupItem value="airtel" id="airtel" />
                      <div className="flex h-10 w-10 items-center justify-center rounded-lg bg-red-500/20">
                        <Smartphone className="h-5 w-5 text-red-500" />
                      </div>
                      <div className="flex-1">
                        <p className="font-medium">Airtel Money</p>
                        <p className="text-sm text-muted-foreground">Pay with Airtel Money</p>
                      </div>
                    </Label>

                    <Label
                      htmlFor="card"
                      className={`flex items-center gap-4 rounded-xl border p-4 cursor-pointer transition-colors ${
                        paymentMethod === "card"
                          ? "border-accent bg-accent/10"
                          : "border-border hover:bg-secondary/50"
                      }`}
                    >
                      <RadioGroupItem value="card" id="card" />
                      <div className="flex h-10 w-10 items-center justify-center rounded-lg bg-blue-500/20">
                        <CreditCard className="h-5 w-5 text-blue-500" />
                      </div>
                      <div className="flex-1">
                        <p className="font-medium">Credit/Debit Card</p>
                        <p className="text-sm text-muted-foreground">Visa, Mastercard</p>
                      </div>
                    </Label>
                  </RadioGroup>

                  <Separator />

                  {paymentMethod === "momo" && (
                    <div className="space-y-2">
                      <Label htmlFor="momoNumber">MTN MoMo Number</Label>
                      <Input
                        id="momoNumber"
                        type="tel"
                        value={formData.momoNumber}
                        onChange={(e) =>
                          setFormData((prev) => ({ ...prev, momoNumber: e.target.value }))
                        }
                        placeholder="078XXXXXXX or 079XXXXXXX"
                        className={errors.momoNumber ? "border-destructive" : ""}
                      />
                      {errors.momoNumber && (
                        <p className="text-xs text-destructive">{errors.momoNumber}</p>
                      )}
                      <p className="text-xs text-muted-foreground">
                        You&apos;ll receive a prompt to confirm the payment
                      </p>
                    </div>
                  )}

                  {paymentMethod === "airtel" && (
                    <div className="space-y-2">
                      <Label htmlFor="airtelNumber">Airtel Money Number</Label>
                      <Input
                        id="airtelNumber"
                        type="tel"
                        value={formData.airtelNumber}
                        onChange={(e) =>
                          setFormData((prev) => ({ ...prev, airtelNumber: e.target.value }))
                        }
                        placeholder="072XXXXXXX or 073XXXXXXX"
                        className={errors.airtelNumber ? "border-destructive" : ""}
                      />
                      {errors.airtelNumber && (
                        <p className="text-xs text-destructive">{errors.airtelNumber}</p>
                      )}
                      <p className="text-xs text-muted-foreground">
                        You&apos;ll receive a prompt to confirm the payment
                      </p>
                    </div>
                  )}

                  {paymentMethod === "card" && (
                    <div className="space-y-4">
                      <div className="space-y-2">
                        <Label htmlFor="cardNumber">Card Number</Label>
                        <Input
                          id="cardNumber"
                          value={formData.cardNumber}
                          onChange={(e) => {
                            const value = e.target.value.replace(/\D/g, "").slice(0, 16);
                            const formatted = value.replace(/(\d{4})(?=\d)/g, "$1 ");
                            setFormData((prev) => ({ ...prev, cardNumber: formatted }));
                          }}
                          placeholder="1234 5678 9012 3456"
                          className={errors.cardNumber ? "border-destructive" : ""}
                        />
                        {errors.cardNumber && (
                          <p className="text-xs text-destructive">{errors.cardNumber}</p>
                        )}
                      </div>

                      <div className="grid gap-4 sm:grid-cols-2">
                        <div className="space-y-2">
                          <Label htmlFor="cardExpiry">Expiry Date</Label>
                          <Input
                            id="cardExpiry"
                            value={formData.cardExpiry}
                            onChange={(e) => {
                              let value = e.target.value.replace(/\D/g, "");
                              if (value.length >= 2) {
                                value = value.slice(0, 2) + "/" + value.slice(2, 4);
                              }
                              setFormData((prev) => ({ ...prev, cardExpiry: value }));
                            }}
                            placeholder="MM/YY"
                            maxLength={5}
                            className={errors.cardExpiry ? "border-destructive" : ""}
                          />
                          {errors.cardExpiry && (
                            <p className="text-xs text-destructive">{errors.cardExpiry}</p>
                          )}
                        </div>
                        <div className="space-y-2">
                          <Label htmlFor="cardCvv">CVV</Label>
                          <Input
                            id="cardCvv"
                            type="password"
                            value={formData.cardCvv}
                            onChange={(e) =>
                              setFormData((prev) => ({
                                ...prev,
                                cardCvv: e.target.value.replace(/\D/g, "").slice(0, 4),
                              }))
                            }
                            placeholder="123"
                            maxLength={4}
                            className={errors.cardCvv ? "border-destructive" : ""}
                          />
                          {errors.cardCvv && (
                            <p className="text-xs text-destructive">{errors.cardCvv}</p>
                          )}
                        </div>
                      </div>
                    </div>
                  )}
                </CardContent>
              </Card>
            )}
          </div>

          {/* Order Summary */}
          <div>
            <Card className="sticky top-24">
              <CardHeader>
                <CardTitle>Order Summary</CardTitle>
              </CardHeader>
              <CardContent className="space-y-4">
                {/* Event Info */}
                <div className="flex gap-4">
                  <div className="relative h-16 w-16 shrink-0 overflow-hidden rounded-lg">
                    <Image
                      src={event.imageUrl || "/placeholder.svg"}
                      alt={event.title}
                      fill
                      className="object-cover"
                    />
                  </div>
                  <div className="min-w-0 flex-1">
                    <h3 className="font-semibold truncate">{event.title}</h3>
                    <div className="mt-1 flex items-center gap-1 text-sm text-muted-foreground">
                      <Calendar className="h-3 w-3" />
                      <span>{formatDate(event.date)}</span>
                    </div>
                    <div className="flex items-center gap-1 text-sm text-muted-foreground">
                      <MapPin className="h-3 w-3" />
                      <span className="truncate">{event.venue.name}</span>
                    </div>
                  </div>
                </div>

                <Separator />

                {/* Items */}
                <div className="space-y-2">
                  {orderItems.map((item) => (
                    <div key={item.id} className="flex justify-between text-sm">
                      <span>
                        {item.quantity}x {item.name}
                      </span>
                      <span>{formatRWF(item.subtotal)}</span>
                    </div>
                  ))}
                </div>

                <Separator />

                {/* Totals */}
                <div className="space-y-2">
                  <div className="flex justify-between text-sm">
                    <span className="text-muted-foreground">Subtotal</span>
                    <span>{formatRWF(subtotal)}</span>
                  </div>
                  <div className="flex justify-between text-sm">
                    <span className="text-muted-foreground">Service Fee (5%)</span>
                    <span>{formatRWF(serviceFee)}</span>
                  </div>
                  <Separator />
                  <div className="flex justify-between font-semibold text-lg">
                    <span>Total</span>
                    <span className="text-accent">{formatRWF(total)}</span>
                  </div>
                </div>

                {/* Desktop Button */}
                <Button
                  onClick={step === "details" ? handleContinue : handlePayment}
                  className="w-full hidden lg:flex gap-2"
                  size="lg"
                >
                  {step === "details" ? (
                    "Continue to Payment"
                  ) : (
                    <>
                      <Lock className="h-4 w-4" />
                      Pay {formatRWF(total)}
                    </>
                  )}
                </Button>
              </CardContent>
            </Card>
          </div>
        </div>
      </div>

      {/* Mobile Fixed Button */}
      <div className="fixed bottom-0 left-0 right-0 z-50 border-t border-border bg-card p-4 lg:hidden">
        <div className="container mx-auto flex items-center justify-between gap-4">
          <div>
            <p className="text-sm text-muted-foreground">{totalTickets} tickets</p>
            <p className="text-xl font-bold">{formatRWF(total)}</p>
          </div>
          <Button
            onClick={step === "details" ? handleContinue : handlePayment}
            className="gap-2"
            size="lg"
          >
            {step === "details" ? (
              "Continue"
            ) : (
              <>
                <Lock className="h-4 w-4" />
                Pay Now
              </>
            )}
          </Button>
        </div>
      </div>
    </div>
  );
}
</file>

<file path="app/(public)/events/[id]/page.tsx">
"use client";

import { useState } from "react";
import Image from "next/image";
import Link from "next/link";
import { useRouter, useParams } from "next/navigation";
import { Button } from "@/components/ui/button";
import { Badge } from "@/components/ui/badge";
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import {
  Calendar,
  MapPin,
  Clock,
  Users,
  Share2,
  Heart,
  ChevronLeft,
  Minus,
  Plus,
  ShoppingCart,
  Building2,
  ExternalLink,
} from "lucide-react";
import { mockEvents, formatDate, formatTime, formatRWF, getCategoryLabel, getCategoryColor } from "@/lib/mock-data";
import type { TicketType } from "@/lib/types";

interface TicketSelectionProps {
  ticketTypes: TicketType[];
  selectedTickets: Record<string, number>;
  onQuantityChange: (ticketId: string, quantity: number) => void;
}

function TicketSelection({ ticketTypes, selectedTickets, onQuantityChange }: TicketSelectionProps) {
  return (
    <div className="space-y-3">
      {ticketTypes.map((ticket) => {
        const available = ticket.quantity - ticket.sold;
        const isSoldOut = available <= 0;
        const quantity = selectedTickets[ticket.id] || 0;

        return (
          <div
            key={ticket.id}
            className={`rounded-xl border p-4 transition-colors ${
              quantity > 0
                ? "border-accent bg-accent/5"
                : "border-border bg-card"
            } ${isSoldOut ? "opacity-60" : ""}`}
          >
            <div className="flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between">
              <div className="flex-1">
                <div className="flex items-center gap-2">
                  <h4 className="font-semibold">{ticket.name}</h4>
                  {isSoldOut && (
                    <Badge variant="secondary" className="text-xs">
                      Sold Out
                    </Badge>
                  )}
                </div>
                <p className="mt-1 text-sm text-muted-foreground">
                  {ticket.description}
                </p>
                <p className="mt-2 text-lg font-bold text-accent">
                  {formatRWF(ticket.price)}
                </p>
                {!isSoldOut && (
                  <p className="text-xs text-muted-foreground">
                    {available} tickets left
                  </p>
                )}
              </div>

              {!isSoldOut && (
                <div className="flex items-center gap-3">
                  <Button
                    variant="outline"
                    size="icon"
                    className="h-9 w-9 rounded-full bg-transparent"
                    onClick={() =>
                      onQuantityChange(ticket.id, Math.max(0, quantity - 1))
                    }
                    disabled={quantity === 0}
                  >
                    <Minus className="h-4 w-4" />
                  </Button>
                  <span className="w-8 text-center font-semibold">{quantity}</span>
                  <Button
                    variant="outline"
                    size="icon"
                    className="h-9 w-9 rounded-full bg-transparent"
                    onClick={() =>
                      onQuantityChange(
                        ticket.id,
                        Math.min(ticket.maxPerOrder, quantity + 1, available)
                      )
                    }
                    disabled={quantity >= Math.min(ticket.maxPerOrder, available)}
                  >
                    <Plus className="h-4 w-4" />
                  </Button>
                </div>
              )}
            </div>
          </div>
        );
      })}
    </div>
  );
}

export default function EventDetailsPage() {
  const params = useParams();
  const id = params.id as string;
  const router = useRouter();
  const event = mockEvents.find((e) => e.id === id);
  const [selectedTickets, setSelectedTickets] = useState<Record<string, number>>({});
  const [isLiked, setIsLiked] = useState(false);

  if (!event) {
    return (
      <div className="container mx-auto px-4 py-24 text-center">
        <h1 className="text-2xl font-bold">Event not found</h1>
        <p className="mt-2 text-muted-foreground">
          The event you&apos;re looking for doesn&apos;t exist.
        </p>
        <Button asChild className="mt-6">
          <Link href="/">Browse Events</Link>
        </Button>
      </div>
    );
  }

  const handleQuantityChange = (ticketId: string, quantity: number) => {
    setSelectedTickets((prev) => ({
      ...prev,
      [ticketId]: quantity,
    }));
  };

  const totalTickets = Object.values(selectedTickets).reduce((a, b) => a + b, 0);
  const totalPrice = event.ticketTypes.reduce((sum, ticket) => {
    return sum + (selectedTickets[ticket.id] || 0) * ticket.price;
  }, 0);

  const handleCheckout = () => {
    if (totalTickets === 0) return;
    const ticketData = encodeURIComponent(JSON.stringify(selectedTickets));
    router.push(`/checkout/${event.id}?tickets=${ticketData}`);
  };

  const totalSold = event.ticketTypes.reduce((sum, t) => sum + t.sold, 0);

  return (
    <div className="min-h-screen">
      {/* Hero Image */}
      <div className="relative h-[40vh] min-h-[300px] md:h-[50vh]">
        <Image
          src={event.imageUrl || "/placeholder.svg"}
          alt={event.title}
          fill
          className="object-cover"
          priority
        />
        <div className="absolute inset-0 bg-gradient-to-t from-background via-background/50 to-transparent" />

        {/* Back Button */}
        <div className="absolute left-4 top-4 z-10">
          <Button
            variant="secondary"
            size="sm"
            className="gap-2 rounded-full bg-background/80 backdrop-blur-sm"
            onClick={() => router.back()}
          >
            <ChevronLeft className="h-4 w-4" />
            Back
          </Button>
        </div>

        {/* Actions */}
        <div className="absolute right-4 top-4 z-10 flex gap-2">
          <Button
            variant="secondary"
            size="icon"
            className="rounded-full bg-background/80 backdrop-blur-sm"
            onClick={() => setIsLiked(!isLiked)}
          >
            <Heart
              className={`h-5 w-5 ${isLiked ? "fill-red-500 text-red-500" : ""}`}
            />
          </Button>
          <Button
            variant="secondary"
            size="icon"
            className="rounded-full bg-background/80 backdrop-blur-sm"
          >
            <Share2 className="h-5 w-5" />
          </Button>
        </div>
      </div>

      {/* Content */}
      <div className="container mx-auto px-4 pb-32 md:pb-12">
        <div className="relative -mt-24 md:-mt-32">
          <div className="grid gap-8 lg:grid-cols-3">
            {/* Main Content */}
            <div className="lg:col-span-2">
              <Card className="border-border/50 bg-card/95 backdrop-blur">
                <CardContent className="p-6 md:p-8">
                  {/* Category & Date */}
                  <div className="flex flex-wrap items-center gap-3">
                    <Badge
                      variant="secondary"
                      className={`${getCategoryColor(event.category)} border-0`}
                    >
                      {getCategoryLabel(event.category)}
                    </Badge>
                    <div className="flex items-center gap-2 text-sm text-muted-foreground">
                      <Calendar className="h-4 w-4" />
                      <span>{formatDate(event.date)}</span>
                    </div>
                    <div className="flex items-center gap-2 text-sm text-muted-foreground">
                      <Clock className="h-4 w-4" />
                      <span>{formatTime(event.date)}</span>
                      {event.endDate && <span>- {formatTime(event.endDate)}</span>}
                    </div>
                  </div>

                  {/* Title */}
                  <h1 className="mt-4 text-3xl font-bold text-balance md:text-4xl">
                    {event.title}
                  </h1>

                  {/* Organizer */}
                  <div className="mt-4 flex items-center gap-3">
                    <div className="flex h-10 w-10 items-center justify-center rounded-full bg-secondary">
                      <Building2 className="h-5 w-5 text-muted-foreground" />
                    </div>
                    <div>
                      <p className="text-sm text-muted-foreground">Organized by</p>
                      <p className="font-medium">{event.organizerName}</p>
                    </div>
                  </div>

                  {/* Location */}
                  <div className="mt-6 rounded-xl bg-secondary/50 p-4">
                    <div className="flex items-start gap-3">
                      <MapPin className="mt-0.5 h-5 w-5 shrink-0 text-accent" />
                      <div>
                        <p className="font-semibold">{event.venue.name}</p>
                        <p className="text-sm text-muted-foreground">
                          {event.venue.address}, {event.venue.city}
                        </p>
                        {event.venue.mapUrl && (
                          <a
                            href={event.venue.mapUrl}
                            target="_blank"
                            rel="noopener noreferrer"
                            className="mt-2 inline-flex items-center gap-1 text-sm text-accent hover:underline"
                          >
                            View on map
                            <ExternalLink className="h-3 w-3" />
                          </a>
                        )}
                      </div>
                    </div>
                  </div>

                  {/* Attendees */}
                  <div className="mt-4 flex items-center gap-2 text-sm text-muted-foreground">
                    <Users className="h-4 w-4" />
                    <span>{totalSold.toLocaleString()} people attending</span>
                  </div>

                  {/* Description */}
                  <div className="mt-8">
                    <h2 className="text-xl font-semibold">About This Event</h2>
                    <div className="mt-4 space-y-4 text-muted-foreground leading-relaxed whitespace-pre-line">
                      {event.description}
                    </div>
                  </div>
                </CardContent>
              </Card>
            </div>

            {/* Ticket Selection - Sidebar on Desktop */}
            <div className="hidden lg:block">
              <div className="sticky top-24">
                <Card className="border-border/50 bg-card">
                  <CardHeader>
                    <CardTitle>Select Tickets</CardTitle>
                  </CardHeader>
                  <CardContent className="space-y-6">
                    <TicketSelection
                      ticketTypes={event.ticketTypes}
                      selectedTickets={selectedTickets}
                      onQuantityChange={handleQuantityChange}
                    />

                    {totalTickets > 0 && (
                      <div className="border-t border-border pt-4">
                        <div className="flex items-center justify-between text-sm">
                          <span className="text-muted-foreground">
                            {totalTickets} ticket{totalTickets !== 1 && "s"}
                          </span>
                          <span className="text-xl font-bold">
                            {formatRWF(totalPrice)}
                          </span>
                        </div>
                      </div>
                    )}

                    <Button
                      onClick={handleCheckout}
                      disabled={totalTickets === 0}
                      className="w-full gap-2"
                      size="lg"
                    >
                      <ShoppingCart className="h-5 w-5" />
                      {totalTickets > 0 ? "Continue to Checkout" : "Select Tickets"}
                    </Button>
                  </CardContent>
                </Card>
              </div>
            </div>
          </div>

          {/* Ticket Selection - Mobile */}
          <div className="mt-8 lg:hidden">
            <Card className="border-border/50 bg-card">
              <CardHeader>
                <CardTitle>Select Tickets</CardTitle>
              </CardHeader>
              <CardContent>
                <TicketSelection
                  ticketTypes={event.ticketTypes}
                  selectedTickets={selectedTickets}
                  onQuantityChange={handleQuantityChange}
                />
              </CardContent>
            </Card>
          </div>
        </div>
      </div>

      {/* Mobile Checkout Bar */}
      <div className="fixed bottom-0 left-0 right-0 z-50 border-t border-border bg-card p-4 lg:hidden">
        <div className="container mx-auto flex items-center justify-between gap-4">
          {totalTickets > 0 ? (
            <>
              <div>
                <p className="text-sm text-muted-foreground">
                  {totalTickets} ticket{totalTickets !== 1 && "s"}
                </p>
                <p className="text-xl font-bold">{formatRWF(totalPrice)}</p>
              </div>
              <Button onClick={handleCheckout} className="gap-2" size="lg">
                <ShoppingCart className="h-5 w-5" />
                Checkout
              </Button>
            </>
          ) : (
            <>
              <div>
                <p className="text-lg font-semibold">
                  From {formatRWF(Math.min(...event.ticketTypes.map((t) => t.price)))}
                </p>
              </div>
              <Button disabled size="lg">
                Select Tickets Above
              </Button>
            </>
          )}
        </div>
      </div>
    </div>
  );
}
</file>

<file path="app/(public)/layout.tsx">
import React from "react"
import { Header } from "@/components/layout/header";
import { Footer } from "@/components/layout/footer";
import { AuthProvider } from "@/lib/auth-context";

export default function PublicLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <AuthProvider>
      <div className="flex min-h-screen flex-col">
        <Header />
        <main className="flex-1">{children}</main>
        <Footer />
      </div>
    </AuthProvider>
  );
}
</file>

<file path="app/(public)/loading.tsx">
export default function Loading() {
  return null;
}
</file>

<file path="app/(public)/my-tickets/[id]/page.tsx">
"use client";

import { use, useState } from "react";
import Image from "next/image";
import Link from "next/link";
import { useRouter } from "next/navigation";
import { Button } from "@/components/ui/button";
import { Card, CardContent } from "@/components/ui/card";
import { Badge } from "@/components/ui/badge";
import { Separator } from "@/components/ui/separator";
import {
  Calendar,
  MapPin,
  Clock,
  ChevronLeft,
  Download,
  Share2,
  Info,
  CheckCircle2,
  XCircle,
  AlertCircle,
  ExternalLink,
} from "lucide-react";
import { mockTickets, formatDate, formatTime, formatRWF } from "@/lib/mock-data";
import { useAuth } from "@/lib/auth-context";
import { QRCodeSVG } from "qrcode.react";

export default function TicketDetailPage({
  params,
}: {
  params: Promise<{ id: string }>;
}) {
  const { id } = use(params);
  const router = useRouter();
  const { isAuthenticated } = useAuth();
  const [showFullQR, setShowFullQR] = useState(false);

  const ticket = mockTickets.find((t) => t.id === id);

  if (!isAuthenticated) {
    return (
      <div className="container mx-auto px-4 py-24 text-center">
        <h1 className="text-2xl font-bold">Sign in to view this ticket</h1>
        <Button asChild className="mt-6">
          <Link href={`/auth/signin?redirect=/my-tickets/${id}`}>Sign In</Link>
        </Button>
      </div>
    );
  }

  if (!ticket) {
    return (
      <div className="container mx-auto px-4 py-24 text-center">
        <h1 className="text-2xl font-bold">Ticket not found</h1>
        <p className="mt-2 text-muted-foreground">
          The ticket you&apos;re looking for doesn&apos;t exist.
        </p>
        <Button asChild className="mt-6">
          <Link href="/my-tickets">View All Tickets</Link>
        </Button>
      </div>
    );
  }

  const statusConfig = {
    valid: {
      color: "bg-accent/20 text-accent",
      icon: CheckCircle2,
      label: "Valid",
      description: "This ticket is ready to be scanned at the event.",
    },
    used: {
      color: "bg-muted text-muted-foreground",
      icon: CheckCircle2,
      label: "Used",
      description: "This ticket has already been scanned.",
    },
    expired: {
      color: "bg-destructive/20 text-destructive",
      icon: XCircle,
      label: "Expired",
      description: "This ticket has expired and can no longer be used.",
    },
    cancelled: {
      color: "bg-destructive/20 text-destructive",
      icon: AlertCircle,
      label: "Cancelled",
      description: "This ticket has been cancelled.",
    },
  };

  const status = statusConfig[ticket.status];
  const StatusIcon = status.icon;

  return (
    <>
      {/* Full Screen QR Modal */}
      {showFullQR && (
        <div
          className="fixed inset-0 z-50 flex items-center justify-center bg-background/95 backdrop-blur-sm p-4"
          onClick={() => setShowFullQR(false)}
        >
          <div className="text-center">
            <div className="bg-foreground p-6 rounded-2xl inline-block">
              <QRCodeSVG
                value={ticket.qrCode}
                size={280}
                level="H"
                includeMargin={false}
                className="rounded-lg"
              />
            </div>
            <p className="mt-4 text-lg font-mono font-bold">{ticket.qrCode}</p>
            <p className="mt-2 text-muted-foreground">Tap anywhere to close</p>
          </div>
        </div>
      )}

      <div className="min-h-screen pb-32 md:pb-12">
        {/* Header */}
        <div className="border-b border-border bg-card">
          <div className="container mx-auto px-4 py-4">
            <div className="flex items-center gap-4">
              <Button
                variant="ghost"
                size="sm"
                className="gap-2"
                onClick={() => router.back()}
              >
                <ChevronLeft className="h-4 w-4" />
                Back
              </Button>
              <div className="flex-1">
                <h1 className="font-semibold">Ticket Details</h1>
              </div>
              <Button variant="ghost" size="icon">
                <Share2 className="h-5 w-5" />
              </Button>
            </div>
          </div>
        </div>

        <div className="container mx-auto px-4 py-8">
          <div className="mx-auto max-w-2xl">
            {/* Ticket Card */}
            <Card className="overflow-hidden">
              {/* Event Image */}
              <div className="relative h-48">
                <Image
                  src={ticket.event.imageUrl || "/placeholder.svg"}
                  alt={ticket.event.title}
                  fill
                  className="object-cover"
                />
                <div className="absolute inset-0 bg-gradient-to-t from-card via-card/50 to-transparent" />
                
                {/* Status Badge */}
                <div className="absolute bottom-4 left-4">
                  <Badge variant="secondary" className={`${status.color} gap-1`}>
                    <StatusIcon className="h-3 w-3" />
                    {status.label}
                  </Badge>
                </div>
              </div>

              <CardContent className="p-6 space-y-6">
                {/* Event Info */}
                <div>
                  <p className="text-sm text-accent font-medium">
                    {ticket.ticketTypeName}
                  </p>
                  <h2 className="mt-1 text-2xl font-bold">{ticket.event.title}</h2>
                  <p className="mt-2 text-muted-foreground">
                    by {ticket.event.organizerName}
                  </p>
                </div>

                {/* Date, Time, Location */}
                <div className="space-y-3">
                  <div className="flex items-center gap-3">
                    <div className="flex h-10 w-10 items-center justify-center rounded-lg bg-secondary">
                      <Calendar className="h-5 w-5 text-accent" />
                    </div>
                    <div>
                      <p className="font-medium">{formatDate(ticket.event.date)}</p>
                      <p className="text-sm text-muted-foreground">Date</p>
                    </div>
                  </div>

                  <div className="flex items-center gap-3">
                    <div className="flex h-10 w-10 items-center justify-center rounded-lg bg-secondary">
                      <Clock className="h-5 w-5 text-accent" />
                    </div>
                    <div>
                      <p className="font-medium">
                        {formatTime(ticket.event.date)}
                        {ticket.event.endDate && ` - ${formatTime(ticket.event.endDate)}`}
                      </p>
                      <p className="text-sm text-muted-foreground">Time</p>
                    </div>
                  </div>

                  <div className="flex items-center gap-3">
                    <div className="flex h-10 w-10 items-center justify-center rounded-lg bg-secondary">
                      <MapPin className="h-5 w-5 text-accent" />
                    </div>
                    <div className="flex-1">
                      <p className="font-medium">{ticket.event.venue.name}</p>
                      <p className="text-sm text-muted-foreground">
                        {ticket.event.venue.address}, {ticket.event.venue.city}
                      </p>
                    </div>
                    {ticket.event.venue.mapUrl && (
                      <Button variant="ghost" size="sm" asChild>
                        <a
                          href={ticket.event.venue.mapUrl}
                          target="_blank"
                          rel="noopener noreferrer"
                        >
                          <ExternalLink className="h-4 w-4" />
                        </a>
                      </Button>
                    )}
                  </div>
                </div>

                <Separator />

                {/* QR Code */}
                <div className="text-center">
                  <p className="text-sm text-muted-foreground mb-4">
                    Show this QR code at the entrance
                  </p>
                  <button
                    type="button"
                    onClick={() => setShowFullQR(true)}
                    className="inline-block rounded-2xl bg-foreground p-4 transition-transform hover:scale-105"
                  >
                    <QRCodeSVG
                      value={ticket.qrCode}
                      size={180}
                      level="H"
                      includeMargin={false}
                      className="rounded-lg"
                    />
                  </button>
                  <p className="mt-4 font-mono text-sm font-bold text-muted-foreground">
                    {ticket.qrCode}
                  </p>
                  <p className="mt-2 text-xs text-muted-foreground">
                    Tap QR code to enlarge
                  </p>
                </div>

                <Separator />

                {/* Order Details */}
                <div className="space-y-3">
                  <h3 className="font-semibold">Order Details</h3>
                  <div className="rounded-lg bg-secondary/50 p-4 space-y-2">
                    <div className="flex justify-between text-sm">
                      <span className="text-muted-foreground">Ticket Type</span>
                      <span>{ticket.ticketTypeName}</span>
                    </div>
                    <div className="flex justify-between text-sm">
                      <span className="text-muted-foreground">Price Paid</span>
                      <span>{formatRWF(ticket.price)}</span>
                    </div>
                    <div className="flex justify-between text-sm">
                      <span className="text-muted-foreground">Purchase Date</span>
                      <span>{formatDate(ticket.purchaseDate)}</span>
                    </div>
                    <div className="flex justify-between text-sm">
                      <span className="text-muted-foreground">Ticket ID</span>
                      <span className="font-mono">{ticket.id}</span>
                    </div>
                  </div>
                </div>

                {/* Status Info */}
                <div className="rounded-lg bg-secondary/50 p-4">
                  <div className="flex items-start gap-3">
                    <Info className="h-5 w-5 shrink-0 text-muted-foreground mt-0.5" />
                    <div>
                      <p className="font-medium">Ticket Status: {status.label}</p>
                      <p className="text-sm text-muted-foreground">
                        {status.description}
                      </p>
                    </div>
                  </div>
                </div>

                {/* Entry Instructions */}
                <div className="rounded-lg border border-accent/30 bg-accent/10 p-4">
                  <h4 className="font-semibold text-accent">Entry Instructions</h4>
                  <ul className="mt-2 space-y-1 text-sm text-muted-foreground">
                    <li>- Arrive at least 30 minutes before the event starts</li>
                    <li>- Have your QR code ready for scanning</li>
                    <li>- Bring a valid ID for verification if required</li>
                    <li>- This ticket is non-transferable</li>
                  </ul>
                </div>
              </CardContent>
            </Card>

            {/* Action Buttons - Desktop */}
            <div className="mt-6 hidden md:flex gap-4">
              <Button variant="outline" className="flex-1 gap-2 bg-transparent">
                <Download className="h-4 w-4" />
                Download Ticket
              </Button>
              <Button asChild className="flex-1">
                <Link href={`/events/${ticket.eventId}`}>View Event Details</Link>
              </Button>
            </div>
          </div>
        </div>

        {/* Mobile Fixed Buttons */}
        <div className="fixed bottom-0 left-0 right-0 z-40 border-t border-border bg-card p-4 md:hidden">
          <div className="container mx-auto flex gap-3">
            <Button variant="outline" className="flex-1 gap-2 bg-transparent">
              <Download className="h-4 w-4" />
              Download
            </Button>
            <Button onClick={() => setShowFullQR(true)} className="flex-1">
              Show QR Code
            </Button>
          </div>
        </div>
      </div>
    </>
  );
}
</file>

<file path="app/(public)/my-tickets/loading.tsx">
export default function Loading() {
  return null;
}
</file>

<file path="app/(public)/my-tickets/page.tsx">
"use client";

import { useState } from "react";
import Image from "next/image";
import Link from "next/link";
import { Button } from "@/components/ui/button";
import { Card, CardContent } from "@/components/ui/card";
import { Badge } from "@/components/ui/badge";
import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/components/ui/tabs";
import {
  Calendar,
  MapPin,
  Clock,
  Ticket,
  QrCode,
  ChevronRight,
  Search,
} from "lucide-react";
import { mockTickets, formatDate, formatTime, formatRWF } from "@/lib/mock-data";
import { useAuth } from "@/lib/auth-context";

function TicketCard({
  ticket,
  isPast = false,
}: {
  ticket: (typeof mockTickets)[0];
  isPast?: boolean;
}) {
  const statusColors = {
    valid: "bg-accent/20 text-accent",
    used: "bg-muted text-muted-foreground",
    expired: "bg-destructive/20 text-destructive",
    cancelled: "bg-destructive/20 text-destructive",
  };

  return (
    <Link href={`/my-tickets/${ticket.id}`}>
      <Card className={`group overflow-hidden transition-all hover:border-accent/50 ${isPast ? "opacity-75" : ""}`}>
        <CardContent className="p-0">
          <div className="flex flex-col sm:flex-row">
            {/* Event Image */}
            <div className="relative h-40 sm:h-auto sm:w-40 shrink-0">
              <Image
                src={ticket.event.imageUrl || "/placeholder.svg"}
                alt={ticket.event.title}
                fill
                className="object-cover"
              />
              <div className="absolute inset-0 bg-gradient-to-r from-transparent to-background/80 hidden sm:block" />
            </div>

            {/* Content */}
            <div className="flex-1 p-4 sm:p-5">
              <div className="flex items-start justify-between gap-4">
                <div className="flex-1 min-w-0">
                  <div className="flex items-center gap-2 mb-2">
                    <Badge
                      variant="secondary"
                      className={statusColors[ticket.status]}
                    >
                      {ticket.status.charAt(0).toUpperCase() + ticket.status.slice(1)}
                    </Badge>
                    <span className="text-sm text-muted-foreground">
                      {ticket.ticketTypeName}
                    </span>
                  </div>

                  <h3 className="font-semibold text-lg group-hover:text-accent transition-colors truncate">
                    {ticket.event.title}
                  </h3>

                  <div className="mt-3 space-y-1">
                    <div className="flex items-center gap-2 text-sm text-muted-foreground">
                      <Calendar className="h-4 w-4 shrink-0" />
                      <span>{formatDate(ticket.event.date)}</span>
                    </div>
                    <div className="flex items-center gap-2 text-sm text-muted-foreground">
                      <Clock className="h-4 w-4 shrink-0" />
                      <span>{formatTime(ticket.event.date)}</span>
                    </div>
                    <div className="flex items-center gap-2 text-sm text-muted-foreground">
                      <MapPin className="h-4 w-4 shrink-0" />
                      <span className="truncate">{ticket.event.venue.name}</span>
                    </div>
                  </div>
                </div>

                <div className="flex flex-col items-end gap-2">
                  <div className="flex h-12 w-12 items-center justify-center rounded-lg bg-secondary">
                    <QrCode className="h-6 w-6 text-muted-foreground" />
                  </div>
                  <ChevronRight className="h-5 w-5 text-muted-foreground group-hover:text-accent transition-colors" />
                </div>
              </div>
            </div>
          </div>
        </CardContent>
      </Card>
    </Link>
  );
}

export default function MyTicketsPage() {
  const { isAuthenticated } = useAuth();
  const [activeTab, setActiveTab] = useState("upcoming");

  const now = new Date();
  const upcomingTickets = mockTickets.filter(
    (t) => t.event.date > now && t.status !== "cancelled"
  );
  const pastTickets = mockTickets.filter(
    (t) => t.event.date <= now || t.status === "cancelled" || t.status === "used"
  );

  if (!isAuthenticated) {
    return (
      <div className="container mx-auto px-4 py-24 text-center">
        <div className="mx-auto max-w-md">
          <div className="mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-secondary">
            <Ticket className="h-10 w-10 text-muted-foreground" />
          </div>
          <h1 className="text-2xl font-bold">Sign in to view your tickets</h1>
          <p className="mt-2 text-muted-foreground">
            Access your tickets, view QR codes, and get event details.
          </p>
          <div className="mt-8 flex flex-col gap-3">
            <Button asChild size="lg">
              <Link href="/auth/signin?redirect=/my-tickets">Sign In</Link>
            </Button>
            <Button asChild variant="outline" size="lg">
              <Link href="/auth/signup">Create Account</Link>
            </Button>
          </div>
        </div>
      </div>
    );
  }

  return (
    <div className="container mx-auto px-4 py-8 md:py-12">
      <div className="mb-8">
        <h1 className="text-3xl font-bold">My Tickets</h1>
        <p className="mt-2 text-muted-foreground">
          Access and manage all your event tickets
        </p>
      </div>

      <Tabs value={activeTab} onValueChange={setActiveTab}>
        <TabsList className="mb-6">
          <TabsTrigger value="upcoming" className="gap-2">
            <Ticket className="h-4 w-4" />
            Upcoming ({upcomingTickets.length})
          </TabsTrigger>
          <TabsTrigger value="past" className="gap-2">
            <Clock className="h-4 w-4" />
            Past ({pastTickets.length})
          </TabsTrigger>
        </TabsList>

        <TabsContent value="upcoming" className="space-y-4">
          {upcomingTickets.length > 0 ? (
            upcomingTickets.map((ticket) => (
              <TicketCard key={ticket.id} ticket={ticket} />
            ))
          ) : (
            <Card className="border-dashed">
              <CardContent className="py-12 text-center">
                <Search className="mx-auto h-12 w-12 text-muted-foreground/50" />
                <h3 className="mt-4 text-lg font-semibold">No upcoming tickets</h3>
                <p className="mt-2 text-muted-foreground">
                  Browse events and get your tickets today!
                </p>
                <Button asChild className="mt-6">
                  <Link href="/">Explore Events</Link>
                </Button>
              </CardContent>
            </Card>
          )}
        </TabsContent>

        <TabsContent value="past" className="space-y-4">
          {pastTickets.length > 0 ? (
            pastTickets.map((ticket) => (
              <TicketCard key={ticket.id} ticket={ticket} isPast />
            ))
          ) : (
            <Card className="border-dashed">
              <CardContent className="py-12 text-center">
                <Clock className="mx-auto h-12 w-12 text-muted-foreground/50" />
                <h3 className="mt-4 text-lg font-semibold">No past tickets</h3>
                <p className="mt-2 text-muted-foreground">
                  Your attended events will appear here.
                </p>
              </CardContent>
            </Card>
          )}
        </TabsContent>
      </Tabs>
    </div>
  );
}
</file>

<file path="app/(public)/page.tsx">
"use client";

import { Suspense, useMemo } from "react";
import { useSearchParams } from "next/navigation";
import { SearchBar } from "@/components/events/search-bar";
import { CategoryFilter } from "@/components/events/category-filter";
import { EventCard } from "@/components/events/event-card";
import { mockEvents } from "@/lib/mock-data";
import { Ticket, TrendingUp, Shield, Zap } from "lucide-react";

function HeroSection() {
  return (
    <section className="relative overflow-hidden border-b border-border/50 bg-gradient-to-b from-secondary/50 to-background">
      <div className="absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-accent/10 via-transparent to-transparent" />
      <div className="container mx-auto px-4 py-16 md:py-24">
        <div className="relative mx-auto max-w-3xl text-center">
          <div className="mb-6 inline-flex items-center gap-2 rounded-full bg-accent/10 px-4 py-2 text-sm font-medium text-accent">
            <Ticket className="h-4 w-4" />
            <span>Rwanda&apos;s Trusted Event Platform</span>
          </div>
          <h1 className="text-4xl font-bold tracking-tight text-balance md:text-5xl lg:text-6xl">
            Discover Amazing Events in{" "}
            <span className="text-accent">Kigali</span>
          </h1>
          <p className="mx-auto mt-6 max-w-xl text-lg text-muted-foreground leading-relaxed">
            Find and book tickets for concerts, festivals, conferences, and more.
            Your next unforgettable experience is just a click away.
          </p>
          <div className="mt-8">
            <Suspense fallback={null}>
              <SearchBar className="mx-auto max-w-xl" />
            </Suspense>
          </div>
        </div>
      </div>
    </section>
  );
}

function FeaturesSection() {
  const features = [
    {
      icon: Shield,
      title: "Secure Payments",
      description: "Pay with MTN MoMo, Airtel Money, or card",
    },
    {
      icon: Zap,
      title: "Instant Tickets",
      description: "Get your QR tickets immediately",
    },
    {
      icon: TrendingUp,
      title: "Best Prices",
      description: "No hidden fees, transparent pricing",
    },
  ];

  return (
    <section className="border-b border-border/50 bg-card/50">
      <div className="container mx-auto px-4 py-8">
        <div className="grid gap-6 md:grid-cols-3">
          {features.map((feature) => (
            <div
              key={feature.title}
              className="flex items-center gap-4 rounded-xl bg-background/50 p-4"
            >
              <div className="flex h-12 w-12 shrink-0 items-center justify-center rounded-lg bg-accent/10">
                <feature.icon className="h-6 w-6 text-accent" />
              </div>
              <div>
                <h3 className="font-semibold">{feature.title}</h3>
                <p className="text-sm text-muted-foreground">
                  {feature.description}
                </p>
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>
  );
}

function EventsSection() {
  const searchParams = useSearchParams();
  const category = searchParams.get("category");
  const query = searchParams.get("q")?.toLowerCase();

  const filteredEvents = useMemo(() => {
    let events = mockEvents.filter((e) => e.isPublished);

    if (category && category !== "all") {
      events = events.filter((e) => e.category === category);
    }

    if (query) {
      events = events.filter(
        (e) =>
          e.title.toLowerCase().includes(query) ||
          e.shortDescription.toLowerCase().includes(query) ||
          e.venue.name.toLowerCase().includes(query) ||
          e.organizerName.toLowerCase().includes(query)
      );
    }

    return events;
  }, [category, query]);

  const featuredEvents = filteredEvents.filter((e) => e.isFeatured);
  const upcomingEvents = filteredEvents.sort(
    (a, b) => a.date.getTime() - b.date.getTime()
  );

  return (
    <section className="py-12">
      <div className="container mx-auto px-4">
        {/* Category Filter */}
        <Suspense fallback={null}>
          <CategoryFilter />
        </Suspense>

        {/* Featured Events */}
        {featuredEvents.length > 0 && !query && (
          <div className="mt-10">
            <h2 className="mb-6 text-2xl font-bold">Featured Events</h2>
            <div className="grid gap-6 lg:grid-cols-2">
              {featuredEvents.slice(0, 2).map((event) => (
                <EventCard key={event.id} event={event} featured />
              ))}
            </div>
          </div>
        )}

        {/* All Events */}
        <div className="mt-12">
          <div className="mb-6 flex items-center justify-between">
            <h2 className="text-2xl font-bold">
              {query
                ? `Search Results`
                : category && category !== "all"
                ? `${category.charAt(0).toUpperCase() + category.slice(1)} Events`
                : "Upcoming Events"}
            </h2>
            <p className="text-sm text-muted-foreground">
              {filteredEvents.length} event{filteredEvents.length !== 1 && "s"}
            </p>
          </div>

          {filteredEvents.length > 0 ? (
            <div className="grid gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4">
              {upcomingEvents.map((event) => (
                <EventCard key={event.id} event={event} />
              ))}
            </div>
          ) : (
            <div className="rounded-xl border border-dashed border-border p-12 text-center">
              <Ticket className="mx-auto h-12 w-12 text-muted-foreground/50" />
              <h3 className="mt-4 text-lg font-semibold">No events found</h3>
              <p className="mt-2 text-muted-foreground">
                {query
                  ? `No events match "${query}". Try a different search.`
                  : "Check back soon for upcoming events in this category."}
              </p>
            </div>
          )}
        </div>
      </div>
    </section>
  );
}

export default function HomePage() {
  return (
    <>
      <HeroSection />
      <FeaturesSection />
      <Suspense fallback={<div className="py-12" />}>
        <EventsSection />
      </Suspense>
    </>
  );
}
</file>

<file path="app/admin/events/loading.tsx">
export default function Loading() {
  return null;
}
</file>

<file path="app/admin/events/page.tsx">
"use client";

import { useState } from "react";
import Link from "next/link";
import Image from "next/image";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Badge } from "@/components/ui/badge";
import { Card, CardContent } from "@/components/ui/card";
import {
  Select,
  SelectContent,
  SelectItem,
  SelectTrigger,
  SelectValue,
} from "@/components/ui/select";
import {
  Table,
  TableBody,
  TableCell,
  TableHead,
  TableHeader,
  TableRow,
} from "@/components/ui/table";
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuSeparator,
  DropdownMenuTrigger,
} from "@/components/ui/dropdown-menu";
import {
  Search,
  Filter,
  MoreHorizontal,
  Eye,
  CheckCircle,
  XCircle,
  Ban,
  Calendar,
  Download,
} from "lucide-react";
import { mockEvents } from "@/lib/mock-data";

export default function AdminEventsPage() {
  const [searchQuery, setSearchQuery] = useState("");
  const [statusFilter, setStatusFilter] = useState("all");
  const [categoryFilter, setCategoryFilter] = useState("all");

  const filteredEvents = mockEvents.filter((event) => {
    const matchesSearch = event.title
      .toLowerCase()
      .includes(searchQuery.toLowerCase());
    const matchesStatus =
      statusFilter === "all" || event.status === statusFilter;
    const matchesCategory =
      categoryFilter === "all" ||
      event.category.toLowerCase() === categoryFilter;
    return matchesSearch && matchesStatus && matchesCategory;
  });

  const getStatusBadge = (status: string) => {
    switch (status) {
      case "published":
        return (
          <Badge
            variant="outline"
            className="bg-green-500/10 text-green-500 border-green-500/20"
          >
            Published
          </Badge>
        );
      case "draft":
        return (
          <Badge
            variant="outline"
            className="bg-yellow-500/10 text-yellow-500 border-yellow-500/20"
          >
            Draft
          </Badge>
        );
      case "pending":
        return (
          <Badge
            variant="outline"
            className="bg-blue-500/10 text-blue-500 border-blue-500/20"
          >
            Pending
          </Badge>
        );
      case "cancelled":
        return (
          <Badge
            variant="outline"
            className="bg-red-500/10 text-red-500 border-red-500/20"
          >
            Cancelled
          </Badge>
        );
      default:
        return (
          <Badge variant="outline" className="bg-muted text-muted-foreground">
            {status}
          </Badge>
        );
    }
  };

  return (
    <div className="space-y-6">
      {/* Header */}
      <div className="flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between">
        <div>
          <h1 className="text-2xl font-semibold tracking-tight">Events</h1>
          <p className="text-sm text-muted-foreground">
            Manage and moderate all events on the platform
          </p>
        </div>
        <Button variant="outline" size="sm">
          <Download className="mr-2 h-4 w-4" />
          Export
        </Button>
      </div>

      {/* Stats */}
      <div className="grid gap-4 grid-cols-2 lg:grid-cols-4">
        {[
          { label: "Total Events", value: mockEvents.length, color: "text-foreground" },
          {
            label: "Published",
            value: mockEvents.filter((e) => e.status === "published").length,
            color: "text-green-500",
          },
          {
            label: "Pending Review",
            value: mockEvents.filter((e) => e.status === "pending").length,
            color: "text-blue-500",
          },
          {
            label: "Drafts",
            value: mockEvents.filter((e) => e.status === "draft").length,
            color: "text-yellow-500",
          },
        ].map((stat) => (
          <Card key={stat.label} className="border-border/50 bg-card/50">
            <CardContent className="pt-6">
              <p className="text-sm text-muted-foreground">{stat.label}</p>
              <p className={`text-2xl font-semibold mt-1 ${stat.color}`}>
                {stat.value}
              </p>
            </CardContent>
          </Card>
        ))}
      </div>

      {/* Filters */}
      <div className="flex flex-col sm:flex-row gap-3">
        <div className="relative flex-1">
          <Search className="absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground" />
          <Input
            placeholder="Search events..."
            value={searchQuery}
            onChange={(e) => setSearchQuery(e.target.value)}
            className="pl-9 bg-secondary/50"
          />
        </div>
        <Select value={statusFilter} onValueChange={setStatusFilter}>
          <SelectTrigger className="w-full sm:w-[150px] bg-secondary/50">
            <Filter className="mr-2 h-4 w-4" />
            <SelectValue placeholder="Status" />
          </SelectTrigger>
          <SelectContent>
            <SelectItem value="all">All Status</SelectItem>
            <SelectItem value="published">Published</SelectItem>
            <SelectItem value="pending">Pending</SelectItem>
            <SelectItem value="draft">Draft</SelectItem>
            <SelectItem value="cancelled">Cancelled</SelectItem>
          </SelectContent>
        </Select>
        <Select value={categoryFilter} onValueChange={setCategoryFilter}>
          <SelectTrigger className="w-full sm:w-[150px] bg-secondary/50">
            <Calendar className="mr-2 h-4 w-4" />
            <SelectValue placeholder="Category" />
          </SelectTrigger>
          <SelectContent>
            <SelectItem value="all">All Categories</SelectItem>
            <SelectItem value="music">Music</SelectItem>
            <SelectItem value="business">Business</SelectItem>
            <SelectItem value="sports">Sports</SelectItem>
            <SelectItem value="arts & culture">Arts & Culture</SelectItem>
            <SelectItem value="food & drink">Food & Drink</SelectItem>
          </SelectContent>
        </Select>
      </div>

      {/* Events Table */}
      <Card className="border-border/50 bg-card/50 backdrop-blur">
        <div className="overflow-x-auto">
          <Table>
            <TableHeader>
              <TableRow className="bg-secondary/30 hover:bg-secondary/30">
                <TableHead className="whitespace-nowrap">Event</TableHead>
                <TableHead className="whitespace-nowrap">Organizer</TableHead>
                <TableHead className="whitespace-nowrap">Date</TableHead>
                <TableHead className="whitespace-nowrap">Tickets</TableHead>
                <TableHead className="whitespace-nowrap">Revenue</TableHead>
                <TableHead className="whitespace-nowrap">Status</TableHead>
                <TableHead className="w-10" />
              </TableRow>
            </TableHeader>
            <TableBody>
              {filteredEvents.length === 0 ? (
                <TableRow>
                  <TableCell
                    colSpan={7}
                    className="text-center py-8 text-muted-foreground"
                  >
                    No events found
                  </TableCell>
                </TableRow>
              ) : (
                filteredEvents.map((event) => (
                  <TableRow key={event.id}>
                    <TableCell>
                      <div className="flex items-center gap-3">
                        <div className="relative w-12 h-12 rounded-lg overflow-hidden shrink-0">
                          <Image
                            src={event.coverImage || "/placeholder.svg"}
                            alt={event.title}
                            fill
                            className="object-cover"
                          />
                        </div>
                        <div className="min-w-0">
                          <p className="font-medium truncate max-w-[200px]">
                            {event.title}
                          </p>
                          <p className="text-xs text-muted-foreground capitalize">
                            {event.category}
                          </p>
                        </div>
                      </div>
                    </TableCell>
                    <TableCell className="whitespace-nowrap">
                      <p className="text-sm">{event.organizerName}</p>
                    </TableCell>
                    <TableCell className="whitespace-nowrap">
                      <p className="text-sm">
                        {new Date(event.date).toLocaleDateString()}
                      </p>
                    </TableCell>
                    <TableCell className="whitespace-nowrap">
                      <p className="text-sm">
                        {event.ticketsSold}/
                        {event.ticketTiers.reduce((acc, t) => acc + t.quantity, 0)}
                      </p>
                    </TableCell>
                    <TableCell className="whitespace-nowrap">
                      <p className="text-sm font-medium">
                        {(event.ticketsSold * event.ticketTiers[0].price).toLocaleString()} RWF
                      </p>
                    </TableCell>
                    <TableCell className="whitespace-nowrap">
                      {getStatusBadge(event.status)}
                    </TableCell>
                    <TableCell>
                      <DropdownMenu>
                        <DropdownMenuTrigger asChild>
                          <Button variant="ghost" size="icon" className="h-8 w-8">
                            <MoreHorizontal className="h-4 w-4" />
                          </Button>
                        </DropdownMenuTrigger>
                        <DropdownMenuContent align="end">
                          <DropdownMenuItem asChild>
                            <Link href={`/events/${event.id}`} target="_blank">
                              <Eye className="mr-2 h-4 w-4" />
                              View Event
                            </Link>
                          </DropdownMenuItem>
                          {event.status === "pending" && (
                            <>
                              <DropdownMenuItem className="text-green-500">
                                <CheckCircle className="mr-2 h-4 w-4" />
                                Approve
                              </DropdownMenuItem>
                              <DropdownMenuItem className="text-red-500">
                                <XCircle className="mr-2 h-4 w-4" />
                                Reject
                              </DropdownMenuItem>
                            </>
                          )}
                          <DropdownMenuSeparator />
                          <DropdownMenuItem className="text-destructive">
                            <Ban className="mr-2 h-4 w-4" />
                            Suspend Event
                          </DropdownMenuItem>
                        </DropdownMenuContent>
                      </DropdownMenu>
                    </TableCell>
                  </TableRow>
                ))
              )}
            </TableBody>
          </Table>
        </div>
      </Card>
    </div>
  );
}
</file>

<file path="app/admin/layout.tsx">
"use client";

import React from "react"

import { useState, useEffect } from "react";
import Link from "next/link";
import { usePathname, useRouter } from "next/navigation";
import { Button } from "@/components/ui/button";
import { Avatar, AvatarFallback } from "@/components/ui/avatar";
import { Badge } from "@/components/ui/badge";
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuSeparator,
  DropdownMenuTrigger,
} from "@/components/ui/dropdown-menu";
import { Sheet, SheetContent, SheetTrigger } from "@/components/ui/sheet";
import {
  LayoutDashboard,
  Calendar,
  Users,
  UserCircle,
  CreditCard,
  Settings,
  LogOut,
  Menu,
  Bell,
  Shield,
  ChevronDown,
  BarChart3,
} from "lucide-react";
import { cn } from "@/lib/utils";
import { useAuth } from "@/lib/auth-context";

const navItems = [
  { href: "/admin", label: "Dashboard", icon: LayoutDashboard },
  { href: "/admin/events", label: "Events", icon: Calendar },
  { href: "/admin/users", label: "Users", icon: Users },
  { href: "/admin/organizers", label: "Organizers", icon: UserCircle },
  { href: "/admin/transactions", label: "Transactions", icon: CreditCard },
  { href: "/admin/analytics", label: "Analytics", icon: BarChart3 },
  { href: "/admin/settings", label: "Settings", icon: Settings },
];

export default function AdminLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  const pathname = usePathname();
  const router = useRouter();
  const { user, logout, isLoading } = useAuth();
  const [sidebarOpen, setSidebarOpen] = useState(false);

  useEffect(() => {
    if (!isLoading && !user) {
      router.push("/auth/signin?redirect=/admin");
    }
    if (!isLoading && user && user.role !== "admin") {
      router.push("/");
    }
  }, [user, isLoading, router]);

  if (isLoading) {
    return (
      <div className="min-h-screen flex items-center justify-center bg-background">
        <div className="animate-pulse text-muted-foreground">Loading...</div>
      </div>
    );
  }

  if (!user || user.role !== "admin") {
    return null;
  }

  const NavContent = () => (
    <nav className="flex flex-col gap-1 p-4">
      {navItems.map((item) => {
        const isActive =
          pathname === item.href ||
          (item.href !== "/admin" && pathname.startsWith(item.href));
        return (
          <Link
            key={item.href}
            href={item.href}
            onClick={() => setSidebarOpen(false)}
            className={cn(
              "flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-colors",
              isActive
                ? "bg-accent/10 text-accent"
                : "text-muted-foreground hover:text-foreground hover:bg-secondary/50"
            )}
          >
            <item.icon className="h-5 w-5" />
            {item.label}
          </Link>
        );
      })}
    </nav>
  );

  return (
    <div className="min-h-screen bg-background">
      {/* Desktop Sidebar */}
      <aside className="fixed left-0 top-0 bottom-0 z-40 hidden w-64 border-r border-border/50 bg-card/50 backdrop-blur lg:block">
        <div className="flex h-full flex-col">
          {/* Logo */}
          <div className="flex items-center gap-2 h-16 px-6 border-b border-border/50">
            <div className="w-8 h-8 rounded-lg bg-accent flex items-center justify-center">
              <Shield className="h-4 w-4 text-accent-foreground" />
            </div>
            <span className="font-semibold text-lg">Admin</span>
            <Badge variant="outline" className="ml-auto text-xs">
              v1.0
            </Badge>
          </div>

          {/* Navigation */}
          <div className="flex-1 overflow-auto">
            <NavContent />
          </div>

          {/* User */}
          <div className="p-4 border-t border-border/50">
            <div className="flex items-center gap-3 px-3 py-2 rounded-lg bg-secondary/30">
              <Avatar className="h-9 w-9">
                <AvatarFallback className="bg-accent/10 text-accent text-sm">
                  {user.name.charAt(0)}
                </AvatarFallback>
              </Avatar>
              <div className="flex-1 min-w-0">
                <p className="text-sm font-medium truncate">{user.name}</p>
                <p className="text-xs text-muted-foreground capitalize">
                  {user.role}
                </p>
              </div>
            </div>
          </div>
        </div>
      </aside>

      {/* Mobile Header */}
      <header className="sticky top-0 z-50 flex items-center justify-between h-14 px-4 border-b border-border/50 bg-background/95 backdrop-blur lg:hidden">
        <Sheet open={sidebarOpen} onOpenChange={setSidebarOpen}>
          <SheetTrigger asChild>
            <Button variant="ghost" size="icon">
              <Menu className="h-5 w-5" />
            </Button>
          </SheetTrigger>
          <SheetContent side="left" className="w-64 p-0">
            <div className="flex items-center gap-2 h-16 px-6 border-b border-border/50">
              <div className="w-8 h-8 rounded-lg bg-accent flex items-center justify-center">
                <Shield className="h-4 w-4 text-accent-foreground" />
              </div>
              <span className="font-semibold text-lg">Admin</span>
            </div>
            <NavContent />
          </SheetContent>
        </Sheet>

        <div className="flex items-center gap-2">
          <div className="w-8 h-8 rounded-lg bg-accent flex items-center justify-center lg:hidden">
            <Shield className="h-4 w-4 text-accent-foreground" />
          </div>
          <span className="font-semibold">Admin</span>
        </div>

        <div className="flex items-center gap-2">
          <Button variant="ghost" size="icon" className="relative">
            <Bell className="h-5 w-5" />
            <span className="absolute top-1 right-1 w-2 h-2 bg-accent rounded-full" />
          </Button>
          <DropdownMenu>
            <DropdownMenuTrigger asChild>
              <Button variant="ghost" size="icon">
                <Avatar className="h-8 w-8">
                  <AvatarFallback className="bg-accent/10 text-accent text-xs">
                    {user.name.charAt(0)}
                  </AvatarFallback>
                </Avatar>
              </Button>
            </DropdownMenuTrigger>
            <DropdownMenuContent align="end">
              <div className="px-2 py-1.5">
                <p className="text-sm font-medium">{user.name}</p>
                <p className="text-xs text-muted-foreground">{user.email}</p>
              </div>
              <DropdownMenuSeparator />
              <DropdownMenuItem onClick={logout}>
                <LogOut className="mr-2 h-4 w-4" />
                Sign Out
              </DropdownMenuItem>
            </DropdownMenuContent>
          </DropdownMenu>
        </div>
      </header>

      {/* Desktop Header */}
      <header className="fixed top-0 right-0 left-64 z-40 hidden h-16 items-center justify-between border-b border-border/50 bg-background/95 backdrop-blur px-6 lg:flex">
        <div>
          <h1 className="text-lg font-semibold">
            {navItems.find(
              (item) =>
                pathname === item.href ||
                (item.href !== "/admin" && pathname.startsWith(item.href))
            )?.label || "Dashboard"}
          </h1>
        </div>
        <div className="flex items-center gap-3">
          <Button variant="ghost" size="icon" className="relative">
            <Bell className="h-5 w-5" />
            <span className="absolute top-2 right-2 w-2 h-2 bg-accent rounded-full" />
          </Button>
          <DropdownMenu>
            <DropdownMenuTrigger asChild>
              <Button variant="ghost" className="gap-2">
                <Avatar className="h-8 w-8">
                  <AvatarFallback className="bg-accent/10 text-accent text-xs">
                    {user.name.charAt(0)}
                  </AvatarFallback>
                </Avatar>
                <span className="hidden sm:inline">{user.name}</span>
                <ChevronDown className="h-4 w-4 text-muted-foreground" />
              </Button>
            </DropdownMenuTrigger>
            <DropdownMenuContent align="end">
              <div className="px-2 py-1.5">
                <p className="text-sm font-medium">{user.name}</p>
                <p className="text-xs text-muted-foreground">{user.email}</p>
              </div>
              <DropdownMenuSeparator />
              <DropdownMenuItem onClick={logout}>
                <LogOut className="mr-2 h-4 w-4" />
                Sign Out
              </DropdownMenuItem>
            </DropdownMenuContent>
          </DropdownMenu>
        </div>
      </header>

      {/* Main Content */}
      <main className="lg:ml-64 lg:pt-16 min-h-screen">
        <div className="p-4 lg:p-6">{children}</div>
      </main>
    </div>
  );
}
</file>

<file path="app/admin/page.tsx">
"use client";

import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { Badge } from "@/components/ui/badge";
import {
  DollarSign,
  Ticket,
  Users,
  Calendar,
  TrendingUp,
  TrendingDown,
  ArrowRight,
  Clock,
} from "lucide-react";
import Link from "next/link";
import {
  LineChart,
  Line,
  XAxis,
  YAxis,
  CartesianGrid,
  Tooltip,
  ResponsiveContainer,
} from "recharts";

const revenueData = [
  { day: "Mon", revenue: 1200000 },
  { day: "Tue", revenue: 980000 },
  { day: "Wed", revenue: 1450000 },
  { day: "Thu", revenue: 1680000 },
  { day: "Fri", revenue: 2100000 },
  { day: "Sat", revenue: 2850000 },
  { day: "Sun", revenue: 2200000 },
];

const recentActivities = [
  {
    type: "event",
    message: "New event 'Tech Summit 2026' created",
    time: "5 min ago",
    user: "Kigali Events Ltd",
  },
  {
    type: "user",
    message: "New organizer registered",
    time: "12 min ago",
    user: "Rwanda Events Co",
  },
  {
    type: "ticket",
    message: "50 tickets sold for Jazz Festival",
    time: "25 min ago",
    user: "System",
  },
  {
    type: "payout",
    message: "Payout of 450,000 RWF processed",
    time: "1 hour ago",
    user: "Music Africa",
  },
  {
    type: "event",
    message: "Event 'Food & Wine Expo' published",
    time: "2 hours ago",
    user: "Taste Rwanda",
  },
];

const pendingApprovals = [
  {
    id: "1",
    name: "Kigali Comedy Night",
    organizer: "Laugh Rwanda",
    date: "Feb 15, 2026",
    type: "event",
  },
  {
    id: "2",
    name: "Rwanda Arts Hub",
    email: "info@artsrw.com",
    date: "Jan 30, 2026",
    type: "organizer",
  },
  {
    id: "3",
    name: "Sports Gala 2026",
    organizer: "Sports Rwanda",
    date: "Mar 5, 2026",
    type: "event",
  },
];

export default function AdminDashboardPage() {
  return (
    <div className="space-y-6">
      {/* Stats Grid */}
      <div className="grid gap-4 grid-cols-2 lg:grid-cols-4">
        <Card className="border-border/50 bg-card/50 backdrop-blur">
          <CardContent className="pt-6">
            <div className="flex items-center justify-between">
              <div>
                <p className="text-sm text-muted-foreground">Total Revenue</p>
                <p className="text-2xl font-semibold mt-1">45.2M RWF</p>
                <div className="flex items-center gap-1 mt-1">
                  <TrendingUp className="h-3 w-3 text-green-500" />
                  <span className="text-xs text-green-500">+18.2%</span>
                </div>
              </div>
              <div className="p-3 rounded-xl bg-accent/10">
                <DollarSign className="h-6 w-6 text-accent" />
              </div>
            </div>
          </CardContent>
        </Card>

        <Card className="border-border/50 bg-card/50 backdrop-blur">
          <CardContent className="pt-6">
            <div className="flex items-center justify-between">
              <div>
                <p className="text-sm text-muted-foreground">Tickets Sold</p>
                <p className="text-2xl font-semibold mt-1">12,847</p>
                <div className="flex items-center gap-1 mt-1">
                  <TrendingUp className="h-3 w-3 text-green-500" />
                  <span className="text-xs text-green-500">+12.5%</span>
                </div>
              </div>
              <div className="p-3 rounded-xl bg-blue-500/10">
                <Ticket className="h-6 w-6 text-blue-500" />
              </div>
            </div>
          </CardContent>
        </Card>

        <Card className="border-border/50 bg-card/50 backdrop-blur">
          <CardContent className="pt-6">
            <div className="flex items-center justify-between">
              <div>
                <p className="text-sm text-muted-foreground">Total Users</p>
                <p className="text-2xl font-semibold mt-1">8,432</p>
                <div className="flex items-center gap-1 mt-1">
                  <TrendingUp className="h-3 w-3 text-green-500" />
                  <span className="text-xs text-green-500">+8.7%</span>
                </div>
              </div>
              <div className="p-3 rounded-xl bg-purple-500/10">
                <Users className="h-6 w-6 text-purple-500" />
              </div>
            </div>
          </CardContent>
        </Card>

        <Card className="border-border/50 bg-card/50 backdrop-blur">
          <CardContent className="pt-6">
            <div className="flex items-center justify-between">
              <div>
                <p className="text-sm text-muted-foreground">Active Events</p>
                <p className="text-2xl font-semibold mt-1">156</p>
                <div className="flex items-center gap-1 mt-1">
                  <TrendingDown className="h-3 w-3 text-red-500" />
                  <span className="text-xs text-red-500">-3.2%</span>
                </div>
              </div>
              <div className="p-3 rounded-xl bg-orange-500/10">
                <Calendar className="h-6 w-6 text-orange-500" />
              </div>
            </div>
          </CardContent>
        </Card>
      </div>

      {/* Charts & Activity Row */}
      <div className="grid gap-6 lg:grid-cols-3">
        {/* Revenue Chart */}
        <Card className="border-border/50 bg-card/50 backdrop-blur lg:col-span-2">
          <CardHeader className="flex flex-row items-center justify-between pb-2">
            <CardTitle className="text-lg">Weekly Revenue</CardTitle>
            <Link
              href="/admin/analytics"
              className="text-sm text-accent hover:underline flex items-center gap-1"
            >
              View Details
              <ArrowRight className="h-3 w-3" />
            </Link>
          </CardHeader>
          <CardContent>
            <div className="h-[280px] w-full">
              <ResponsiveContainer width="100%" height="100%">
                <LineChart data={revenueData}>
                  <CartesianGrid
                    strokeDasharray="3 3"
                    stroke="hsl(var(--border))"
                  />
                  <XAxis
                    dataKey="day"
                    stroke="hsl(var(--muted-foreground))"
                    fontSize={12}
                  />
                  <YAxis
                    stroke="hsl(var(--muted-foreground))"
                    fontSize={12}
                    tickFormatter={(value) => `${(value / 1000000).toFixed(1)}M`}
                  />
                  <Tooltip
                    contentStyle={{
                      backgroundColor: "hsl(var(--card))",
                      border: "1px solid hsl(var(--border))",
                      borderRadius: "8px",
                    }}
                    formatter={(value: number) => [
                      `${value.toLocaleString()} RWF`,
                      "Revenue",
                    ]}
                  />
                  <Line
                    type="monotone"
                    dataKey="revenue"
                    stroke="hsl(var(--accent))"
                    strokeWidth={2}
                    dot={{ fill: "hsl(var(--accent))", strokeWidth: 2 }}
                  />
                </LineChart>
              </ResponsiveContainer>
            </div>
          </CardContent>
        </Card>

        {/* Recent Activity */}
        <Card className="border-border/50 bg-card/50 backdrop-blur">
          <CardHeader className="pb-2">
            <CardTitle className="text-lg">Recent Activity</CardTitle>
          </CardHeader>
          <CardContent>
            <div className="space-y-4">
              {recentActivities.map((activity, i) => (
                <div key={i} className="flex items-start gap-3">
                  <div className="w-8 h-8 rounded-full bg-secondary/50 flex items-center justify-center shrink-0">
                    <Clock className="h-4 w-4 text-muted-foreground" />
                  </div>
                  <div className="flex-1 min-w-0">
                    <p className="text-sm line-clamp-2">{activity.message}</p>
                    <div className="flex items-center gap-2 mt-1">
                      <span className="text-xs text-muted-foreground">
                        {activity.time}
                      </span>
                      <span className="text-xs text-muted-foreground"></span>
                      <span className="text-xs text-muted-foreground truncate">
                        {activity.user}
                      </span>
                    </div>
                  </div>
                </div>
              ))}
            </div>
          </CardContent>
        </Card>
      </div>

      {/* Pending Approvals */}
      <Card className="border-border/50 bg-card/50 backdrop-blur">
        <CardHeader className="flex flex-row items-center justify-between pb-2">
          <div className="flex items-center gap-2">
            <CardTitle className="text-lg">Pending Approvals</CardTitle>
            <Badge variant="outline" className="bg-accent/10 text-accent border-accent/20">
              {pendingApprovals.length}
            </Badge>
          </div>
          <Link
            href="/admin/events?status=pending"
            className="text-sm text-accent hover:underline flex items-center gap-1"
          >
            View All
            <ArrowRight className="h-3 w-3" />
          </Link>
        </CardHeader>
        <CardContent>
          <div className="space-y-3">
            {pendingApprovals.map((item) => (
              <div
                key={item.id}
                className="flex flex-col sm:flex-row sm:items-center justify-between gap-3 p-3 rounded-lg bg-secondary/30"
              >
                <div className="flex items-center gap-3">
                  <Badge
                    variant="outline"
                    className={
                      item.type === "event"
                        ? "bg-blue-500/10 text-blue-500 border-blue-500/20"
                        : "bg-purple-500/10 text-purple-500 border-purple-500/20"
                    }
                  >
                    {item.type}
                  </Badge>
                  <div>
                    <p className="font-medium text-sm">{item.name}</p>
                    <p className="text-xs text-muted-foreground">
                      {item.type === "event" ? item.organizer : item.email}
                    </p>
                  </div>
                </div>
                <div className="flex items-center gap-2 ml-auto">
                  <span className="text-xs text-muted-foreground">
                    {item.date}
                  </span>
                  <Link href={`/admin/${item.type === "event" ? "events" : "organizers"}/${item.id}`}>
                    <Badge
                      variant="outline"
                      className="cursor-pointer hover:bg-accent/10"
                    >
                      Review
                    </Badge>
                  </Link>
                </div>
              </div>
            ))}
          </div>
        </CardContent>
      </Card>
    </div>
  );
}
</file>

<file path="app/admin/transactions/loading.tsx">
export default function Loading() {
  return null;
}
</file>

<file path="app/admin/transactions/page.tsx">
"use client";

import { useState } from "react";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Badge } from "@/components/ui/badge";
import { Card, CardContent } from "@/components/ui/card";
import {
  Select,
  SelectContent,
  SelectItem,
  SelectTrigger,
  SelectValue,
} from "@/components/ui/select";
import {
  Table,
  TableBody,
  TableCell,
  TableHead,
  TableHeader,
  TableRow,
} from "@/components/ui/table";
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuTrigger,
} from "@/components/ui/dropdown-menu";
import {
  Search,
  Filter,
  MoreHorizontal,
  Eye,
  Download,
  RefreshCw,
  DollarSign,
  TrendingUp,
  ArrowUpRight,
  ArrowDownRight,
} from "lucide-react";

// Mock transactions data
const mockTransactions = [
  {
    id: "TXN-001",
    orderId: "ORD-001",
    buyerName: "John Doe",
    buyerEmail: "john@example.com",
    eventTitle: "Kigali Jazz Festival 2026",
    amount: 75000,
    platformFee: 3750,
    paymentMethod: "MTN MoMo",
    status: "completed",
    createdAt: "2026-01-28T14:30:00",
  },
  {
    id: "TXN-002",
    orderId: "ORD-002",
    buyerName: "Jane Smith",
    buyerEmail: "jane@example.com",
    eventTitle: "Tech Summit 2026",
    amount: 50000,
    platformFee: 2500,
    paymentMethod: "Airtel Money",
    status: "completed",
    createdAt: "2026-01-28T12:15:00",
  },
  {
    id: "TXN-003",
    orderId: "ORD-003",
    buyerName: "Mike Johnson",
    buyerEmail: "mike@example.com",
    eventTitle: "Food & Wine Expo",
    amount: 25000,
    platformFee: 1250,
    paymentMethod: "MTN MoMo",
    status: "pending",
    createdAt: "2026-01-28T11:45:00",
  },
  {
    id: "TXN-004",
    orderId: "ORD-004",
    buyerName: "Sarah Williams",
    buyerEmail: "sarah@example.com",
    eventTitle: "Kigali Jazz Festival 2026",
    amount: 150000,
    platformFee: 7500,
    paymentMethod: "Visa",
    status: "completed",
    createdAt: "2026-01-27T18:20:00",
  },
  {
    id: "TXN-005",
    orderId: "ORD-005",
    buyerName: "David Brown",
    buyerEmail: "david@example.com",
    eventTitle: "Art Exhibition",
    amount: 10000,
    platformFee: 500,
    paymentMethod: "MTN MoMo",
    status: "failed",
    createdAt: "2026-01-27T16:30:00",
  },
  {
    id: "TXN-006",
    orderId: "ORD-006",
    buyerName: "Emily Davis",
    buyerEmail: "emily@example.com",
    eventTitle: "Sports Gala 2026",
    amount: 35000,
    platformFee: 1750,
    paymentMethod: "Airtel Money",
    status: "refunded",
    createdAt: "2026-01-27T14:10:00",
  },
];

export default function AdminTransactionsPage() {
  const [searchQuery, setSearchQuery] = useState("");
  const [statusFilter, setStatusFilter] = useState("all");
  const [methodFilter, setMethodFilter] = useState("all");

  const filteredTransactions = mockTransactions.filter((txn) => {
    const matchesSearch =
      txn.buyerName.toLowerCase().includes(searchQuery.toLowerCase()) ||
      txn.id.toLowerCase().includes(searchQuery.toLowerCase()) ||
      txn.eventTitle.toLowerCase().includes(searchQuery.toLowerCase());
    const matchesStatus =
      statusFilter === "all" || txn.status === statusFilter;
    const matchesMethod =
      methodFilter === "all" ||
      txn.paymentMethod.toLowerCase().includes(methodFilter.toLowerCase());
    return matchesSearch && matchesStatus && matchesMethod;
  });

  const totalRevenue = mockTransactions
    .filter((t) => t.status === "completed")
    .reduce((acc, t) => acc + t.amount, 0);
  const totalFees = mockTransactions
    .filter((t) => t.status === "completed")
    .reduce((acc, t) => acc + t.platformFee, 0);

  const getStatusBadge = (status: string) => {
    switch (status) {
      case "completed":
        return (
          <Badge
            variant="outline"
            className="bg-green-500/10 text-green-500 border-green-500/20"
          >
            Completed
          </Badge>
        );
      case "pending":
        return (
          <Badge
            variant="outline"
            className="bg-yellow-500/10 text-yellow-500 border-yellow-500/20"
          >
            Pending
          </Badge>
        );
      case "failed":
        return (
          <Badge
            variant="outline"
            className="bg-red-500/10 text-red-500 border-red-500/20"
          >
            Failed
          </Badge>
        );
      case "refunded":
        return (
          <Badge
            variant="outline"
            className="bg-blue-500/10 text-blue-500 border-blue-500/20"
          >
            Refunded
          </Badge>
        );
      default:
        return (
          <Badge variant="outline" className="bg-muted text-muted-foreground">
            {status}
          </Badge>
        );
    }
  };

  return (
    <div className="space-y-6">
      {/* Header */}
      <div className="flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between">
        <div>
          <h1 className="text-2xl font-semibold tracking-tight">Transactions</h1>
          <p className="text-sm text-muted-foreground">
            Monitor all payment transactions
          </p>
        </div>
        <Button variant="outline" size="sm">
          <Download className="mr-2 h-4 w-4" />
          Export
        </Button>
      </div>

      {/* Stats */}
      <div className="grid gap-4 grid-cols-2 lg:grid-cols-4">
        <Card className="border-border/50 bg-card/50">
          <CardContent className="pt-6">
            <div className="flex items-center justify-between">
              <div>
                <p className="text-sm text-muted-foreground">Total Volume</p>
                <p className="text-2xl font-semibold mt-1">
                  {totalRevenue.toLocaleString()} RWF
                </p>
                <div className="flex items-center gap-1 mt-1">
                  <ArrowUpRight className="h-3 w-3 text-green-500" />
                  <span className="text-xs text-green-500">+15.3%</span>
                </div>
              </div>
              <div className="p-3 rounded-xl bg-accent/10">
                <DollarSign className="h-6 w-6 text-accent" />
              </div>
            </div>
          </CardContent>
        </Card>

        <Card className="border-border/50 bg-card/50">
          <CardContent className="pt-6">
            <div className="flex items-center justify-between">
              <div>
                <p className="text-sm text-muted-foreground">Platform Fees</p>
                <p className="text-2xl font-semibold mt-1">
                  {totalFees.toLocaleString()} RWF
                </p>
                <div className="flex items-center gap-1 mt-1">
                  <ArrowUpRight className="h-3 w-3 text-green-500" />
                  <span className="text-xs text-green-500">+12.8%</span>
                </div>
              </div>
              <div className="p-3 rounded-xl bg-green-500/10">
                <TrendingUp className="h-6 w-6 text-green-500" />
              </div>
            </div>
          </CardContent>
        </Card>

        <Card className="border-border/50 bg-card/50">
          <CardContent className="pt-6">
            <p className="text-sm text-muted-foreground">Success Rate</p>
            <p className="text-2xl font-semibold mt-1">94.2%</p>
            <div className="flex items-center gap-1 mt-1">
              <ArrowUpRight className="h-3 w-3 text-green-500" />
              <span className="text-xs text-green-500">+2.1%</span>
            </div>
          </CardContent>
        </Card>

        <Card className="border-border/50 bg-card/50">
          <CardContent className="pt-6">
            <p className="text-sm text-muted-foreground">Pending</p>
            <p className="text-2xl font-semibold mt-1">
              {mockTransactions.filter((t) => t.status === "pending").length}
            </p>
            <div className="flex items-center gap-1 mt-1">
              <ArrowDownRight className="h-3 w-3 text-red-500" />
              <span className="text-xs text-red-500">-5 from yesterday</span>
            </div>
          </CardContent>
        </Card>
      </div>

      {/* Filters */}
      <div className="flex flex-col sm:flex-row gap-3">
        <div className="relative flex-1">
          <Search className="absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground" />
          <Input
            placeholder="Search transactions..."
            value={searchQuery}
            onChange={(e) => setSearchQuery(e.target.value)}
            className="pl-9 bg-secondary/50"
          />
        </div>
        <Select value={statusFilter} onValueChange={setStatusFilter}>
          <SelectTrigger className="w-full sm:w-[150px] bg-secondary/50">
            <Filter className="mr-2 h-4 w-4" />
            <SelectValue placeholder="Status" />
          </SelectTrigger>
          <SelectContent>
            <SelectItem value="all">All Status</SelectItem>
            <SelectItem value="completed">Completed</SelectItem>
            <SelectItem value="pending">Pending</SelectItem>
            <SelectItem value="failed">Failed</SelectItem>
            <SelectItem value="refunded">Refunded</SelectItem>
          </SelectContent>
        </Select>
        <Select value={methodFilter} onValueChange={setMethodFilter}>
          <SelectTrigger className="w-full sm:w-[150px] bg-secondary/50">
            <SelectValue placeholder="Method" />
          </SelectTrigger>
          <SelectContent>
            <SelectItem value="all">All Methods</SelectItem>
            <SelectItem value="mtn">MTN MoMo</SelectItem>
            <SelectItem value="airtel">Airtel Money</SelectItem>
            <SelectItem value="visa">Visa/Card</SelectItem>
          </SelectContent>
        </Select>
      </div>

      {/* Transactions Table */}
      <Card className="border-border/50 bg-card/50 backdrop-blur">
        <div className="overflow-x-auto">
          <Table>
            <TableHeader>
              <TableRow className="bg-secondary/30 hover:bg-secondary/30">
                <TableHead className="whitespace-nowrap">Transaction ID</TableHead>
                <TableHead className="whitespace-nowrap">Customer</TableHead>
                <TableHead className="whitespace-nowrap">Event</TableHead>
                <TableHead className="whitespace-nowrap">Amount</TableHead>
                <TableHead className="whitespace-nowrap">Fee</TableHead>
                <TableHead className="whitespace-nowrap">Method</TableHead>
                <TableHead className="whitespace-nowrap">Status</TableHead>
                <TableHead className="whitespace-nowrap">Date</TableHead>
                <TableHead className="w-10" />
              </TableRow>
            </TableHeader>
            <TableBody>
              {filteredTransactions.length === 0 ? (
                <TableRow>
                  <TableCell
                    colSpan={9}
                    className="text-center py-8 text-muted-foreground"
                  >
                    No transactions found
                  </TableCell>
                </TableRow>
              ) : (
                filteredTransactions.map((txn) => (
                  <TableRow key={txn.id}>
                    <TableCell className="font-mono text-xs whitespace-nowrap">
                      {txn.id}
                    </TableCell>
                    <TableCell className="whitespace-nowrap">
                      <div>
                        <p className="font-medium text-sm">{txn.buyerName}</p>
                        <p className="text-xs text-muted-foreground">
                          {txn.buyerEmail}
                        </p>
                      </div>
                    </TableCell>
                    <TableCell className="whitespace-nowrap">
                      <p className="text-sm truncate max-w-[150px]">
                        {txn.eventTitle}
                      </p>
                    </TableCell>
                    <TableCell className="whitespace-nowrap font-medium">
                      {txn.amount.toLocaleString()} RWF
                    </TableCell>
                    <TableCell className="whitespace-nowrap text-sm text-muted-foreground">
                      {txn.platformFee.toLocaleString()} RWF
                    </TableCell>
                    <TableCell className="whitespace-nowrap text-sm">
                      {txn.paymentMethod}
                    </TableCell>
                    <TableCell className="whitespace-nowrap">
                      {getStatusBadge(txn.status)}
                    </TableCell>
                    <TableCell className="whitespace-nowrap text-sm text-muted-foreground">
                      {new Date(txn.createdAt).toLocaleDateString()}
                    </TableCell>
                    <TableCell>
                      <DropdownMenu>
                        <DropdownMenuTrigger asChild>
                          <Button variant="ghost" size="icon" className="h-8 w-8">
                            <MoreHorizontal className="h-4 w-4" />
                          </Button>
                        </DropdownMenuTrigger>
                        <DropdownMenuContent align="end">
                          <DropdownMenuItem>
                            <Eye className="mr-2 h-4 w-4" />
                            View Details
                          </DropdownMenuItem>
                          {txn.status === "pending" && (
                            <DropdownMenuItem>
                              <RefreshCw className="mr-2 h-4 w-4" />
                              Retry Payment
                            </DropdownMenuItem>
                          )}
                          {txn.status === "completed" && (
                            <DropdownMenuItem className="text-destructive">
                              <RefreshCw className="mr-2 h-4 w-4" />
                              Process Refund
                            </DropdownMenuItem>
                          )}
                        </DropdownMenuContent>
                      </DropdownMenu>
                    </TableCell>
                  </TableRow>
                ))
              )}
            </TableBody>
          </Table>
        </div>
      </Card>
    </div>
  );
}
</file>

<file path="app/admin/users/loading.tsx">
export default function Loading() {
  return null;
}
</file>

<file path="app/admin/users/page.tsx">
"use client";

import { useState } from "react";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Badge } from "@/components/ui/badge";
import { Card, CardContent } from "@/components/ui/card";
import { Avatar, AvatarFallback } from "@/components/ui/avatar";
import {
  Select,
  SelectContent,
  SelectItem,
  SelectTrigger,
  SelectValue,
} from "@/components/ui/select";
import {
  Table,
  TableBody,
  TableCell,
  TableHead,
  TableHeader,
  TableRow,
} from "@/components/ui/table";
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuSeparator,
  DropdownMenuTrigger,
} from "@/components/ui/dropdown-menu";
import {
  Search,
  Filter,
  MoreHorizontal,
  Mail,
  Ban,
  UserCheck,
  Download,
} from "lucide-react";

// Mock users data
const mockUsers = [
  {
    id: "1",
    name: "John Doe",
    email: "john@example.com",
    phone: "+250 788 123 456",
    role: "attendee",
    status: "active",
    ticketsPurchased: 12,
    totalSpent: 450000,
    createdAt: "2025-12-15",
  },
  {
    id: "2",
    name: "Jane Smith",
    email: "jane@example.com",
    phone: "+250 788 234 567",
    role: "attendee",
    status: "active",
    ticketsPurchased: 8,
    totalSpent: 320000,
    createdAt: "2025-11-20",
  },
  {
    id: "3",
    name: "Mike Johnson",
    email: "mike@events.rw",
    phone: "+250 788 345 678",
    role: "organizer",
    status: "active",
    ticketsPurchased: 0,
    totalSpent: 0,
    createdAt: "2025-10-05",
  },
  {
    id: "4",
    name: "Sarah Williams",
    email: "sarah@example.com",
    phone: "+250 788 456 789",
    role: "attendee",
    status: "suspended",
    ticketsPurchased: 3,
    totalSpent: 75000,
    createdAt: "2026-01-02",
  },
  {
    id: "5",
    name: "David Brown",
    email: "david@staff.com",
    phone: "+250 788 567 890",
    role: "staff",
    status: "active",
    ticketsPurchased: 0,
    totalSpent: 0,
    createdAt: "2025-09-18",
  },
  {
    id: "6",
    name: "Emily Davis",
    email: "emily@example.com",
    phone: "+250 788 678 901",
    role: "attendee",
    status: "active",
    ticketsPurchased: 25,
    totalSpent: 890000,
    createdAt: "2025-08-10",
  },
  {
    id: "7",
    name: "Chris Wilson",
    email: "chris@admin.com",
    phone: "+250 788 789 012",
    role: "admin",
    status: "active",
    ticketsPurchased: 0,
    totalSpent: 0,
    createdAt: "2025-06-01",
  },
];

export default function AdminUsersPage() {
  const [searchQuery, setSearchQuery] = useState("");
  const [roleFilter, setRoleFilter] = useState("all");
  const [statusFilter, setStatusFilter] = useState("all");

  const filteredUsers = mockUsers.filter((user) => {
    const matchesSearch =
      user.name.toLowerCase().includes(searchQuery.toLowerCase()) ||
      user.email.toLowerCase().includes(searchQuery.toLowerCase());
    const matchesRole = roleFilter === "all" || user.role === roleFilter;
    const matchesStatus =
      statusFilter === "all" || user.status === statusFilter;
    return matchesSearch && matchesRole && matchesStatus;
  });

  const getRoleBadge = (role: string) => {
    switch (role) {
      case "admin":
        return (
          <Badge
            variant="outline"
            className="bg-red-500/10 text-red-500 border-red-500/20"
          >
            Admin
          </Badge>
        );
      case "organizer":
        return (
          <Badge
            variant="outline"
            className="bg-purple-500/10 text-purple-500 border-purple-500/20"
          >
            Organizer
          </Badge>
        );
      case "staff":
        return (
          <Badge
            variant="outline"
            className="bg-blue-500/10 text-blue-500 border-blue-500/20"
          >
            Staff
          </Badge>
        );
      default:
        return (
          <Badge
            variant="outline"
            className="bg-green-500/10 text-green-500 border-green-500/20"
          >
            Attendee
          </Badge>
        );
    }
  };

  const getStatusBadge = (status: string) => {
    switch (status) {
      case "active":
        return (
          <Badge
            variant="outline"
            className="bg-green-500/10 text-green-500 border-green-500/20"
          >
            Active
          </Badge>
        );
      case "suspended":
        return (
          <Badge
            variant="outline"
            className="bg-red-500/10 text-red-500 border-red-500/20"
          >
            Suspended
          </Badge>
        );
      default:
        return (
          <Badge variant="outline" className="bg-muted text-muted-foreground">
            {status}
          </Badge>
        );
    }
  };

  return (
    <div className="space-y-6">
      {/* Header */}
      <div className="flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between">
        <div>
          <h1 className="text-2xl font-semibold tracking-tight">Users</h1>
          <p className="text-sm text-muted-foreground">
            Manage all users on the platform
          </p>
        </div>
        <Button variant="outline" size="sm">
          <Download className="mr-2 h-4 w-4" />
          Export
        </Button>
      </div>

      {/* Stats */}
      <div className="grid gap-4 grid-cols-2 lg:grid-cols-4">
        {[
          { label: "Total Users", value: mockUsers.length, color: "text-foreground" },
          {
            label: "Attendees",
            value: mockUsers.filter((u) => u.role === "attendee").length,
            color: "text-green-500",
          },
          {
            label: "Organizers",
            value: mockUsers.filter((u) => u.role === "organizer").length,
            color: "text-purple-500",
          },
          {
            label: "Staff",
            value: mockUsers.filter((u) => u.role === "staff").length,
            color: "text-blue-500",
          },
        ].map((stat) => (
          <Card key={stat.label} className="border-border/50 bg-card/50">
            <CardContent className="pt-6">
              <p className="text-sm text-muted-foreground">{stat.label}</p>
              <p className={`text-2xl font-semibold mt-1 ${stat.color}`}>
                {stat.value}
              </p>
            </CardContent>
          </Card>
        ))}
      </div>

      {/* Filters */}
      <div className="flex flex-col sm:flex-row gap-3">
        <div className="relative flex-1">
          <Search className="absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground" />
          <Input
            placeholder="Search users..."
            value={searchQuery}
            onChange={(e) => setSearchQuery(e.target.value)}
            className="pl-9 bg-secondary/50"
          />
        </div>
        <Select value={roleFilter} onValueChange={setRoleFilter}>
          <SelectTrigger className="w-full sm:w-[150px] bg-secondary/50">
            <Filter className="mr-2 h-4 w-4" />
            <SelectValue placeholder="Role" />
          </SelectTrigger>
          <SelectContent>
            <SelectItem value="all">All Roles</SelectItem>
            <SelectItem value="attendee">Attendee</SelectItem>
            <SelectItem value="organizer">Organizer</SelectItem>
            <SelectItem value="staff">Staff</SelectItem>
            <SelectItem value="admin">Admin</SelectItem>
          </SelectContent>
        </Select>
        <Select value={statusFilter} onValueChange={setStatusFilter}>
          <SelectTrigger className="w-full sm:w-[150px] bg-secondary/50">
            <SelectValue placeholder="Status" />
          </SelectTrigger>
          <SelectContent>
            <SelectItem value="all">All Status</SelectItem>
            <SelectItem value="active">Active</SelectItem>
            <SelectItem value="suspended">Suspended</SelectItem>
          </SelectContent>
        </Select>
      </div>

      {/* Users Table */}
      <Card className="border-border/50 bg-card/50 backdrop-blur">
        <div className="overflow-x-auto">
          <Table>
            <TableHeader>
              <TableRow className="bg-secondary/30 hover:bg-secondary/30">
                <TableHead className="whitespace-nowrap">User</TableHead>
                <TableHead className="whitespace-nowrap">Phone</TableHead>
                <TableHead className="whitespace-nowrap">Role</TableHead>
                <TableHead className="whitespace-nowrap">Tickets</TableHead>
                <TableHead className="whitespace-nowrap">Total Spent</TableHead>
                <TableHead className="whitespace-nowrap">Status</TableHead>
                <TableHead className="whitespace-nowrap">Joined</TableHead>
                <TableHead className="w-10" />
              </TableRow>
            </TableHeader>
            <TableBody>
              {filteredUsers.length === 0 ? (
                <TableRow>
                  <TableCell
                    colSpan={8}
                    className="text-center py-8 text-muted-foreground"
                  >
                    No users found
                  </TableCell>
                </TableRow>
              ) : (
                filteredUsers.map((user) => (
                  <TableRow key={user.id}>
                    <TableCell>
                      <div className="flex items-center gap-3">
                        <Avatar className="h-9 w-9">
                          <AvatarFallback className="bg-secondary text-xs">
                            {user.name.charAt(0)}
                          </AvatarFallback>
                        </Avatar>
                        <div className="min-w-0">
                          <p className="font-medium truncate max-w-[150px]">
                            {user.name}
                          </p>
                          <p className="text-xs text-muted-foreground truncate max-w-[150px]">
                            {user.email}
                          </p>
                        </div>
                      </div>
                    </TableCell>
                    <TableCell className="whitespace-nowrap text-sm">
                      {user.phone}
                    </TableCell>
                    <TableCell className="whitespace-nowrap">
                      {getRoleBadge(user.role)}
                    </TableCell>
                    <TableCell className="whitespace-nowrap text-sm">
                      {user.ticketsPurchased}
                    </TableCell>
                    <TableCell className="whitespace-nowrap text-sm">
                      {user.totalSpent.toLocaleString()} RWF
                    </TableCell>
                    <TableCell className="whitespace-nowrap">
                      {getStatusBadge(user.status)}
                    </TableCell>
                    <TableCell className="whitespace-nowrap text-sm text-muted-foreground">
                      {new Date(user.createdAt).toLocaleDateString()}
                    </TableCell>
                    <TableCell>
                      <DropdownMenu>
                        <DropdownMenuTrigger asChild>
                          <Button variant="ghost" size="icon" className="h-8 w-8">
                            <MoreHorizontal className="h-4 w-4" />
                          </Button>
                        </DropdownMenuTrigger>
                        <DropdownMenuContent align="end">
                          <DropdownMenuItem>
                            <Mail className="mr-2 h-4 w-4" />
                            Send Email
                          </DropdownMenuItem>
                          <DropdownMenuItem>
                            <UserCheck className="mr-2 h-4 w-4" />
                            View Profile
                          </DropdownMenuItem>
                          <DropdownMenuSeparator />
                          {user.status === "active" ? (
                            <DropdownMenuItem className="text-destructive">
                              <Ban className="mr-2 h-4 w-4" />
                              Suspend User
                            </DropdownMenuItem>
                          ) : (
                            <DropdownMenuItem className="text-green-500">
                              <UserCheck className="mr-2 h-4 w-4" />
                              Reactivate User
                            </DropdownMenuItem>
                          )}
                        </DropdownMenuContent>
                      </DropdownMenu>
                    </TableCell>
                  </TableRow>
                ))
              )}
            </TableBody>
          </Table>
        </div>
      </Card>
    </div>
  );
}
</file>

<file path="app/auth/forgot-password/page.tsx">
"use client";

import React from "react"

import { useState } from "react";
import Link from "next/link";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";
import { Loader2, ArrowLeft, Mail, CheckCircle2 } from "lucide-react";

export default function ForgotPasswordPage() {
  const [email, setEmail] = useState("");
  const [isLoading, setIsLoading] = useState(false);
  const [isSubmitted, setIsSubmitted] = useState(false);
  const [error, setError] = useState("");

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    setError("");

    if (!email.trim()) {
      setError("Please enter your email address");
      return;
    }

    if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
      setError("Please enter a valid email address");
      return;
    }

    setIsLoading(true);
    // Simulate API call
    await new Promise((resolve) => setTimeout(resolve, 1500));
    setIsLoading(false);
    setIsSubmitted(true);
  };

  if (isSubmitted) {
    return (
      <div className="text-center">
        <div className="mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-accent/20">
          <CheckCircle2 className="h-10 w-10 text-accent" />
        </div>
        <h1 className="text-3xl font-bold">Check your email</h1>
        <p className="mt-4 text-muted-foreground leading-relaxed">
          We&apos;ve sent a password reset link to{" "}
          <span className="font-medium text-foreground">{email}</span>
        </p>
        <p className="mt-2 text-sm text-muted-foreground">
          The link will expire in 1 hour.
        </p>

        <div className="mt-8 space-y-4">
          <Button
            variant="outline"
            className="w-full h-12 bg-transparent"
            onClick={() => setIsSubmitted(false)}
          >
            Try a different email
          </Button>
          <Button asChild className="w-full h-12">
            <Link href="/auth/signin">Back to Sign In</Link>
          </Button>
        </div>
      </div>
    );
  }

  return (
    <div>
      <Link
        href="/auth/signin"
        className="inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground mb-8"
      >
        <ArrowLeft className="h-4 w-4" />
        Back to sign in
      </Link>

      <div className="mb-8">
        <div className="mb-6 flex h-16 w-16 items-center justify-center rounded-full bg-accent/20">
          <Mail className="h-8 w-8 text-accent" />
        </div>
        <h1 className="text-3xl font-bold">Forgot password?</h1>
        <p className="mt-2 text-muted-foreground">
          No worries, we&apos;ll send you reset instructions.
        </p>
      </div>

      <form onSubmit={handleSubmit} className="space-y-6">
        {error && (
          <div className="rounded-lg bg-destructive/10 p-3 text-sm text-destructive">
            {error}
          </div>
        )}

        <div className="space-y-2">
          <Label htmlFor="email">Email Address</Label>
          <Input
            id="email"
            type="email"
            placeholder="you@example.com"
            value={email}
            onChange={(e) => setEmail(e.target.value)}
            className="h-12"
            autoComplete="email"
          />
        </div>

        <Button type="submit" className="w-full h-12 gap-2" disabled={isLoading}>
          {isLoading ? (
            <>
              <Loader2 className="h-5 w-5 animate-spin" />
              Sending...
            </>
          ) : (
            "Reset Password"
          )}
        </Button>
      </form>
    </div>
  );
}
</file>

<file path="app/auth/layout.tsx">
import React from "react"
import Link from "next/link";
import { Ticket } from "lucide-react";
import { AuthProvider } from "@/lib/auth-context";

export default function AuthLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <AuthProvider>
      <div className="min-h-screen flex flex-col lg:flex-row">
        {/* Left Side - Branding */}
        <div className="hidden lg:flex lg:w-1/2 bg-card border-r border-border relative overflow-hidden">
          <div className="absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-accent/20 via-transparent to-transparent" />
          <div className="relative z-10 flex flex-col justify-between p-12 w-full">
            {/* Logo */}
            <Link href="/" className="flex items-center gap-2">
              <div className="flex h-10 w-10 items-center justify-center rounded-lg bg-accent">
                <Ticket className="h-6 w-6 text-accent-foreground" />
              </div>
              <span className="text-2xl font-bold tracking-tight">Tikiti</span>
            </Link>

            {/* Content */}
            <div className="max-w-md">
              <h1 className="text-4xl font-bold leading-tight text-balance">
                Discover amazing events in Kigali
              </h1>
              <p className="mt-4 text-lg text-muted-foreground leading-relaxed">
                Join thousands of event-goers discovering concerts, festivals,
                conferences and more across Rwanda.
              </p>

              {/* Stats */}
              <div className="mt-12 grid grid-cols-3 gap-8">
                <div>
                  <p className="text-3xl font-bold text-accent">50K+</p>
                  <p className="text-sm text-muted-foreground">Active Users</p>
                </div>
                <div>
                  <p className="text-3xl font-bold text-accent">1000+</p>
                  <p className="text-sm text-muted-foreground">Events</p>
                </div>
                <div>
                  <p className="text-3xl font-bold text-accent">100%</p>
                  <p className="text-sm text-muted-foreground">Secure</p>
                </div>
              </div>
            </div>

            {/* Footer */}
            <p className="text-sm text-muted-foreground">
              &copy; {new Date().getFullYear()} Tikiti. Rwanda&apos;s trusted event platform.
            </p>
          </div>
        </div>

        {/* Right Side - Form */}
        <div className="flex-1 flex flex-col">
          {/* Mobile Header */}
          <div className="lg:hidden p-6 border-b border-border">
            <Link href="/" className="flex items-center gap-2">
              <div className="flex h-8 w-8 items-center justify-center rounded-lg bg-accent">
                <Ticket className="h-5 w-5 text-accent-foreground" />
              </div>
              <span className="text-xl font-bold tracking-tight">Tikiti</span>
            </Link>
          </div>

          {/* Form Container */}
          <div className="flex-1 flex items-center justify-center p-6 md:p-12">
            <div className="w-full max-w-md">{children}</div>
          </div>
        </div>
      </div>
    </AuthProvider>
  );
}
</file>

<file path="app/auth/reset-password/page.tsx">
"use client";

import React from "react"

import { useState } from "react";
import Link from "next/link";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";
import { Loader2, Eye, EyeOff, CheckCircle2, Lock } from "lucide-react";

export default function ResetPasswordPage() {
  const [showPassword, setShowPassword] = useState(false);
  const [showConfirmPassword, setShowConfirmPassword] = useState(false);
  const [isLoading, setIsLoading] = useState(false);
  const [isReset, setIsReset] = useState(false);
  const [error, setError] = useState("");
  const [formData, setFormData] = useState({
    password: "",
    confirmPassword: "",
  });

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    setError("");

    if (formData.password.length < 8) {
      setError("Password must be at least 8 characters");
      return;
    }

    if (formData.password !== formData.confirmPassword) {
      setError("Passwords do not match");
      return;
    }

    setIsLoading(true);
    // Simulate API call
    await new Promise((resolve) => setTimeout(resolve, 1500));
    setIsLoading(false);
    setIsReset(true);
  };

  if (isReset) {
    return (
      <div className="text-center">
        <div className="mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-accent/20">
          <CheckCircle2 className="h-10 w-10 text-accent" />
        </div>
        <h1 className="text-3xl font-bold">Password reset!</h1>
        <p className="mt-4 text-muted-foreground">
          Your password has been successfully reset.
        </p>

        <Button asChild className="mt-8 w-full h-12">
          <Link href="/auth/signin">Sign in with new password</Link>
        </Button>
      </div>
    );
  }

  return (
    <div>
      <div className="mb-8">
        <div className="mb-6 flex h-16 w-16 items-center justify-center rounded-full bg-accent/20">
          <Lock className="h-8 w-8 text-accent" />
        </div>
        <h1 className="text-3xl font-bold">Set new password</h1>
        <p className="mt-2 text-muted-foreground">
          Your new password must be different from previous passwords.
        </p>
      </div>

      <form onSubmit={handleSubmit} className="space-y-6">
        {error && (
          <div className="rounded-lg bg-destructive/10 p-3 text-sm text-destructive">
            {error}
          </div>
        )}

        <div className="space-y-2">
          <Label htmlFor="password">New Password</Label>
          <div className="relative">
            <Input
              id="password"
              type={showPassword ? "text" : "password"}
              placeholder="Enter new password"
              value={formData.password}
              onChange={(e) =>
                setFormData((prev) => ({ ...prev, password: e.target.value }))
              }
              className="h-12 pr-12"
              autoComplete="new-password"
            />
            <button
              type="button"
              onClick={() => setShowPassword(!showPassword)}
              className="absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground"
            >
              {showPassword ? (
                <EyeOff className="h-5 w-5" />
              ) : (
                <Eye className="h-5 w-5" />
              )}
            </button>
          </div>
          <p className="text-xs text-muted-foreground">At least 8 characters</p>
        </div>

        <div className="space-y-2">
          <Label htmlFor="confirmPassword">Confirm Password</Label>
          <div className="relative">
            <Input
              id="confirmPassword"
              type={showConfirmPassword ? "text" : "password"}
              placeholder="Confirm new password"
              value={formData.confirmPassword}
              onChange={(e) =>
                setFormData((prev) => ({ ...prev, confirmPassword: e.target.value }))
              }
              className="h-12 pr-12"
              autoComplete="new-password"
            />
            <button
              type="button"
              onClick={() => setShowConfirmPassword(!showConfirmPassword)}
              className="absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground"
            >
              {showConfirmPassword ? (
                <EyeOff className="h-5 w-5" />
              ) : (
                <Eye className="h-5 w-5" />
              )}
            </button>
          </div>
        </div>

        <Button type="submit" className="w-full h-12 gap-2" disabled={isLoading}>
          {isLoading ? (
            <>
              <Loader2 className="h-5 w-5 animate-spin" />
              Resetting...
            </>
          ) : (
            "Reset Password"
          )}
        </Button>
      </form>
    </div>
  );
}
</file>

<file path="app/auth/signin/loading.tsx">
export default function Loading() {
  return null;
}
</file>

<file path="app/auth/signin/page.tsx">
"use client";

import React from "react"

import { useState } from "react";
import Link from "next/link";
import { useRouter, useSearchParams } from "next/navigation";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";
import { useAuth } from "@/lib/auth-context";
import { Eye, EyeOff, Loader2, ArrowRight } from "lucide-react";

export default function SignInPage() {
  const router = useRouter();
  const searchParams = useSearchParams();
  const { login, isLoading } = useAuth();
  const [showPassword, setShowPassword] = useState(false);
  const [error, setError] = useState("");
  const [formData, setFormData] = useState({
    email: "",
    password: "",
  });

  const redirectTo = searchParams.get("redirect") || "/";

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    setError("");

    if (!formData.email || !formData.password) {
      setError("Please fill in all fields");
      return;
    }

    const success = await login(formData.email, formData.password);
    if (success) {
      router.push(redirectTo);
    } else {
      setError("Invalid email or password");
    }
  };

  return (
    <div>
      <div className="mb-8">
        <h1 className="text-3xl font-bold">Welcome back</h1>
        <p className="mt-2 text-muted-foreground">
          Sign in to your account to continue
        </p>
      </div>

      <form onSubmit={handleSubmit} className="space-y-6">
        {error && (
          <div className="rounded-lg bg-destructive/10 p-3 text-sm text-destructive">
            {error}
          </div>
        )}

        <div className="space-y-2">
          <Label htmlFor="email">Email or Phone</Label>
          <Input
            id="email"
            type="text"
            placeholder="you@example.com or 0788xxxxxx"
            value={formData.email}
            onChange={(e) =>
              setFormData((prev) => ({ ...prev, email: e.target.value }))
            }
            className="h-12"
            autoComplete="email"
          />
        </div>

        <div className="space-y-2">
          <div className="flex items-center justify-between">
            <Label htmlFor="password">Password</Label>
            <Link
              href="/auth/forgot-password"
              className="text-sm text-accent hover:underline"
            >
              Forgot password?
            </Link>
          </div>
          <div className="relative">
            <Input
              id="password"
              type={showPassword ? "text" : "password"}
              placeholder="Enter your password"
              value={formData.password}
              onChange={(e) =>
                setFormData((prev) => ({ ...prev, password: e.target.value }))
              }
              className="h-12 pr-12"
              autoComplete="current-password"
            />
            <button
              type="button"
              onClick={() => setShowPassword(!showPassword)}
              className="absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground"
            >
              {showPassword ? (
                <EyeOff className="h-5 w-5" />
              ) : (
                <Eye className="h-5 w-5" />
              )}
            </button>
          </div>
        </div>

        <Button type="submit" className="w-full h-12 gap-2" disabled={isLoading}>
          {isLoading ? (
            <>
              <Loader2 className="h-5 w-5 animate-spin" />
              Signing in...
            </>
          ) : (
            <>
              Sign In
              <ArrowRight className="h-5 w-5" />
            </>
          )}
        </Button>
      </form>

      <div className="mt-8 text-center">
        <p className="text-muted-foreground">
          Don&apos;t have an account?{" "}
          <Link href="/auth/signup" className="text-accent hover:underline font-medium">
            Create one
          </Link>
        </p>
      </div>

      {/* Demo Accounts */}
      <div className="mt-8 rounded-xl bg-secondary/50 p-4">
        <p className="text-sm font-medium mb-3">Demo Accounts (any password works):</p>
        <div className="space-y-2 text-sm text-muted-foreground">
          <p>Attendee: jean.mugabo@email.com</p>
          <p>Organizer: marie@eventspro.rw</p>
          <p>Admin: admin@tikiti.rw</p>
          <p>Scanner: eric.scanner@eventspro.rw</p>
        </div>
      </div>
    </div>
  );
}
</file>

<file path="app/auth/signup/page.tsx">
"use client";

import React from "react"

import { useState } from "react";
import Link from "next/link";
import { useRouter } from "next/navigation";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";
import { RadioGroup, RadioGroupItem } from "@/components/ui/radio-group";
import { useAuth } from "@/lib/auth-context";
import type { UserRole } from "@/lib/types";
import { Eye, EyeOff, Loader2, ArrowRight, User, Building2 } from "lucide-react";

export default function SignUpPage() {
  const router = useRouter();
  const { signup, isLoading } = useAuth();
  const [showPassword, setShowPassword] = useState(false);
  const [error, setError] = useState("");
  const [step, setStep] = useState<1 | 2>(1);
  const [formData, setFormData] = useState({
    firstName: "",
    lastName: "",
    email: "",
    phone: "",
    password: "",
    confirmPassword: "",
    role: "attendee" as UserRole,
  });

  const validateStep1 = () => {
    if (!formData.firstName.trim()) {
      setError("First name is required");
      return false;
    }
    if (!formData.lastName.trim()) {
      setError("Last name is required");
      return false;
    }
    if (!formData.email.trim()) {
      setError("Email is required");
      return false;
    }
    if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(formData.email)) {
      setError("Please enter a valid email");
      return false;
    }
    if (!formData.phone.trim()) {
      setError("Phone number is required");
      return false;
    }
    if (!/^0\d{9}$/.test(formData.phone)) {
      setError("Phone must be 10 digits starting with 0");
      return false;
    }
    return true;
  };

  const validateStep2 = () => {
    if (formData.password.length < 8) {
      setError("Password must be at least 8 characters");
      return false;
    }
    if (formData.password !== formData.confirmPassword) {
      setError("Passwords do not match");
      return false;
    }
    return true;
  };

  const handleNext = () => {
    setError("");
    if (validateStep1()) {
      setStep(2);
    }
  };

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    setError("");

    if (!validateStep2()) return;

    const success = await signup({
      firstName: formData.firstName,
      lastName: formData.lastName,
      email: formData.email,
      phone: formData.phone,
      role: formData.role,
      password: formData.password,
    });

    if (success) {
      router.push("/auth/verify");
    } else {
      setError("Something went wrong. Please try again.");
    }
  };

  return (
    <div>
      <div className="mb-8">
        <h1 className="text-3xl font-bold">Create an account</h1>
        <p className="mt-2 text-muted-foreground">
          {step === 1
            ? "Enter your details to get started"
            : "Set your password and account type"}
        </p>
      </div>

      {/* Progress */}
      <div className="mb-8 flex gap-2">
        <div className={`h-1 flex-1 rounded-full ${step >= 1 ? "bg-accent" : "bg-secondary"}`} />
        <div className={`h-1 flex-1 rounded-full ${step >= 2 ? "bg-accent" : "bg-secondary"}`} />
      </div>

      <form onSubmit={step === 1 ? (e) => { e.preventDefault(); handleNext(); } : handleSubmit} className="space-y-6">
        {error && (
          <div className="rounded-lg bg-destructive/10 p-3 text-sm text-destructive">
            {error}
          </div>
        )}

        {step === 1 && (
          <>
            <div className="grid gap-4 sm:grid-cols-2">
              <div className="space-y-2">
                <Label htmlFor="firstName">First Name</Label>
                <Input
                  id="firstName"
                  placeholder="Jean"
                  value={formData.firstName}
                  onChange={(e) =>
                    setFormData((prev) => ({ ...prev, firstName: e.target.value }))
                  }
                  className="h-12"
                  autoComplete="given-name"
                />
              </div>
              <div className="space-y-2">
                <Label htmlFor="lastName">Last Name</Label>
                <Input
                  id="lastName"
                  placeholder="Mugabo"
                  value={formData.lastName}
                  onChange={(e) =>
                    setFormData((prev) => ({ ...prev, lastName: e.target.value }))
                  }
                  className="h-12"
                  autoComplete="family-name"
                />
              </div>
            </div>

            <div className="space-y-2">
              <Label htmlFor="email">Email Address</Label>
              <Input
                id="email"
                type="email"
                placeholder="you@example.com"
                value={formData.email}
                onChange={(e) =>
                  setFormData((prev) => ({ ...prev, email: e.target.value }))
                }
                className="h-12"
                autoComplete="email"
              />
            </div>

            <div className="space-y-2">
              <Label htmlFor="phone">Phone Number</Label>
              <Input
                id="phone"
                type="tel"
                placeholder="0788123456"
                value={formData.phone}
                onChange={(e) =>
                  setFormData((prev) => ({ ...prev, phone: e.target.value }))
                }
                className="h-12"
                autoComplete="tel"
              />
              <p className="text-xs text-muted-foreground">10 digits starting with 0</p>
            </div>

            <Button type="submit" className="w-full h-12 gap-2">
              Continue
              <ArrowRight className="h-5 w-5" />
            </Button>
          </>
        )}

        {step === 2 && (
          <>
            <div className="space-y-2">
              <Label htmlFor="password">Password</Label>
              <div className="relative">
                <Input
                  id="password"
                  type={showPassword ? "text" : "password"}
                  placeholder="Create a strong password"
                  value={formData.password}
                  onChange={(e) =>
                    setFormData((prev) => ({ ...prev, password: e.target.value }))
                  }
                  className="h-12 pr-12"
                  autoComplete="new-password"
                />
                <button
                  type="button"
                  onClick={() => setShowPassword(!showPassword)}
                  className="absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground"
                >
                  {showPassword ? (
                    <EyeOff className="h-5 w-5" />
                  ) : (
                    <Eye className="h-5 w-5" />
                  )}
                </button>
              </div>
              <p className="text-xs text-muted-foreground">At least 8 characters</p>
            </div>

            <div className="space-y-2">
              <Label htmlFor="confirmPassword">Confirm Password</Label>
              <Input
                id="confirmPassword"
                type="password"
                placeholder="Re-enter your password"
                value={formData.confirmPassword}
                onChange={(e) =>
                  setFormData((prev) => ({ ...prev, confirmPassword: e.target.value }))
                }
                className="h-12"
                autoComplete="new-password"
              />
            </div>

            <div className="space-y-3">
              <Label>I want to</Label>
              <RadioGroup
                value={formData.role}
                onValueChange={(value) =>
                  setFormData((prev) => ({ ...prev, role: value as UserRole }))
                }
                className="grid gap-3 sm:grid-cols-2"
              >
                <Label
                  htmlFor="attendee"
                  className={`flex items-center gap-3 rounded-xl border p-4 cursor-pointer transition-colors ${
                    formData.role === "attendee"
                      ? "border-accent bg-accent/10"
                      : "border-border hover:bg-secondary/50"
                  }`}
                >
                  <RadioGroupItem value="attendee" id="attendee" />
                  <User className="h-5 w-5 text-muted-foreground" />
                  <div>
                    <p className="font-medium">Attend Events</p>
                    <p className="text-xs text-muted-foreground">Buy tickets</p>
                  </div>
                </Label>
                <Label
                  htmlFor="organizer"
                  className={`flex items-center gap-3 rounded-xl border p-4 cursor-pointer transition-colors ${
                    formData.role === "organizer"
                      ? "border-accent bg-accent/10"
                      : "border-border hover:bg-secondary/50"
                  }`}
                >
                  <RadioGroupItem value="organizer" id="organizer" />
                  <Building2 className="h-5 w-5 text-muted-foreground" />
                  <div>
                    <p className="font-medium">Organize Events</p>
                    <p className="text-xs text-muted-foreground">Sell tickets</p>
                  </div>
                </Label>
              </RadioGroup>
            </div>

            <div className="flex gap-3">
              <Button
                type="button"
                variant="outline"
                onClick={() => setStep(1)}
                className="flex-1 h-12"
              >
                Back
              </Button>
              <Button type="submit" className="flex-1 h-12 gap-2" disabled={isLoading}>
                {isLoading ? (
                  <>
                    <Loader2 className="h-5 w-5 animate-spin" />
                    Creating...
                  </>
                ) : (
                  <>
                    Create Account
                    <ArrowRight className="h-5 w-5" />
                  </>
                )}
              </Button>
            </div>
          </>
        )}
      </form>

      <div className="mt-8 text-center">
        <p className="text-muted-foreground">
          Already have an account?{" "}
          <Link href="/auth/signin" className="text-accent hover:underline font-medium">
            Sign in
          </Link>
        </p>
      </div>

      <p className="mt-6 text-center text-xs text-muted-foreground">
        By creating an account, you agree to our{" "}
        <Link href="/terms" className="underline hover:text-foreground">
          Terms of Service
        </Link>{" "}
        and{" "}
        <Link href="/privacy" className="underline hover:text-foreground">
          Privacy Policy
        </Link>
      </p>
    </div>
  );
}
</file>

<file path="app/auth/verify/page.tsx">
"use client";

import React from "react"

import { useState, useRef } from "react";
import { useRouter } from "next/navigation";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { useAuth } from "@/lib/auth-context";
import { Loader2, CheckCircle2, Mail } from "lucide-react";

export default function VerifyPage() {
  const router = useRouter();
  const { user } = useAuth();
  const [otp, setOtp] = useState(["", "", "", "", "", ""]);
  const [isVerifying, setIsVerifying] = useState(false);
  const [isVerified, setIsVerified] = useState(false);
  const [error, setError] = useState("");
  const inputRefs = useRef<(HTMLInputElement | null)[]>([]);

  const handleChange = (index: number, value: string) => {
    if (!/^\d*$/.test(value)) return;

    const newOtp = [...otp];
    newOtp[index] = value.slice(-1);
    setOtp(newOtp);

    // Auto-focus next input
    if (value && index < 5) {
      inputRefs.current[index + 1]?.focus();
    }
  };

  const handleKeyDown = (index: number, e: React.KeyboardEvent) => {
    if (e.key === "Backspace" && !otp[index] && index > 0) {
      inputRefs.current[index - 1]?.focus();
    }
  };

  const handlePaste = (e: React.ClipboardEvent) => {
    e.preventDefault();
    const pastedData = e.clipboardData.getData("text").slice(0, 6);
    if (!/^\d+$/.test(pastedData)) return;

    const newOtp = [...otp];
    pastedData.split("").forEach((char, i) => {
      if (i < 6) newOtp[i] = char;
    });
    setOtp(newOtp);

    // Focus last filled input or last input
    const lastIndex = Math.min(pastedData.length - 1, 5);
    inputRefs.current[lastIndex]?.focus();
  };

  const handleVerify = async () => {
    const code = otp.join("");
    if (code.length !== 6) {
      setError("Please enter the complete verification code");
      return;
    }

    setIsVerifying(true);
    setError("");

    // Simulate verification
    await new Promise((resolve) => setTimeout(resolve, 1500));

    // Accept any 6-digit code for demo
    setIsVerified(true);
    setIsVerifying(false);

    // Redirect after showing success
    setTimeout(() => {
      if (user?.role === "organizer") {
        router.push("/organizer/dashboard");
      } else {
        router.push("/");
      }
    }, 2000);
  };

  const handleResend = async () => {
    setOtp(["", "", "", "", "", ""]);
    setError("");
    // Simulate resend
    await new Promise((resolve) => setTimeout(resolve, 500));
  };

  if (isVerified) {
    return (
      <div className="text-center">
        <div className="mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-accent/20">
          <CheckCircle2 className="h-10 w-10 text-accent" />
        </div>
        <h1 className="text-3xl font-bold">Email Verified!</h1>
        <p className="mt-2 text-muted-foreground">
          Your account has been verified successfully.
        </p>
        <p className="mt-4 text-sm text-muted-foreground">
          Redirecting you now...
        </p>
      </div>
    );
  }

  return (
    <div>
      <div className="mb-8 text-center">
        <div className="mx-auto mb-6 flex h-16 w-16 items-center justify-center rounded-full bg-accent/20">
          <Mail className="h-8 w-8 text-accent" />
        </div>
        <h1 className="text-3xl font-bold">Verify your email</h1>
        <p className="mt-2 text-muted-foreground">
          We sent a 6-digit code to{" "}
          <span className="font-medium text-foreground">
            {user?.email || "your email"}
          </span>
        </p>
      </div>

      {error && (
        <div className="mb-6 rounded-lg bg-destructive/10 p-3 text-sm text-destructive text-center">
          {error}
        </div>
      )}

      <div className="flex justify-center gap-2 sm:gap-3">
        {otp.map((digit, index) => (
          <Input
            key={index}
            ref={(el) => { inputRefs.current[index] = el; }}
            type="text"
            inputMode="numeric"
            maxLength={1}
            value={digit}
            onChange={(e) => handleChange(index, e.target.value)}
            onKeyDown={(e) => handleKeyDown(index, e)}
            onPaste={handlePaste}
            className="h-14 w-12 text-center text-xl font-bold sm:h-16 sm:w-14"
          />
        ))}
      </div>

      <Button
        onClick={handleVerify}
        disabled={isVerifying || otp.join("").length !== 6}
        className="mt-8 w-full h-12 gap-2"
      >
        {isVerifying ? (
          <>
            <Loader2 className="h-5 w-5 animate-spin" />
            Verifying...
          </>
        ) : (
          "Verify Email"
        )}
      </Button>

      <div className="mt-6 text-center">
        <p className="text-sm text-muted-foreground">
          Didn&apos;t receive the code?{" "}
          <button
            type="button"
            onClick={handleResend}
            className="text-accent hover:underline font-medium"
          >
            Resend
          </button>
        </p>
      </div>

      <p className="mt-8 text-center text-xs text-muted-foreground">
        For demo purposes, enter any 6 digits to verify.
      </p>
    </div>
  );
}
</file>

<file path="app/globals.css">
@import 'tailwindcss';
@import 'tw-animate-css';

@custom-variant dark (&:is(.dark *));

:root {
  --background: oklch(0.08 0 0);
  --foreground: oklch(0.98 0 0);
  --card: oklch(0.12 0 0);
  --card-foreground: oklch(0.98 0 0);
  --popover: oklch(0.1 0 0);
  --popover-foreground: oklch(0.98 0 0);
  --primary: oklch(0.98 0 0);
  --primary-foreground: oklch(0.08 0 0);
  --secondary: oklch(0.18 0 0);
  --secondary-foreground: oklch(0.98 0 0);
  --muted: oklch(0.18 0 0);
  --muted-foreground: oklch(0.65 0 0);
  --accent: oklch(0.72 0.19 145);
  --accent-foreground: oklch(0.08 0 0);
  --destructive: oklch(0.65 0.2 25);
  --destructive-foreground: oklch(0.98 0 0);
  --border: oklch(0.22 0 0);
  --input: oklch(0.18 0 0);
  --ring: oklch(0.72 0.19 145);
  --chart-1: oklch(0.72 0.19 145);
  --chart-2: oklch(0.65 0.15 200);
  --chart-3: oklch(0.7 0.18 80);
  --chart-4: oklch(0.6 0.2 280);
  --chart-5: oklch(0.65 0.22 30);
  --radius: 0.5rem;
  --sidebar: oklch(0.1 0 0);
  --sidebar-foreground: oklch(0.98 0 0);
  --sidebar-primary: oklch(0.72 0.19 145);
  --sidebar-primary-foreground: oklch(0.08 0 0);
  --sidebar-accent: oklch(0.18 0 0);
  --sidebar-accent-foreground: oklch(0.98 0 0);
  --sidebar-border: oklch(0.22 0 0);
  --sidebar-ring: oklch(0.72 0.19 145);
  --success: oklch(0.72 0.19 145);
  --success-foreground: oklch(0.08 0 0);
  --warning: oklch(0.8 0.15 85);
  --warning-foreground: oklch(0.08 0 0);
}

.dark {
  --background: oklch(0.08 0 0);
  --foreground: oklch(0.98 0 0);
  --card: oklch(0.12 0 0);
  --card-foreground: oklch(0.98 0 0);
  --popover: oklch(0.1 0 0);
  --popover-foreground: oklch(0.98 0 0);
  --primary: oklch(0.98 0 0);
  --primary-foreground: oklch(0.08 0 0);
  --secondary: oklch(0.18 0 0);
  --secondary-foreground: oklch(0.98 0 0);
  --muted: oklch(0.18 0 0);
  --muted-foreground: oklch(0.65 0 0);
  --accent: oklch(0.72 0.19 145);
  --accent-foreground: oklch(0.08 0 0);
  --destructive: oklch(0.65 0.2 25);
  --destructive-foreground: oklch(0.98 0 0);
  --border: oklch(0.22 0 0);
  --input: oklch(0.18 0 0);
  --ring: oklch(0.72 0.19 145);
  --chart-1: oklch(0.72 0.19 145);
  --chart-2: oklch(0.65 0.15 200);
  --chart-3: oklch(0.7 0.18 80);
  --chart-4: oklch(0.6 0.2 280);
  --chart-5: oklch(0.65 0.22 30);
  --sidebar: oklch(0.1 0 0);
  --sidebar-foreground: oklch(0.98 0 0);
  --sidebar-primary: oklch(0.72 0.19 145);
  --sidebar-primary-foreground: oklch(0.08 0 0);
  --sidebar-accent: oklch(0.18 0 0);
  --sidebar-accent-foreground: oklch(0.98 0 0);
  --sidebar-border: oklch(0.22 0 0);
  --sidebar-ring: oklch(0.72 0.19 145);
  --success: oklch(0.72 0.19 145);
  --success-foreground: oklch(0.08 0 0);
  --warning: oklch(0.8 0.15 85);
  --warning-foreground: oklch(0.08 0 0);
}

@theme inline {
  --font-sans: 'Inter', 'Inter Fallback', system-ui, sans-serif;
  --font-mono: 'Geist Mono', 'Geist Mono Fallback', monospace;
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
  --color-success: var(--success);
  --color-success-foreground: var(--success-foreground);
  --color-warning: var(--warning);
  --color-warning-foreground: var(--warning-foreground);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}
</file>

<file path="app/layout.tsx">
import React from "react"
import type { Metadata, Viewport } from "next";
import { Inter, Geist_Mono } from "next/font/google";
import { Analytics } from "@vercel/analytics/next";
import "./globals.css";

const inter = Inter({ subsets: ["latin"], variable: "--font-inter" });
const geistMono = Geist_Mono({ subsets: ["latin"], variable: "--font-mono" });

export const metadata: Metadata = {
  title: "Tikiti - Rwanda Event Ticketing",
  description:
    "Discover and book tickets for the best events in Kigali and across Rwanda. Your trusted event ticketing platform.",
  generator: "v0.app",
  keywords: ["events", "tickets", "Kigali", "Rwanda", "concerts", "festivals"],
  icons: {
    icon: [
      {
        url: "/icon-light-32x32.png",
        media: "(prefers-color-scheme: light)",
      },
      {
        url: "/icon-dark-32x32.png",
        media: "(prefers-color-scheme: dark)",
      },
      {
        url: "/icon.svg",
        type: "image/svg+xml",
      },
    ],
    apple: "/apple-icon.png",
  },
};

export const viewport: Viewport = {
  themeColor: "#0f0f0f",
  width: "device-width",
  initialScale: 1,
  maximumScale: 1,
  userScalable: false,
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en" className="dark">
      <body
        className={`${inter.variable} ${geistMono.variable} font-sans antialiased bg-background text-foreground min-h-screen overflow-x-hidden`}
      >
        {children}
        <Analytics />
      </body>
    </html>
  );
}
</file>

<file path="app/organizer/analytics/page.tsx">
"use client";

import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import {
  Select,
  SelectContent,
  SelectItem,
  SelectTrigger,
  SelectValue,
} from "@/components/ui/select";
import {
  TrendingUp,
  TrendingDown,
  DollarSign,
  Ticket,
  Users,
  Calendar,
  Download,
} from "lucide-react";
import {
  LineChart,
  Line,
  XAxis,
  YAxis,
  CartesianGrid,
  Tooltip,
  ResponsiveContainer,
  BarChart,
  Bar,
  PieChart,
  Pie,
  Cell,
} from "recharts";

const revenueData = [
  { month: "Jan", revenue: 850000 },
  { month: "Feb", revenue: 1200000 },
  { month: "Mar", revenue: 980000 },
  { month: "Apr", revenue: 1450000 },
  { month: "May", revenue: 1680000 },
  { month: "Jun", revenue: 2100000 },
];

const ticketSalesData = [
  { name: "Week 1", sold: 145 },
  { name: "Week 2", sold: 230 },
  { name: "Week 3", sold: 189 },
  { name: "Week 4", sold: 312 },
];

const categoryData = [
  { name: "VIP", value: 35, color: "#22c55e" },
  { name: "Regular", value: 45, color: "#3b82f6" },
  { name: "Early Bird", value: 20, color: "#f59e0b" },
];

const topEvents = [
  { name: "Kigali Jazz Festival", tickets: 450, revenue: 4500000 },
  { name: "Tech Summit 2026", tickets: 320, revenue: 3200000 },
  { name: "Food & Wine Expo", tickets: 280, revenue: 2100000 },
  { name: "Art Exhibition", tickets: 150, revenue: 750000 },
];

export default function AnalyticsPage() {
  return (
    <div className="space-y-6 pb-8">
      {/* Header */}
      <div className="flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between">
        <div>
          <h1 className="text-2xl font-semibold tracking-tight">Analytics</h1>
          <p className="text-sm text-muted-foreground">
            Track your event performance and revenue
          </p>
        </div>
        <div className="flex items-center gap-3">
          <Select defaultValue="30d">
            <SelectTrigger className="w-[140px] bg-secondary/50">
              <SelectValue placeholder="Select period" />
            </SelectTrigger>
            <SelectContent>
              <SelectItem value="7d">Last 7 days</SelectItem>
              <SelectItem value="30d">Last 30 days</SelectItem>
              <SelectItem value="90d">Last 90 days</SelectItem>
              <SelectItem value="1y">Last year</SelectItem>
            </SelectContent>
          </Select>
          <Button variant="outline" size="sm">
            <Download className="mr-2 h-4 w-4" />
            Export
          </Button>
        </div>
      </div>

      {/* Stats Grid */}
      <div className="grid gap-4 grid-cols-2 lg:grid-cols-4">
        <Card className="border-border/50 bg-card/50 backdrop-blur">
          <CardContent className="pt-6">
            <div className="flex items-center justify-between">
              <div>
                <p className="text-sm text-muted-foreground">Total Revenue</p>
                <p className="text-2xl font-semibold mt-1">8.26M RWF</p>
                <div className="flex items-center gap-1 mt-1">
                  <TrendingUp className="h-3 w-3 text-green-500" />
                  <span className="text-xs text-green-500">+12.5%</span>
                </div>
              </div>
              <div className="p-3 rounded-xl bg-accent/10">
                <DollarSign className="h-6 w-6 text-accent" />
              </div>
            </div>
          </CardContent>
        </Card>

        <Card className="border-border/50 bg-card/50 backdrop-blur">
          <CardContent className="pt-6">
            <div className="flex items-center justify-between">
              <div>
                <p className="text-sm text-muted-foreground">Tickets Sold</p>
                <p className="text-2xl font-semibold mt-1">1,247</p>
                <div className="flex items-center gap-1 mt-1">
                  <TrendingUp className="h-3 w-3 text-green-500" />
                  <span className="text-xs text-green-500">+8.2%</span>
                </div>
              </div>
              <div className="p-3 rounded-xl bg-blue-500/10">
                <Ticket className="h-6 w-6 text-blue-500" />
              </div>
            </div>
          </CardContent>
        </Card>

        <Card className="border-border/50 bg-card/50 backdrop-blur">
          <CardContent className="pt-6">
            <div className="flex items-center justify-between">
              <div>
                <p className="text-sm text-muted-foreground">Total Attendees</p>
                <p className="text-2xl font-semibold mt-1">1,089</p>
                <div className="flex items-center gap-1 mt-1">
                  <TrendingDown className="h-3 w-3 text-red-500" />
                  <span className="text-xs text-red-500">-2.1%</span>
                </div>
              </div>
              <div className="p-3 rounded-xl bg-purple-500/10">
                <Users className="h-6 w-6 text-purple-500" />
              </div>
            </div>
          </CardContent>
        </Card>

        <Card className="border-border/50 bg-card/50 backdrop-blur">
          <CardContent className="pt-6">
            <div className="flex items-center justify-between">
              <div>
                <p className="text-sm text-muted-foreground">Active Events</p>
                <p className="text-2xl font-semibold mt-1">8</p>
                <div className="flex items-center gap-1 mt-1">
                  <TrendingUp className="h-3 w-3 text-green-500" />
                  <span className="text-xs text-green-500">+2 new</span>
                </div>
              </div>
              <div className="p-3 rounded-xl bg-orange-500/10">
                <Calendar className="h-6 w-6 text-orange-500" />
              </div>
            </div>
          </CardContent>
        </Card>
      </div>

      {/* Charts Row */}
      <div className="grid gap-6 lg:grid-cols-2">
        {/* Revenue Chart */}
        <Card className="border-border/50 bg-card/50 backdrop-blur">
          <CardHeader>
            <CardTitle className="text-lg">Revenue Overview</CardTitle>
          </CardHeader>
          <CardContent>
            <div className="h-[300px] w-full">
              <ResponsiveContainer width="100%" height="100%">
                <LineChart data={revenueData}>
                  <CartesianGrid strokeDasharray="3 3" stroke="hsl(var(--border))" />
                  <XAxis
                    dataKey="month"
                    stroke="hsl(var(--muted-foreground))"
                    fontSize={12}
                  />
                  <YAxis
                    stroke="hsl(var(--muted-foreground))"
                    fontSize={12}
                    tickFormatter={(value) => `${(value / 1000000).toFixed(1)}M`}
                  />
                  <Tooltip
                    contentStyle={{
                      backgroundColor: "hsl(var(--card))",
                      border: "1px solid hsl(var(--border))",
                      borderRadius: "8px",
                    }}
                    formatter={(value: number) => [
                      `${value.toLocaleString()} RWF`,
                      "Revenue",
                    ]}
                  />
                  <Line
                    type="monotone"
                    dataKey="revenue"
                    stroke="hsl(var(--accent))"
                    strokeWidth={2}
                    dot={{ fill: "hsl(var(--accent))", strokeWidth: 2 }}
                  />
                </LineChart>
              </ResponsiveContainer>
            </div>
          </CardContent>
        </Card>

        {/* Ticket Sales Chart */}
        <Card className="border-border/50 bg-card/50 backdrop-blur">
          <CardHeader>
            <CardTitle className="text-lg">Weekly Ticket Sales</CardTitle>
          </CardHeader>
          <CardContent>
            <div className="h-[300px] w-full">
              <ResponsiveContainer width="100%" height="100%">
                <BarChart data={ticketSalesData}>
                  <CartesianGrid strokeDasharray="3 3" stroke="hsl(var(--border))" />
                  <XAxis
                    dataKey="name"
                    stroke="hsl(var(--muted-foreground))"
                    fontSize={12}
                  />
                  <YAxis stroke="hsl(var(--muted-foreground))" fontSize={12} />
                  <Tooltip
                    contentStyle={{
                      backgroundColor: "hsl(var(--card))",
                      border: "1px solid hsl(var(--border))",
                      borderRadius: "8px",
                    }}
                    formatter={(value: number) => [`${value} tickets`, "Sold"]}
                  />
                  <Bar
                    dataKey="sold"
                    fill="hsl(var(--accent))"
                    radius={[4, 4, 0, 0]}
                  />
                </BarChart>
              </ResponsiveContainer>
            </div>
          </CardContent>
        </Card>
      </div>

      {/* Bottom Row */}
      <div className="grid gap-6 lg:grid-cols-3">
        {/* Ticket Distribution */}
        <Card className="border-border/50 bg-card/50 backdrop-blur">
          <CardHeader>
            <CardTitle className="text-lg">Ticket Distribution</CardTitle>
          </CardHeader>
          <CardContent>
            <div className="h-[200px] w-full">
              <ResponsiveContainer width="100%" height="100%">
                <PieChart>
                  <Pie
                    data={categoryData}
                    cx="50%"
                    cy="50%"
                    innerRadius={50}
                    outerRadius={80}
                    paddingAngle={5}
                    dataKey="value"
                  >
                    {categoryData.map((entry, index) => (
                      <Cell key={`cell-${index}`} fill={entry.color} />
                    ))}
                  </Pie>
                  <Tooltip
                    contentStyle={{
                      backgroundColor: "hsl(var(--card))",
                      border: "1px solid hsl(var(--border))",
                      borderRadius: "8px",
                    }}
                    formatter={(value: number) => [`${value}%`, "Share"]}
                  />
                </PieChart>
              </ResponsiveContainer>
            </div>
            <div className="flex justify-center gap-4 mt-4">
              {categoryData.map((item) => (
                <div key={item.name} className="flex items-center gap-2">
                  <div
                    className="w-3 h-3 rounded-full"
                    style={{ backgroundColor: item.color }}
                  />
                  <span className="text-sm text-muted-foreground">{item.name}</span>
                </div>
              ))}
            </div>
          </CardContent>
        </Card>

        {/* Top Events */}
        <Card className="border-border/50 bg-card/50 backdrop-blur lg:col-span-2">
          <CardHeader>
            <CardTitle className="text-lg">Top Performing Events</CardTitle>
          </CardHeader>
          <CardContent>
            <div className="space-y-4">
              {topEvents.map((event, index) => (
                <div
                  key={event.name}
                  className="flex items-center justify-between p-3 rounded-lg bg-secondary/30"
                >
                  <div className="flex items-center gap-3">
                    <div className="w-8 h-8 rounded-full bg-accent/10 flex items-center justify-center text-accent font-medium text-sm">
                      {index + 1}
                    </div>
                    <div>
                      <p className="font-medium text-sm">{event.name}</p>
                      <p className="text-xs text-muted-foreground">
                        {event.tickets} tickets sold
                      </p>
                    </div>
                  </div>
                  <div className="text-right">
                    <p className="font-medium text-sm">
                      {event.revenue.toLocaleString()} RWF
                    </p>
                    <p className="text-xs text-muted-foreground">Revenue</p>
                  </div>
                </div>
              ))}
            </div>
          </CardContent>
        </Card>
      </div>
    </div>
  );
}
</file>

<file path="app/organizer/dashboard/page.tsx">
"use client";

import Link from "next/link";
import Image from "next/image";
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import { Badge } from "@/components/ui/badge";
import {
  TrendingUp,
  TrendingDown,
  Calendar,
  Users,
  Ticket,
  Wallet,
  ArrowRight,
  Plus,
} from "lucide-react";
import { mockEvents, mockAnalytics, formatRWF, formatDate } from "@/lib/mock-data";
import { useAuth } from "@/lib/auth-context";

export default function OrganizerDashboardPage() {
  const { user } = useAuth();

  // Filter events for current organizer
  const organizerEvents = mockEvents.filter((e) => e.organizerId === "org-1");
  const upcomingEvents = organizerEvents.filter(
    (e) => e.date > new Date() && e.isPublished
  );

  const stats = [
    {
      label: "Total Revenue",
      value: formatRWF(mockAnalytics.totalRevenue),
      change: "+12.5%",
      trend: "up",
      icon: Wallet,
    },
    {
      label: "Tickets Sold",
      value: mockAnalytics.totalTicketsSold.toLocaleString(),
      change: "+8.2%",
      trend: "up",
      icon: Ticket,
    },
    {
      label: "Total Attendees",
      value: mockAnalytics.totalAttendees.toLocaleString(),
      change: "+15.3%",
      trend: "up",
      icon: Users,
    },
    {
      label: "Active Events",
      value: upcomingEvents.length.toString(),
      change: "-2",
      trend: "down",
      icon: Calendar,
    },
  ];

  return (
    <div className="p-4 md:p-8">
      {/* Header */}
      <div className="mb-8">
        <h1 className="text-3xl font-bold">
          Welcome back, {user?.firstName || "Organizer"}
        </h1>
        <p className="mt-1 text-muted-foreground">
          Here&apos;s what&apos;s happening with your events.
        </p>
      </div>

      {/* Stats Grid */}
      <div className="grid gap-4 sm:grid-cols-2 lg:grid-cols-4 mb-8">
        {stats.map((stat) => (
          <Card key={stat.label}>
            <CardContent className="p-6">
              <div className="flex items-center justify-between">
                <div className="flex h-10 w-10 items-center justify-center rounded-lg bg-accent/10">
                  <stat.icon className="h-5 w-5 text-accent" />
                </div>
                <div
                  className={`flex items-center gap-1 text-sm ${
                    stat.trend === "up" ? "text-accent" : "text-destructive"
                  }`}
                >
                  {stat.trend === "up" ? (
                    <TrendingUp className="h-4 w-4" />
                  ) : (
                    <TrendingDown className="h-4 w-4" />
                  )}
                  {stat.change}
                </div>
              </div>
              <div className="mt-4">
                <p className="text-2xl font-bold">{stat.value}</p>
                <p className="text-sm text-muted-foreground">{stat.label}</p>
              </div>
            </CardContent>
          </Card>
        ))}
      </div>

      {/* Quick Actions & Recent Events */}
      <div className="grid gap-6 lg:grid-cols-3">
        {/* Upcoming Events */}
        <div className="lg:col-span-2">
          <Card>
            <CardHeader className="flex flex-row items-center justify-between">
              <CardTitle>Upcoming Events</CardTitle>
              <Button variant="ghost" size="sm" asChild>
                <Link href="/organizer/events" className="gap-1">
                  View All
                  <ArrowRight className="h-4 w-4" />
                </Link>
              </Button>
            </CardHeader>
            <CardContent>
              {upcomingEvents.length > 0 ? (
                <div className="space-y-4">
                  {upcomingEvents.slice(0, 3).map((event) => {
                    const totalSold = event.ticketTypes.reduce(
                      (sum, t) => sum + t.sold,
                      0
                    );
                    const totalCapacity = event.ticketTypes.reduce(
                      (sum, t) => sum + t.quantity,
                      0
                    );
                    const soldPercentage = Math.round(
                      (totalSold / totalCapacity) * 100
                    );

                    return (
                      <Link
                        key={event.id}
                        href={`/organizer/events/${event.id}`}
                        className="flex gap-4 p-3 rounded-lg hover:bg-secondary/50 transition-colors"
                      >
                        <div className="relative h-16 w-16 shrink-0 overflow-hidden rounded-lg">
                          <Image
                            src={event.imageUrl || "/placeholder.svg"}
                            alt={event.title}
                            fill
                            className="object-cover"
                          />
                        </div>
                        <div className="flex-1 min-w-0">
                          <h4 className="font-semibold truncate">{event.title}</h4>
                          <p className="text-sm text-muted-foreground">
                            {formatDate(event.date)}
                          </p>
                          <div className="mt-2 flex items-center gap-2">
                            <div className="flex-1 h-1.5 rounded-full bg-secondary overflow-hidden">
                              <div
                                className="h-full bg-accent rounded-full"
                                style={{ width: `${soldPercentage}%` }}
                              />
                            </div>
                            <span className="text-xs text-muted-foreground">
                              {soldPercentage}% sold
                            </span>
                          </div>
                        </div>
                        <div className="text-right">
                          <p className="font-semibold text-accent">
                            {totalSold.toLocaleString()}
                          </p>
                          <p className="text-xs text-muted-foreground">tickets</p>
                        </div>
                      </Link>
                    );
                  })}
                </div>
              ) : (
                <div className="py-8 text-center">
                  <Calendar className="mx-auto h-12 w-12 text-muted-foreground/50" />
                  <h3 className="mt-4 font-semibold">No upcoming events</h3>
                  <p className="mt-1 text-sm text-muted-foreground">
                    Create your first event to get started
                  </p>
                  <Button asChild className="mt-4 gap-2">
                    <Link href="/organizer/events/new">
                      <Plus className="h-4 w-4" />
                      Create Event
                    </Link>
                  </Button>
                </div>
              )}
            </CardContent>
          </Card>
        </div>

        {/* Quick Actions */}
        <div className="space-y-6">
          <Card>
            <CardHeader>
              <CardTitle>Quick Actions</CardTitle>
            </CardHeader>
            <CardContent className="space-y-2">
              <Button asChild variant="secondary" className="w-full justify-start gap-2">
                <Link href="/organizer/events/new">
                  <Plus className="h-4 w-4" />
                  Create New Event
                </Link>
              </Button>
              <Button asChild variant="secondary" className="w-full justify-start gap-2">
                <Link href="/organizer/analytics">
                  <TrendingUp className="h-4 w-4" />
                  View Analytics
                </Link>
              </Button>
              <Button asChild variant="secondary" className="w-full justify-start gap-2">
                <Link href="/organizer/payouts">
                  <Wallet className="h-4 w-4" />
                  Request Payout
                </Link>
              </Button>
            </CardContent>
          </Card>

          <Card>
            <CardHeader>
              <CardTitle>Revenue Summary</CardTitle>
            </CardHeader>
            <CardContent>
              <div className="space-y-4">
                <div className="flex justify-between items-center">
                  <span className="text-muted-foreground">Available Balance</span>
                  <span className="text-xl font-bold text-accent">
                    {formatRWF(8500000)}
                  </span>
                </div>
                <div className="flex justify-between items-center text-sm">
                  <span className="text-muted-foreground">Pending</span>
                  <span>{formatRWF(3500000)}</span>
                </div>
                <div className="flex justify-between items-center text-sm">
                  <span className="text-muted-foreground">Processing</span>
                  <Badge variant="secondary">In Review</Badge>
                </div>
                <Button asChild className="w-full mt-2">
                  <Link href="/organizer/payouts">Request Payout</Link>
                </Button>
              </div>
            </CardContent>
          </Card>
        </div>
      </div>
    </div>
  );
}
</file>

<file path="app/organizer/events/[id]/page.tsx">
"use client";

import { use, useState } from "react";
import Link from "next/link";
import Image from "next/image";
import { Button } from "@/components/ui/button";
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { Badge } from "@/components/ui/badge";
import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/components/ui/tabs";
import { Input } from "@/components/ui/input";
import {
  Table,
  TableBody,
  TableCell,
  TableHead,
  TableHeader,
  TableRow,
} from "@/components/ui/table";
import {
  ArrowLeft,
  Edit,
  ExternalLink,
  Copy,
  MoreHorizontal,
  Search,
  Download,
  Users,
  Ticket,
  DollarSign,
  TrendingUp,
  Calendar,
  MapPin,
  Clock,
  CheckCircle2,
  XCircle,
  Mail,
} from "lucide-react";
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuTrigger,
} from "@/components/ui/dropdown-menu";
import { mockEvents, mockOrders, mockTickets } from "@/lib/mock-data";

export default function OrganizerEventDetailPage({
  params,
}: {
  params: Promise<{ id: string }>;
}) {
  const { id } = use(params);
  const event = mockEvents.find((e) => e.id === id);
  const [searchQuery, setSearchQuery] = useState("");
  const [copiedLink, setCopiedLink] = useState(false);

  if (!event) {
    return (
      <div className="flex flex-col items-center justify-center min-h-[50vh] text-center">
        <h2 className="text-xl font-semibold mb-2">Event not found</h2>
        <p className="text-muted-foreground mb-4">
          The event you're looking for doesn't exist.
        </p>
        <Link href="/organizer/events">
          <Button variant="outline">Back to Events</Button>
        </Link>
      </div>
    );
  }

  // Get orders and tickets for this event
  const eventOrders = mockOrders.filter((o) => o.eventId === id);
  const eventTickets = mockTickets.filter((t) => t.eventId === id);
  const checkedInCount = eventTickets.filter(
    (t) => t.status === "used"
  ).length;

  const totalRevenue = eventOrders.reduce((acc, o) => acc + o.totalAmount, 0);
  const soldTickets = eventTickets.length;
  const totalCapacity = event.ticketTiers.reduce((acc, t) => acc + t.quantity, 0);

  const copyEventLink = () => {
    navigator.clipboard.writeText(`${window.location.origin}/events/${id}`);
    setCopiedLink(true);
    setTimeout(() => setCopiedLink(false), 2000);
  };

  const filteredOrders = eventOrders.filter(
    (order) =>
      order.buyerName.toLowerCase().includes(searchQuery.toLowerCase()) ||
      order.buyerEmail.toLowerCase().includes(searchQuery.toLowerCase()) ||
      order.id.toLowerCase().includes(searchQuery.toLowerCase())
  );

  const getStatusColor = (status: string) => {
    switch (status) {
      case "completed":
        return "bg-green-500/10 text-green-500 border-green-500/20";
      case "pending":
        return "bg-yellow-500/10 text-yellow-500 border-yellow-500/20";
      case "cancelled":
        return "bg-red-500/10 text-red-500 border-red-500/20";
      default:
        return "bg-muted text-muted-foreground";
    }
  };

  return (
    <div className="space-y-6 pb-8">
      {/* Header */}
      <div className="flex flex-col gap-4">
        <div className="flex items-center gap-3">
          <Link href="/organizer/events">
            <Button variant="ghost" size="icon" className="shrink-0">
              <ArrowLeft className="h-5 w-5" />
            </Button>
          </Link>
          <div className="flex-1 min-w-0">
            <div className="flex items-center gap-2 flex-wrap">
              <h1 className="text-2xl font-semibold tracking-tight truncate">
                {event.title}
              </h1>
              <Badge
                variant="outline"
                className={
                  event.status === "published"
                    ? "bg-green-500/10 text-green-500 border-green-500/20"
                    : event.status === "draft"
                      ? "bg-yellow-500/10 text-yellow-500 border-yellow-500/20"
                      : "bg-muted text-muted-foreground"
                }
              >
                {event.status}
              </Badge>
            </div>
            <p className="text-sm text-muted-foreground mt-1">
              Created on {new Date(event.createdAt).toLocaleDateString()}
            </p>
          </div>
        </div>
        <div className="flex flex-wrap gap-2">
          <Link href={`/organizer/events/${id}/edit`}>
            <Button variant="outline" size="sm">
              <Edit className="mr-2 h-4 w-4" />
              Edit Event
            </Button>
          </Link>
          <Link href={`/events/${id}`} target="_blank">
            <Button variant="outline" size="sm">
              <ExternalLink className="mr-2 h-4 w-4" />
              View Public Page
            </Button>
          </Link>
          <Button variant="outline" size="sm" onClick={copyEventLink}>
            <Copy className="mr-2 h-4 w-4" />
            {copiedLink ? "Copied!" : "Copy Link"}
          </Button>
        </div>
      </div>

      {/* Stats */}
      <div className="grid gap-4 grid-cols-2 lg:grid-cols-4">
        <Card className="border-border/50 bg-card/50 backdrop-blur">
          <CardContent className="pt-6">
            <div className="flex items-center gap-3">
              <div className="p-2 rounded-lg bg-accent/10">
                <DollarSign className="h-5 w-5 text-accent" />
              </div>
              <div>
                <p className="text-2xl font-semibold">
                  {totalRevenue.toLocaleString()}
                </p>
                <p className="text-xs text-muted-foreground">Total Revenue (RWF)</p>
              </div>
            </div>
          </CardContent>
        </Card>
        <Card className="border-border/50 bg-card/50 backdrop-blur">
          <CardContent className="pt-6">
            <div className="flex items-center gap-3">
              <div className="p-2 rounded-lg bg-blue-500/10">
                <Ticket className="h-5 w-5 text-blue-500" />
              </div>
              <div>
                <p className="text-2xl font-semibold">
                  {soldTickets}/{totalCapacity}
                </p>
                <p className="text-xs text-muted-foreground">Tickets Sold</p>
              </div>
            </div>
          </CardContent>
        </Card>
        <Card className="border-border/50 bg-card/50 backdrop-blur">
          <CardContent className="pt-6">
            <div className="flex items-center gap-3">
              <div className="p-2 rounded-lg bg-purple-500/10">
                <Users className="h-5 w-5 text-purple-500" />
              </div>
              <div>
                <p className="text-2xl font-semibold">{checkedInCount}</p>
                <p className="text-xs text-muted-foreground">Checked In</p>
              </div>
            </div>
          </CardContent>
        </Card>
        <Card className="border-border/50 bg-card/50 backdrop-blur">
          <CardContent className="pt-6">
            <div className="flex items-center gap-3">
              <div className="p-2 rounded-lg bg-orange-500/10">
                <TrendingUp className="h-5 w-5 text-orange-500" />
              </div>
              <div>
                <p className="text-2xl font-semibold">
                  {totalCapacity > 0
                    ? Math.round((soldTickets / totalCapacity) * 100)
                    : 0}
                  %
                </p>
                <p className="text-xs text-muted-foreground">Sell-through Rate</p>
              </div>
            </div>
          </CardContent>
        </Card>
      </div>

      {/* Event Info & Tabs */}
      <div className="grid gap-6 lg:grid-cols-3">
        {/* Event Details Card */}
        <Card className="border-border/50 bg-card/50 backdrop-blur lg:col-span-1">
          <CardContent className="pt-6 space-y-4">
            <div className="relative aspect-video rounded-lg overflow-hidden">
              <Image
                src={event.coverImage || "/placeholder.svg"}
                alt={event.title}
                fill
                className="object-cover"
              />
            </div>
            <div className="space-y-3">
              <div className="flex items-start gap-3">
                <Calendar className="h-4 w-4 text-muted-foreground mt-0.5 shrink-0" />
                <div>
                  <p className="text-sm font-medium">
                    {new Date(event.date).toLocaleDateString("en-US", {
                      weekday: "long",
                      month: "long",
                      day: "numeric",
                      year: "numeric",
                    })}
                  </p>
                </div>
              </div>
              <div className="flex items-start gap-3">
                <Clock className="h-4 w-4 text-muted-foreground mt-0.5 shrink-0" />
                <div>
                  <p className="text-sm font-medium">{event.time}</p>
                </div>
              </div>
              <div className="flex items-start gap-3">
                <MapPin className="h-4 w-4 text-muted-foreground mt-0.5 shrink-0" />
                <div>
                  <p className="text-sm font-medium">{event.venue}</p>
                  <p className="text-xs text-muted-foreground">
                    {event.location}
                  </p>
                </div>
              </div>
            </div>

            <div className="pt-4 border-t border-border/50">
              <h4 className="text-sm font-medium mb-3">Ticket Tiers</h4>
              <div className="space-y-2">
                {event.ticketTiers.map((tier) => (
                  <div
                    key={tier.id}
                    className="flex items-center justify-between text-sm"
                  >
                    <span className="text-muted-foreground">{tier.name}</span>
                    <span className="font-medium">
                      {tier.price === 0
                        ? "Free"
                        : `${tier.price.toLocaleString()} RWF`}
                    </span>
                  </div>
                ))}
              </div>
            </div>
          </CardContent>
        </Card>

        {/* Orders & Attendees Tabs */}
        <Card className="border-border/50 bg-card/50 backdrop-blur lg:col-span-2">
          <Tabs defaultValue="orders" className="w-full">
            <CardHeader className="pb-0">
              <TabsList className="w-full justify-start bg-secondary/50">
                <TabsTrigger value="orders">Orders</TabsTrigger>
                <TabsTrigger value="attendees">Attendees</TabsTrigger>
              </TabsList>
            </CardHeader>
            <CardContent className="pt-4">
              <TabsContent value="orders" className="mt-0 space-y-4">
                <div className="flex flex-col sm:flex-row gap-3">
                  <div className="relative flex-1">
                    <Search className="absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground" />
                    <Input
                      placeholder="Search orders..."
                      value={searchQuery}
                      onChange={(e) => setSearchQuery(e.target.value)}
                      className="pl-9 bg-secondary/50"
                    />
                  </div>
                  <Button variant="outline" size="sm">
                    <Download className="mr-2 h-4 w-4" />
                    Export
                  </Button>
                </div>

                <div className="rounded-lg border border-border/50 overflow-hidden">
                  <div className="overflow-x-auto">
                    <Table>
                      <TableHeader>
                        <TableRow className="bg-secondary/30 hover:bg-secondary/30">
                          <TableHead className="whitespace-nowrap">Order ID</TableHead>
                          <TableHead className="whitespace-nowrap">Customer</TableHead>
                          <TableHead className="whitespace-nowrap">Tickets</TableHead>
                          <TableHead className="whitespace-nowrap">Amount</TableHead>
                          <TableHead className="whitespace-nowrap">Status</TableHead>
                          <TableHead className="whitespace-nowrap">Date</TableHead>
                          <TableHead className="w-10" />
                        </TableRow>
                      </TableHeader>
                      <TableBody>
                        {filteredOrders.length === 0 ? (
                          <TableRow>
                            <TableCell
                              colSpan={7}
                              className="text-center py-8 text-muted-foreground"
                            >
                              No orders found
                            </TableCell>
                          </TableRow>
                        ) : (
                          filteredOrders.map((order) => (
                            <TableRow key={order.id}>
                              <TableCell className="font-mono text-xs whitespace-nowrap">
                                {order.id.slice(0, 8)}...
                              </TableCell>
                              <TableCell className="whitespace-nowrap">
                                <div>
                                  <p className="font-medium text-sm">
                                    {order.buyerName}
                                  </p>
                                  <p className="text-xs text-muted-foreground">
                                    {order.buyerEmail}
                                  </p>
                                </div>
                              </TableCell>
                              <TableCell className="whitespace-nowrap">{order.quantity}</TableCell>
                              <TableCell className="whitespace-nowrap">
                                {order.totalAmount.toLocaleString()} RWF
                              </TableCell>
                              <TableCell className="whitespace-nowrap">
                                <Badge
                                  variant="outline"
                                  className={getStatusColor(order.status)}
                                >
                                  {order.status}
                                </Badge>
                              </TableCell>
                              <TableCell className="text-xs text-muted-foreground whitespace-nowrap">
                                {new Date(order.createdAt).toLocaleDateString()}
                              </TableCell>
                              <TableCell>
                                <DropdownMenu>
                                  <DropdownMenuTrigger asChild>
                                    <Button variant="ghost" size="icon" className="h-8 w-8">
                                      <MoreHorizontal className="h-4 w-4" />
                                    </Button>
                                  </DropdownMenuTrigger>
                                  <DropdownMenuContent align="end">
                                    <DropdownMenuItem>
                                      <Mail className="mr-2 h-4 w-4" />
                                      Resend Tickets
                                    </DropdownMenuItem>
                                    <DropdownMenuItem>View Details</DropdownMenuItem>
                                    <DropdownMenuItem className="text-destructive">
                                      <XCircle className="mr-2 h-4 w-4" />
                                      Cancel Order
                                    </DropdownMenuItem>
                                  </DropdownMenuContent>
                                </DropdownMenu>
                              </TableCell>
                            </TableRow>
                          ))
                        )}
                      </TableBody>
                    </Table>
                  </div>
                </div>
              </TabsContent>

              <TabsContent value="attendees" className="mt-0 space-y-4">
                <div className="flex flex-col sm:flex-row gap-3">
                  <div className="relative flex-1">
                    <Search className="absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground" />
                    <Input
                      placeholder="Search attendees..."
                      className="pl-9 bg-secondary/50"
                    />
                  </div>
                  <Button variant="outline" size="sm">
                    <Download className="mr-2 h-4 w-4" />
                    Export List
                  </Button>
                </div>

                <div className="rounded-lg border border-border/50 overflow-hidden">
                  <div className="overflow-x-auto">
                    <Table>
                      <TableHeader>
                        <TableRow className="bg-secondary/30 hover:bg-secondary/30">
                          <TableHead className="whitespace-nowrap">Ticket ID</TableHead>
                          <TableHead className="whitespace-nowrap">Attendee</TableHead>
                          <TableHead className="whitespace-nowrap">Tier</TableHead>
                          <TableHead className="whitespace-nowrap">Status</TableHead>
                          <TableHead className="whitespace-nowrap">Checked In</TableHead>
                        </TableRow>
                      </TableHeader>
                      <TableBody>
                        {eventTickets.length === 0 ? (
                          <TableRow>
                            <TableCell
                              colSpan={5}
                              className="text-center py-8 text-muted-foreground"
                            >
                              No attendees yet
                            </TableCell>
                          </TableRow>
                        ) : (
                          eventTickets.map((ticket) => (
                            <TableRow key={ticket.id}>
                              <TableCell className="font-mono text-xs whitespace-nowrap">
                                {ticket.id.slice(0, 8)}...
                              </TableCell>
                              <TableCell className="whitespace-nowrap">
                                <div>
                                  <p className="font-medium text-sm">
                                    {ticket.holderName}
                                  </p>
                                  <p className="text-xs text-muted-foreground">
                                    {ticket.holderEmail}
                                  </p>
                                </div>
                              </TableCell>
                              <TableCell className="whitespace-nowrap">{ticket.tierName}</TableCell>
                              <TableCell className="whitespace-nowrap">
                                <Badge
                                  variant="outline"
                                  className={
                                    ticket.status === "valid"
                                      ? "bg-green-500/10 text-green-500 border-green-500/20"
                                      : ticket.status === "used"
                                        ? "bg-blue-500/10 text-blue-500 border-blue-500/20"
                                        : "bg-red-500/10 text-red-500 border-red-500/20"
                                  }
                                >
                                  {ticket.status}
                                </Badge>
                              </TableCell>
                              <TableCell className="whitespace-nowrap">
                                {ticket.status === "used" ? (
                                  <div className="flex items-center gap-1 text-green-500">
                                    <CheckCircle2 className="h-4 w-4" />
                                    <span className="text-xs">Yes</span>
                                  </div>
                                ) : (
                                  <span className="text-xs text-muted-foreground">
                                    No
                                  </span>
                                )}
                              </TableCell>
                            </TableRow>
                          ))
                        )}
                      </TableBody>
                    </Table>
                  </div>
                </div>
              </TabsContent>
            </CardContent>
          </Tabs>
        </Card>
      </div>
    </div>
  );
}
</file>

<file path="app/organizer/events/loading.tsx">
export default function Loading() {
  return null;
}
</file>

<file path="app/organizer/events/new/page.tsx">
"use client";

import React from "react"

import { useState } from "react";
import { useRouter } from "next/navigation";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";
import { Textarea } from "@/components/ui/textarea";
import {
  Select,
  SelectContent,
  SelectItem,
  SelectTrigger,
  SelectValue,
} from "@/components/ui/select";
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { Switch } from "@/components/ui/switch";
import {
  ArrowLeft,
  Plus,
  Trash2,
  Upload,
  Calendar,
  MapPin,
  Tag,
  Ticket,
  ImageIcon,
} from "lucide-react";
import Link from "next/link";

interface TicketTier {
  id: string;
  name: string;
  price: number;
  quantity: number;
  description: string;
  maxPerOrder: number;
}

const categories = [
  "Music",
  "Business",
  "Sports",
  "Arts & Culture",
  "Food & Drink",
  "Technology",
  "Health & Wellness",
  "Education",
];

const locations = [
  "Kigali",
  "Musanze",
  "Rubavu",
  "Huye",
  "Nyagatare",
  "Muhanga",
  "Rusizi",
  "Karongi",
];

export default function NewEventPage() {
  const router = useRouter();
  const [isSubmitting, setIsSubmitting] = useState(false);
  const [ticketTiers, setTicketTiers] = useState<TicketTier[]>([
    {
      id: "1",
      name: "General Admission",
      price: 0,
      quantity: 100,
      description: "",
      maxPerOrder: 10,
    },
  ]);
  const [isFreeEvent, setIsFreeEvent] = useState(false);
  const [formData, setFormData] = useState({
    title: "",
    description: "",
    category: "",
    date: "",
    time: "",
    endDate: "",
    endTime: "",
    venue: "",
    address: "",
    city: "Kigali",
    coverImage: "",
  });

  const addTicketTier = () => {
    const newTier: TicketTier = {
      id: Date.now().toString(),
      name: "",
      price: 0,
      quantity: 50,
      description: "",
      maxPerOrder: 10,
    };
    setTicketTiers([...ticketTiers, newTier]);
  };

  const removeTicketTier = (id: string) => {
    if (ticketTiers.length > 1) {
      setTicketTiers(ticketTiers.filter((tier) => tier.id !== id));
    }
  };

  const updateTicketTier = (
    id: string,
    field: keyof TicketTier,
    value: string | number
  ) => {
    setTicketTiers(
      ticketTiers.map((tier) =>
        tier.id === id ? { ...tier, [field]: value } : tier
      )
    );
  };

  const handleSubmit = async (e: React.FormEvent, status: "draft" | "published") => {
    e.preventDefault();
    setIsSubmitting(true);

    // Simulate API call
    await new Promise((resolve) => setTimeout(resolve, 1500));

    router.push("/organizer/events");
  };

  return (
    <div className="space-y-6 pb-8">
      {/* Header */}
      <div className="flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between">
        <div className="flex items-center gap-3">
          <Link href="/organizer/events">
            <Button variant="ghost" size="icon" className="shrink-0">
              <ArrowLeft className="h-5 w-5" />
            </Button>
          </Link>
          <div>
            <h1 className="text-2xl font-semibold tracking-tight">
              Create New Event
            </h1>
            <p className="text-sm text-muted-foreground">
              Fill in the details to create your event
            </p>
          </div>
        </div>
        <div className="flex gap-2">
          <Button
            variant="outline"
            onClick={(e) => handleSubmit(e, "draft")}
            disabled={isSubmitting}
          >
            Save as Draft
          </Button>
          <Button
            onClick={(e) => handleSubmit(e, "published")}
            disabled={isSubmitting}
            className="bg-accent text-accent-foreground hover:bg-accent/90"
          >
            {isSubmitting ? "Creating..." : "Publish Event"}
          </Button>
        </div>
      </div>

      <form className="grid gap-6 lg:grid-cols-3">
        {/* Main Content */}
        <div className="space-y-6 lg:col-span-2">
          {/* Basic Info */}
          <Card className="border-border/50 bg-card/50 backdrop-blur">
            <CardHeader className="pb-4">
              <CardTitle className="flex items-center gap-2 text-lg">
                <Tag className="h-5 w-5 text-accent" />
                Basic Information
              </CardTitle>
            </CardHeader>
            <CardContent className="space-y-4">
              <div className="space-y-2">
                <Label htmlFor="title">Event Title *</Label>
                <Input
                  id="title"
                  placeholder="Enter event title"
                  value={formData.title}
                  onChange={(e) =>
                    setFormData({ ...formData, title: e.target.value })
                  }
                  className="bg-secondary/50"
                />
              </div>

              <div className="space-y-2">
                <Label htmlFor="description">Description *</Label>
                <Textarea
                  id="description"
                  placeholder="Describe your event..."
                  rows={5}
                  value={formData.description}
                  onChange={(e) =>
                    setFormData({ ...formData, description: e.target.value })
                  }
                  className="bg-secondary/50 resize-none"
                />
              </div>

              <div className="space-y-2">
                <Label htmlFor="category">Category *</Label>
                <Select
                  value={formData.category}
                  onValueChange={(value) =>
                    setFormData({ ...formData, category: value })
                  }
                >
                  <SelectTrigger className="bg-secondary/50">
                    <SelectValue placeholder="Select category" />
                  </SelectTrigger>
                  <SelectContent>
                    {categories.map((cat) => (
                      <SelectItem key={cat} value={cat.toLowerCase()}>
                        {cat}
                      </SelectItem>
                    ))}
                  </SelectContent>
                </Select>
              </div>
            </CardContent>
          </Card>

          {/* Date & Time */}
          <Card className="border-border/50 bg-card/50 backdrop-blur">
            <CardHeader className="pb-4">
              <CardTitle className="flex items-center gap-2 text-lg">
                <Calendar className="h-5 w-5 text-accent" />
                Date & Time
              </CardTitle>
            </CardHeader>
            <CardContent className="space-y-4">
              <div className="grid gap-4 sm:grid-cols-2">
                <div className="space-y-2">
                  <Label htmlFor="date">Start Date *</Label>
                  <Input
                    id="date"
                    type="date"
                    value={formData.date}
                    onChange={(e) =>
                      setFormData({ ...formData, date: e.target.value })
                    }
                    className="bg-secondary/50"
                  />
                </div>
                <div className="space-y-2">
                  <Label htmlFor="time">Start Time *</Label>
                  <Input
                    id="time"
                    type="time"
                    value={formData.time}
                    onChange={(e) =>
                      setFormData({ ...formData, time: e.target.value })
                    }
                    className="bg-secondary/50"
                  />
                </div>
              </div>
              <div className="grid gap-4 sm:grid-cols-2">
                <div className="space-y-2">
                  <Label htmlFor="endDate">End Date</Label>
                  <Input
                    id="endDate"
                    type="date"
                    value={formData.endDate}
                    onChange={(e) =>
                      setFormData({ ...formData, endDate: e.target.value })
                    }
                    className="bg-secondary/50"
                  />
                </div>
                <div className="space-y-2">
                  <Label htmlFor="endTime">End Time</Label>
                  <Input
                    id="endTime"
                    type="time"
                    value={formData.endTime}
                    onChange={(e) =>
                      setFormData({ ...formData, endTime: e.target.value })
                    }
                    className="bg-secondary/50"
                  />
                </div>
              </div>
            </CardContent>
          </Card>

          {/* Location */}
          <Card className="border-border/50 bg-card/50 backdrop-blur">
            <CardHeader className="pb-4">
              <CardTitle className="flex items-center gap-2 text-lg">
                <MapPin className="h-5 w-5 text-accent" />
                Location
              </CardTitle>
            </CardHeader>
            <CardContent className="space-y-4">
              <div className="space-y-2">
                <Label htmlFor="venue">Venue Name *</Label>
                <Input
                  id="venue"
                  placeholder="e.g., Kigali Convention Centre"
                  value={formData.venue}
                  onChange={(e) =>
                    setFormData({ ...formData, venue: e.target.value })
                  }
                  className="bg-secondary/50"
                />
              </div>

              <div className="space-y-2">
                <Label htmlFor="address">Street Address</Label>
                <Input
                  id="address"
                  placeholder="Enter street address"
                  value={formData.address}
                  onChange={(e) =>
                    setFormData({ ...formData, address: e.target.value })
                  }
                  className="bg-secondary/50"
                />
              </div>

              <div className="space-y-2">
                <Label htmlFor="city">City *</Label>
                <Select
                  value={formData.city}
                  onValueChange={(value) =>
                    setFormData({ ...formData, city: value })
                  }
                >
                  <SelectTrigger className="bg-secondary/50">
                    <SelectValue placeholder="Select city" />
                  </SelectTrigger>
                  <SelectContent>
                    {locations.map((loc) => (
                      <SelectItem key={loc} value={loc}>
                        {loc}
                      </SelectItem>
                    ))}
                  </SelectContent>
                </Select>
              </div>
            </CardContent>
          </Card>

          {/* Tickets */}
          <Card className="border-border/50 bg-card/50 backdrop-blur">
            <CardHeader className="pb-4">
              <div className="flex items-center justify-between">
                <CardTitle className="flex items-center gap-2 text-lg">
                  <Ticket className="h-5 w-5 text-accent" />
                  Ticket Tiers
                </CardTitle>
                <div className="flex items-center gap-2">
                  <Label htmlFor="free-event" className="text-sm">
                    Free Event
                  </Label>
                  <Switch
                    id="free-event"
                    checked={isFreeEvent}
                    onCheckedChange={setIsFreeEvent}
                  />
                </div>
              </div>
            </CardHeader>
            <CardContent className="space-y-4">
              {ticketTiers.map((tier, index) => (
                <div
                  key={tier.id}
                  className="rounded-lg border border-border/50 bg-secondary/30 p-4 space-y-4"
                >
                  <div className="flex items-center justify-between">
                    <span className="text-sm font-medium text-muted-foreground">
                      Tier {index + 1}
                    </span>
                    {ticketTiers.length > 1 && (
                      <Button
                        type="button"
                        variant="ghost"
                        size="icon"
                        className="h-8 w-8 text-destructive hover:text-destructive"
                        onClick={() => removeTicketTier(tier.id)}
                      >
                        <Trash2 className="h-4 w-4" />
                      </Button>
                    )}
                  </div>

                  <div className="grid gap-4 sm:grid-cols-2">
                    <div className="space-y-2">
                      <Label>Tier Name *</Label>
                      <Input
                        placeholder="e.g., VIP, Regular"
                        value={tier.name}
                        onChange={(e) =>
                          updateTicketTier(tier.id, "name", e.target.value)
                        }
                        className="bg-background/50"
                      />
                    </div>
                    <div className="space-y-2">
                      <Label>Price (RWF) *</Label>
                      <Input
                        type="number"
                        min="0"
                        placeholder="0"
                        value={isFreeEvent ? 0 : tier.price}
                        onChange={(e) =>
                          updateTicketTier(
                            tier.id,
                            "price",
                            parseInt(e.target.value) || 0
                          )
                        }
                        disabled={isFreeEvent}
                        className="bg-background/50"
                      />
                    </div>
                    <div className="space-y-2">
                      <Label>Quantity Available *</Label>
                      <Input
                        type="number"
                        min="1"
                        placeholder="100"
                        value={tier.quantity}
                        onChange={(e) =>
                          updateTicketTier(
                            tier.id,
                            "quantity",
                            parseInt(e.target.value) || 1
                          )
                        }
                        className="bg-background/50"
                      />
                    </div>
                    <div className="space-y-2">
                      <Label>Max Per Order</Label>
                      <Input
                        type="number"
                        min="1"
                        max="20"
                        placeholder="10"
                        value={tier.maxPerOrder}
                        onChange={(e) =>
                          updateTicketTier(
                            tier.id,
                            "maxPerOrder",
                            parseInt(e.target.value) || 1
                          )
                        }
                        className="bg-background/50"
                      />
                    </div>
                  </div>

                  <div className="space-y-2">
                    <Label>Description</Label>
                    <Textarea
                      placeholder="Describe what's included with this ticket..."
                      rows={2}
                      value={tier.description}
                      onChange={(e) =>
                        updateTicketTier(tier.id, "description", e.target.value)
                      }
                      className="bg-background/50 resize-none"
                    />
                  </div>
                </div>
              ))}

              <Button
                type="button"
                variant="outline"
                className="w-full border-dashed bg-transparent"
                onClick={addTicketTier}
              >
                <Plus className="mr-2 h-4 w-4" />
                Add Ticket Tier
              </Button>
            </CardContent>
          </Card>
        </div>

        {/* Sidebar */}
        <div className="space-y-6">
          {/* Cover Image */}
          <Card className="border-border/50 bg-card/50 backdrop-blur">
            <CardHeader className="pb-4">
              <CardTitle className="flex items-center gap-2 text-lg">
                <ImageIcon className="h-5 w-5 text-accent" />
                Cover Image
              </CardTitle>
            </CardHeader>
            <CardContent>
              <div className="relative aspect-video rounded-lg border-2 border-dashed border-border/50 bg-secondary/30 flex items-center justify-center hover:border-accent/50 transition-colors cursor-pointer group">
                <div className="text-center">
                  <Upload className="mx-auto h-8 w-8 text-muted-foreground group-hover:text-accent transition-colors" />
                  <p className="mt-2 text-sm text-muted-foreground">
                    Click to upload
                  </p>
                  <p className="text-xs text-muted-foreground/70">
                    PNG, JPG up to 5MB
                  </p>
                </div>
                <input
                  type="file"
                  accept="image/*"
                  className="absolute inset-0 opacity-0 cursor-pointer"
                />
              </div>
            </CardContent>
          </Card>

          {/* Event Summary */}
          <Card className="border-border/50 bg-card/50 backdrop-blur">
            <CardHeader className="pb-4">
              <CardTitle className="text-lg">Event Summary</CardTitle>
            </CardHeader>
            <CardContent className="space-y-3">
              <div className="flex justify-between text-sm">
                <span className="text-muted-foreground">Total Capacity</span>
                <span className="font-medium">
                  {ticketTiers.reduce((acc, tier) => acc + tier.quantity, 0)}
                </span>
              </div>
              <div className="flex justify-between text-sm">
                <span className="text-muted-foreground">Ticket Tiers</span>
                <span className="font-medium">{ticketTiers.length}</span>
              </div>
              <div className="flex justify-between text-sm">
                <span className="text-muted-foreground">Price Range</span>
                <span className="font-medium">
                  {isFreeEvent
                    ? "Free"
                    : `${Math.min(...ticketTiers.map((t) => t.price)).toLocaleString()} - ${Math.max(...ticketTiers.map((t) => t.price)).toLocaleString()} RWF`}
                </span>
              </div>
            </CardContent>
          </Card>

          {/* Tips */}
          <Card className="border-accent/20 bg-accent/5">
            <CardContent className="pt-6">
              <h4 className="font-medium text-accent mb-2">Tips for Success</h4>
              <ul className="space-y-2 text-sm text-muted-foreground">
                <li className="flex items-start gap-2">
                  <span className="text-accent mt-1"></span>
                  Use a high-quality cover image
                </li>
                <li className="flex items-start gap-2">
                  <span className="text-accent mt-1"></span>
                  Write a detailed description
                </li>
                <li className="flex items-start gap-2">
                  <span className="text-accent mt-1"></span>
                  Set competitive ticket prices
                </li>
                <li className="flex items-start gap-2">
                  <span className="text-accent mt-1"></span>
                  Promote on social media
                </li>
              </ul>
            </CardContent>
          </Card>
        </div>
      </form>
    </div>
  );
}
</file>

<file path="app/organizer/events/page.tsx">
"use client";

import { useState } from "react";
import Link from "next/link";
import Image from "next/image";
import { Button } from "@/components/ui/button";
import { Card, CardContent } from "@/components/ui/card";
import { Badge } from "@/components/ui/badge";
import { Input } from "@/components/ui/input";
import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/components/ui/tabs";
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuSeparator,
  DropdownMenuTrigger,
} from "@/components/ui/dropdown-menu";
import {
  Calendar,
  Search,
  Plus,
  MoreHorizontal,
  Eye,
  Edit,
  Copy,
  Trash2,
  Users,
  Ticket,
  MapPin,
} from "lucide-react";
import { mockEvents, formatDate, formatRWF } from "@/lib/mock-data";

export default function OrganizerEventsPage() {
  const [searchQuery, setSearchQuery] = useState("");
  const [activeTab, setActiveTab] = useState("all");

  const organizerEvents = mockEvents.filter((e) => e.organizerId === "org-1");

  const filteredEvents = organizerEvents.filter((event) => {
    const matchesSearch =
      event.title.toLowerCase().includes(searchQuery.toLowerCase()) ||
      event.venue.name.toLowerCase().includes(searchQuery.toLowerCase());

    if (activeTab === "all") return matchesSearch;
    if (activeTab === "published") return matchesSearch && event.isPublished;
    if (activeTab === "draft") return matchesSearch && !event.isPublished;
    if (activeTab === "past")
      return matchesSearch && event.date < new Date();

    return matchesSearch;
  });

  return (
    <div className="p-4 md:p-8">
      {/* Header */}
      <div className="flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between mb-8">
        <div>
          <h1 className="text-3xl font-bold">Events</h1>
          <p className="mt-1 text-muted-foreground">
            Manage and monitor your events
          </p>
        </div>
        <Button asChild className="gap-2">
          <Link href="/organizer/events/new">
            <Plus className="h-4 w-4" />
            Create Event
          </Link>
        </Button>
      </div>

      {/* Search & Filter */}
      <div className="flex flex-col gap-4 sm:flex-row sm:items-center mb-6">
        <div className="relative flex-1 max-w-md">
          <Search className="absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground" />
          <Input
            placeholder="Search events..."
            value={searchQuery}
            onChange={(e) => setSearchQuery(e.target.value)}
            className="pl-10"
          />
        </div>
        <Tabs value={activeTab} onValueChange={setActiveTab}>
          <TabsList>
            <TabsTrigger value="all">All</TabsTrigger>
            <TabsTrigger value="published">Published</TabsTrigger>
            <TabsTrigger value="draft">Draft</TabsTrigger>
            <TabsTrigger value="past">Past</TabsTrigger>
          </TabsList>
        </Tabs>
      </div>

      {/* Events List */}
      {filteredEvents.length > 0 ? (
        <div className="space-y-4">
          {filteredEvents.map((event) => {
            const totalSold = event.ticketTypes.reduce((sum, t) => sum + t.sold, 0);
            const totalCapacity = event.ticketTypes.reduce(
              (sum, t) => sum + t.quantity,
              0
            );
            const totalRevenue = event.ticketTypes.reduce(
              (sum, t) => sum + t.sold * t.price,
              0
            );
            const soldPercentage = Math.round((totalSold / totalCapacity) * 100);
            const isPast = event.date < new Date();

            return (
              <Card key={event.id} className={isPast ? "opacity-75" : ""}>
                <CardContent className="p-0">
                  <div className="flex flex-col md:flex-row">
                    {/* Image */}
                    <div className="relative h-48 md:h-auto md:w-48 shrink-0">
                      <Image
                        src={event.imageUrl || "/placeholder.svg"}
                        alt={event.title}
                        fill
                        className="object-cover"
                      />
                    </div>

                    {/* Content */}
                    <div className="flex-1 p-4 md:p-6">
                      <div className="flex items-start justify-between gap-4">
                        <div className="flex-1 min-w-0">
                          <div className="flex items-center gap-2 mb-2">
                            <Badge
                              variant={event.isPublished ? "default" : "secondary"}
                              className={
                                event.isPublished
                                  ? "bg-accent/20 text-accent"
                                  : ""
                              }
                            >
                              {event.isPublished ? "Published" : "Draft"}
                            </Badge>
                            {isPast && (
                              <Badge variant="secondary">Past</Badge>
                            )}
                            {event.isFeatured && (
                              <Badge variant="outline">Featured</Badge>
                            )}
                          </div>

                          <Link
                            href={`/organizer/events/${event.id}`}
                            className="hover:text-accent transition-colors"
                          >
                            <h3 className="text-xl font-semibold truncate">
                              {event.title}
                            </h3>
                          </Link>

                          <div className="mt-2 flex flex-wrap gap-4 text-sm text-muted-foreground">
                            <div className="flex items-center gap-1">
                              <Calendar className="h-4 w-4" />
                              {formatDate(event.date)}
                            </div>
                            <div className="flex items-center gap-1">
                              <MapPin className="h-4 w-4" />
                              {event.venue.name}
                            </div>
                          </div>
                        </div>

                        <DropdownMenu>
                          <DropdownMenuTrigger asChild>
                            <Button variant="ghost" size="icon">
                              <MoreHorizontal className="h-5 w-5" />
                            </Button>
                          </DropdownMenuTrigger>
                          <DropdownMenuContent align="end">
                            <DropdownMenuItem asChild>
                              <Link href={`/events/${event.id}`}>
                                <Eye className="mr-2 h-4 w-4" />
                                View Public Page
                              </Link>
                            </DropdownMenuItem>
                            <DropdownMenuItem asChild>
                              <Link href={`/organizer/events/${event.id}/edit`}>
                                <Edit className="mr-2 h-4 w-4" />
                                Edit Event
                              </Link>
                            </DropdownMenuItem>
                            <DropdownMenuItem>
                              <Copy className="mr-2 h-4 w-4" />
                              Duplicate
                            </DropdownMenuItem>
                            <DropdownMenuSeparator />
                            <DropdownMenuItem className="text-destructive">
                              <Trash2 className="mr-2 h-4 w-4" />
                              Delete
                            </DropdownMenuItem>
                          </DropdownMenuContent>
                        </DropdownMenu>
                      </div>

                      {/* Stats */}
                      <div className="mt-4 grid grid-cols-3 gap-4">
                        <div className="rounded-lg bg-secondary/50 p-3">
                          <div className="flex items-center gap-2 text-muted-foreground">
                            <Ticket className="h-4 w-4" />
                            <span className="text-xs">Tickets Sold</span>
                          </div>
                          <p className="mt-1 text-lg font-semibold">
                            {totalSold.toLocaleString()}
                            <span className="text-sm font-normal text-muted-foreground">
                              /{totalCapacity.toLocaleString()}
                            </span>
                          </p>
                        </div>
                        <div className="rounded-lg bg-secondary/50 p-3">
                          <div className="flex items-center gap-2 text-muted-foreground">
                            <Users className="h-4 w-4" />
                            <span className="text-xs">Sold %</span>
                          </div>
                          <p className="mt-1 text-lg font-semibold">
                            {soldPercentage}%
                          </p>
                        </div>
                        <div className="rounded-lg bg-secondary/50 p-3">
                          <div className="flex items-center gap-2 text-muted-foreground">
                            <span className="text-xs">Revenue</span>
                          </div>
                          <p className="mt-1 text-lg font-semibold text-accent">
                            {formatRWF(totalRevenue)}
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>
                </CardContent>
              </Card>
            );
          })}
        </div>
      ) : (
        <Card className="border-dashed">
          <CardContent className="py-16 text-center">
            <Calendar className="mx-auto h-12 w-12 text-muted-foreground/50" />
            <h3 className="mt-4 text-lg font-semibold">No events found</h3>
            <p className="mt-2 text-muted-foreground">
              {searchQuery
                ? "Try a different search term"
                : "Create your first event to get started"}
            </p>
            {!searchQuery && (
              <Button asChild className="mt-6 gap-2">
                <Link href="/organizer/events/new">
                  <Plus className="h-4 w-4" />
                  Create Event
                </Link>
              </Button>
            )}
          </CardContent>
        </Card>
      )}
    </div>
  );
}
</file>

<file path="app/organizer/layout.tsx">
"use client";

import React from "react"

import { useState } from "react";
import Link from "next/link";
import { usePathname } from "next/navigation";
import { Button } from "@/components/ui/button";
import { Sheet, SheetContent, SheetTrigger } from "@/components/ui/sheet";
import { AuthProvider, useAuth } from "@/lib/auth-context";
import { cn } from "@/lib/utils";
import {
  Ticket,
  LayoutDashboard,
  Calendar,
  BarChart3,
  Wallet,
  Settings,
  LogOut,
  Menu,
  Plus,
  User,
  ChevronDown,
} from "lucide-react";
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuSeparator,
  DropdownMenuTrigger,
} from "@/components/ui/dropdown-menu";

const navItems = [
  { label: "Dashboard", href: "/organizer/dashboard", icon: LayoutDashboard },
  { label: "Events", href: "/organizer/events", icon: Calendar },
  { label: "Analytics", href: "/organizer/analytics", icon: BarChart3 },
  { label: "Payouts", href: "/organizer/payouts", icon: Wallet },
  { label: "Settings", href: "/organizer/settings", icon: Settings },
];

function OrganizerNav() {
  const pathname = usePathname();
  const { user, logout, setMockUser } = useAuth();
  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);

  // Auto-set organizer for demo
  if (!user || user.role !== "organizer") {
    setMockUser("organizer");
  }

  return (
    <>
      {/* Desktop Sidebar */}
      <aside className="hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col">
        <div className="flex flex-col flex-1 border-r border-border bg-card">
          {/* Logo */}
          <div className="flex h-16 items-center gap-2 border-b border-border px-6">
            <Link href="/" className="flex items-center gap-2">
              <div className="flex h-8 w-8 items-center justify-center rounded-lg bg-accent">
                <Ticket className="h-5 w-5 text-accent-foreground" />
              </div>
              <span className="text-xl font-bold tracking-tight">Tikiti</span>
            </Link>
          </div>

          {/* Create Event Button */}
          <div className="p-4">
            <Button asChild className="w-full gap-2">
              <Link href="/organizer/events/new">
                <Plus className="h-4 w-4" />
                Create Event
              </Link>
            </Button>
          </div>

          {/* Navigation */}
          <nav className="flex-1 px-3 py-2">
            {navItems.map((item) => {
              const isActive = pathname === item.href || pathname.startsWith(item.href + "/");
              return (
                <Link
                  key={item.href}
                  href={item.href}
                  className={cn(
                    "flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium transition-colors",
                    isActive
                      ? "bg-accent text-accent-foreground"
                      : "text-muted-foreground hover:bg-secondary hover:text-foreground"
                  )}
                >
                  <item.icon className="h-5 w-5" />
                  {item.label}
                </Link>
              );
            })}
          </nav>

          {/* User Section */}
          <div className="border-t border-border p-4">
            <DropdownMenu>
              <DropdownMenuTrigger asChild>
                <button className="flex w-full items-center gap-3 rounded-lg p-2 hover:bg-secondary transition-colors">
                  <div className="flex h-9 w-9 items-center justify-center rounded-full bg-secondary">
                    <User className="h-5 w-5 text-muted-foreground" />
                  </div>
                  <div className="flex-1 text-left">
                    <p className="text-sm font-medium truncate">
                      {user?.firstName} {user?.lastName}
                    </p>
                    <p className="text-xs text-muted-foreground">Organizer</p>
                  </div>
                  <ChevronDown className="h-4 w-4 text-muted-foreground" />
                </button>
              </DropdownMenuTrigger>
              <DropdownMenuContent align="end" className="w-56">
                <DropdownMenuItem asChild>
                  <Link href="/organizer/settings">
                    <Settings className="mr-2 h-4 w-4" />
                    Settings
                  </Link>
                </DropdownMenuItem>
                <DropdownMenuItem asChild>
                  <Link href="/">
                    <Ticket className="mr-2 h-4 w-4" />
                    Browse Events
                  </Link>
                </DropdownMenuItem>
                <DropdownMenuSeparator />
                <DropdownMenuItem onClick={logout} className="text-destructive">
                  <LogOut className="mr-2 h-4 w-4" />
                  Sign Out
                </DropdownMenuItem>
              </DropdownMenuContent>
            </DropdownMenu>
          </div>
        </div>
      </aside>

      {/* Mobile Header */}
      <header className="lg:hidden sticky top-0 z-50 flex h-16 items-center justify-between border-b border-border bg-card px-4">
        <Link href="/" className="flex items-center gap-2">
          <div className="flex h-8 w-8 items-center justify-center rounded-lg bg-accent">
            <Ticket className="h-5 w-5 text-accent-foreground" />
          </div>
          <span className="text-xl font-bold tracking-tight">Tikiti</span>
        </Link>

        <Sheet open={mobileMenuOpen} onOpenChange={setMobileMenuOpen}>
          <SheetTrigger asChild>
            <Button variant="ghost" size="icon">
              <Menu className="h-5 w-5" />
            </Button>
          </SheetTrigger>
          <SheetContent side="right" className="w-full max-w-xs p-0">
            <div className="flex flex-col h-full">
              <div className="p-4 border-b border-border">
                <Button asChild className="w-full gap-2">
                  <Link href="/organizer/events/new" onClick={() => setMobileMenuOpen(false)}>
                    <Plus className="h-4 w-4" />
                    Create Event
                  </Link>
                </Button>
              </div>

              <nav className="flex-1 p-3">
                {navItems.map((item) => {
                  const isActive = pathname === item.href || pathname.startsWith(item.href + "/");
                  return (
                    <Link
                      key={item.href}
                      href={item.href}
                      onClick={() => setMobileMenuOpen(false)}
                      className={cn(
                        "flex items-center gap-3 rounded-lg px-3 py-3 text-sm font-medium transition-colors",
                        isActive
                          ? "bg-accent text-accent-foreground"
                          : "text-muted-foreground hover:bg-secondary hover:text-foreground"
                      )}
                    >
                      <item.icon className="h-5 w-5" />
                      {item.label}
                    </Link>
                  );
                })}
              </nav>

              <div className="border-t border-border p-4">
                <div className="flex items-center gap-3 mb-4">
                  <div className="flex h-10 w-10 items-center justify-center rounded-full bg-secondary">
                    <User className="h-5 w-5 text-muted-foreground" />
                  </div>
                  <div>
                    <p className="text-sm font-medium">
                      {user?.firstName} {user?.lastName}
                    </p>
                    <p className="text-xs text-muted-foreground">{user?.email}</p>
                  </div>
                </div>
                <Button
                  variant="outline"
                  className="w-full gap-2 bg-transparent"
                  onClick={() => {
                    logout();
                    setMobileMenuOpen(false);
                  }}
                >
                  <LogOut className="h-4 w-4" />
                  Sign Out
                </Button>
              </div>
            </div>
          </SheetContent>
        </Sheet>
      </header>
    </>
  );
}

export default function OrganizerLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <AuthProvider>
      <div className="min-h-screen bg-background">
        <OrganizerNav />
        <main className="lg:pl-64">
          <div className="min-h-screen">{children}</div>
        </main>
      </div>
    </AuthProvider>
  );
}
</file>

<file path="app/organizer/settings/page.tsx">
"use client";

import { useState } from "react";
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
import { Label } from "@/components/ui/label";
import { Textarea } from "@/components/ui/textarea";
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from "@/components/ui/card";
import { Switch } from "@/components/ui/switch";
import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/components/ui/tabs";
import {
  Select,
  SelectContent,
  SelectItem,
  SelectTrigger,
  SelectValue,
} from "@/components/ui/select";
import {
  Building2,
  CreditCard,
  Bell,
  Shield,
  Upload,
  Save,
  Phone,
  Mail,
  MapPin,
  Globe,
} from "lucide-react";

export default function OrganizerSettingsPage() {
  const [isSaving, setIsSaving] = useState(false);

  const handleSave = async () => {
    setIsSaving(true);
    await new Promise((resolve) => setTimeout(resolve, 1000));
    setIsSaving(false);
  };

  return (
    <div className="space-y-6 pb-8">
      {/* Header */}
      <div className="flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between">
        <div>
          <h1 className="text-2xl font-semibold tracking-tight">Settings</h1>
          <p className="text-sm text-muted-foreground">
            Manage your organizer profile and preferences
          </p>
        </div>
        <Button
          onClick={handleSave}
          disabled={isSaving}
          className="bg-accent text-accent-foreground hover:bg-accent/90"
        >
          <Save className="mr-2 h-4 w-4" />
          {isSaving ? "Saving..." : "Save Changes"}
        </Button>
      </div>

      <Tabs defaultValue="profile" className="space-y-6">
        <TabsList className="bg-secondary/50 w-full justify-start flex-wrap h-auto gap-1 p-1">
          <TabsTrigger value="profile" className="gap-2">
            <Building2 className="h-4 w-4" />
            <span className="hidden sm:inline">Profile</span>
          </TabsTrigger>
          <TabsTrigger value="payments" className="gap-2">
            <CreditCard className="h-4 w-4" />
            <span className="hidden sm:inline">Payments</span>
          </TabsTrigger>
          <TabsTrigger value="notifications" className="gap-2">
            <Bell className="h-4 w-4" />
            <span className="hidden sm:inline">Notifications</span>
          </TabsTrigger>
          <TabsTrigger value="security" className="gap-2">
            <Shield className="h-4 w-4" />
            <span className="hidden sm:inline">Security</span>
          </TabsTrigger>
        </TabsList>

        {/* Profile Tab */}
        <TabsContent value="profile" className="space-y-6">
          <Card className="border-border/50 bg-card/50 backdrop-blur">
            <CardHeader>
              <CardTitle className="text-lg">Organization Profile</CardTitle>
              <CardDescription>
                This information will be displayed publicly on your events
              </CardDescription>
            </CardHeader>
            <CardContent className="space-y-6">
              {/* Logo Upload */}
              <div className="flex flex-col sm:flex-row gap-4 items-start">
                <div className="w-24 h-24 rounded-xl bg-secondary/50 border-2 border-dashed border-border/50 flex items-center justify-center shrink-0">
                  <Upload className="h-8 w-8 text-muted-foreground" />
                </div>
                <div className="space-y-2">
                  <Label>Organization Logo</Label>
                  <p className="text-sm text-muted-foreground">
                    Upload a logo that represents your organization. PNG, JPG up to 2MB.
                  </p>
                  <Button variant="outline" size="sm">
                    Upload Logo
                  </Button>
                </div>
              </div>

              <div className="grid gap-4 sm:grid-cols-2">
                <div className="space-y-2">
                  <Label htmlFor="orgName">Organization Name *</Label>
                  <Input
                    id="orgName"
                    placeholder="Your organization name"
                    defaultValue="Kigali Events Ltd"
                    className="bg-secondary/50"
                  />
                </div>
                <div className="space-y-2">
                  <Label htmlFor="orgType">Organization Type</Label>
                  <Select defaultValue="company">
                    <SelectTrigger className="bg-secondary/50">
                      <SelectValue placeholder="Select type" />
                    </SelectTrigger>
                    <SelectContent>
                      <SelectItem value="individual">Individual</SelectItem>
                      <SelectItem value="company">Company</SelectItem>
                      <SelectItem value="nonprofit">Non-profit</SelectItem>
                      <SelectItem value="government">Government</SelectItem>
                    </SelectContent>
                  </Select>
                </div>
              </div>

              <div className="space-y-2">
                <Label htmlFor="bio">Bio / Description</Label>
                <Textarea
                  id="bio"
                  placeholder="Tell attendees about your organization..."
                  rows={4}
                  defaultValue="We are a leading event organizer in Kigali, specializing in music festivals, corporate events, and cultural experiences."
                  className="bg-secondary/50 resize-none"
                />
              </div>

              <div className="grid gap-4 sm:grid-cols-2">
                <div className="space-y-2">
                  <Label htmlFor="email">
                    <Mail className="inline h-4 w-4 mr-1" />
                    Contact Email *
                  </Label>
                  <Input
                    id="email"
                    type="email"
                    placeholder="contact@example.com"
                    defaultValue="events@kigalievents.rw"
                    className="bg-secondary/50"
                  />
                </div>
                <div className="space-y-2">
                  <Label htmlFor="phone">
                    <Phone className="inline h-4 w-4 mr-1" />
                    Phone Number
                  </Label>
                  <Input
                    id="phone"
                    type="tel"
                    placeholder="+250 7XX XXX XXX"
                    defaultValue="+250 788 123 456"
                    className="bg-secondary/50"
                  />
                </div>
              </div>

              <div className="grid gap-4 sm:grid-cols-2">
                <div className="space-y-2">
                  <Label htmlFor="website">
                    <Globe className="inline h-4 w-4 mr-1" />
                    Website
                  </Label>
                  <Input
                    id="website"
                    type="url"
                    placeholder="https://example.com"
                    defaultValue="https://kigalievents.rw"
                    className="bg-secondary/50"
                  />
                </div>
                <div className="space-y-2">
                  <Label htmlFor="address">
                    <MapPin className="inline h-4 w-4 mr-1" />
                    Address
                  </Label>
                  <Input
                    id="address"
                    placeholder="City, Country"
                    defaultValue="Kigali, Rwanda"
                    className="bg-secondary/50"
                  />
                </div>
              </div>
            </CardContent>
          </Card>
        </TabsContent>

        {/* Payments Tab */}
        <TabsContent value="payments" className="space-y-6">
          <Card className="border-border/50 bg-card/50 backdrop-blur">
            <CardHeader>
              <CardTitle className="text-lg">Payment Settings</CardTitle>
              <CardDescription>
                Configure how you receive payments from ticket sales
              </CardDescription>
            </CardHeader>
            <CardContent className="space-y-6">
              <div className="p-4 rounded-lg bg-accent/10 border border-accent/20">
                <div className="flex items-start gap-3">
                  <CreditCard className="h-5 w-5 text-accent mt-0.5" />
                  <div>
                    <p className="font-medium text-accent">Mobile Money Connected</p>
                    <p className="text-sm text-muted-foreground mt-1">
                      Your MTN Mobile Money account ending in ***456 is connected for payouts.
                    </p>
                  </div>
                </div>
              </div>

              <div className="space-y-4">
                <h4 className="font-medium">Payout Method</h4>
                <div className="grid gap-4 sm:grid-cols-2">
                  <div className="space-y-2">
                    <Label>Payout Provider</Label>
                    <Select defaultValue="mtn">
                      <SelectTrigger className="bg-secondary/50">
                        <SelectValue />
                      </SelectTrigger>
                      <SelectContent>
                        <SelectItem value="mtn">MTN Mobile Money</SelectItem>
                        <SelectItem value="airtel">Airtel Money</SelectItem>
                        <SelectItem value="bank">Bank Transfer</SelectItem>
                      </SelectContent>
                    </Select>
                  </div>
                  <div className="space-y-2">
                    <Label>Phone Number</Label>
                    <Input
                      placeholder="+250 7XX XXX XXX"
                      defaultValue="+250 788 123 456"
                      className="bg-secondary/50"
                    />
                  </div>
                </div>
              </div>

              <div className="space-y-4">
                <h4 className="font-medium">Payout Schedule</h4>
                <Select defaultValue="weekly">
                  <SelectTrigger className="bg-secondary/50 max-w-xs">
                    <SelectValue />
                  </SelectTrigger>
                  <SelectContent>
                    <SelectItem value="daily">Daily</SelectItem>
                    <SelectItem value="weekly">Weekly (Every Monday)</SelectItem>
                    <SelectItem value="biweekly">Bi-weekly</SelectItem>
                    <SelectItem value="monthly">Monthly</SelectItem>
                  </SelectContent>
                </Select>
                <p className="text-sm text-muted-foreground">
                  You will receive payouts every Monday for sales from the previous week.
                </p>
              </div>

              <div className="pt-4 border-t border-border/50">
                <h4 className="font-medium mb-3">Recent Payouts</h4>
                <div className="space-y-2">
                  {[
                    { date: "Jan 27, 2026", amount: 450000, status: "completed" },
                    { date: "Jan 20, 2026", amount: 680000, status: "completed" },
                    { date: "Jan 13, 2026", amount: 320000, status: "completed" },
                  ].map((payout, i) => (
                    <div
                      key={i}
                      className="flex items-center justify-between p-3 rounded-lg bg-secondary/30"
                    >
                      <div>
                        <p className="text-sm font-medium">{payout.date}</p>
                        <p className="text-xs text-muted-foreground capitalize">
                          {payout.status}
                        </p>
                      </div>
                      <p className="font-medium">
                        {payout.amount.toLocaleString()} RWF
                      </p>
                    </div>
                  ))}
                </div>
              </div>
            </CardContent>
          </Card>
        </TabsContent>

        {/* Notifications Tab */}
        <TabsContent value="notifications" className="space-y-6">
          <Card className="border-border/50 bg-card/50 backdrop-blur">
            <CardHeader>
              <CardTitle className="text-lg">Notification Preferences</CardTitle>
              <CardDescription>
                Choose what notifications you want to receive
              </CardDescription>
            </CardHeader>
            <CardContent className="space-y-6">
              <div className="space-y-4">
                <h4 className="font-medium">Email Notifications</h4>
                {[
                  {
                    id: "new-order",
                    label: "New ticket purchase",
                    description: "Get notified when someone buys a ticket",
                    defaultChecked: true,
                  },
                  {
                    id: "daily-summary",
                    label: "Daily sales summary",
                    description: "Receive a daily report of your sales",
                    defaultChecked: true,
                  },
                  {
                    id: "event-reminder",
                    label: "Event reminders",
                    description: "Get reminded before your events start",
                    defaultChecked: true,
                  },
                  {
                    id: "payout",
                    label: "Payout notifications",
                    description: "Get notified when payouts are processed",
                    defaultChecked: true,
                  },
                  {
                    id: "marketing",
                    label: "Marketing tips",
                    description: "Receive tips on promoting your events",
                    defaultChecked: false,
                  },
                ].map((item) => (
                  <div
                    key={item.id}
                    className="flex items-center justify-between p-3 rounded-lg bg-secondary/30"
                  >
                    <div>
                      <p className="text-sm font-medium">{item.label}</p>
                      <p className="text-xs text-muted-foreground">
                        {item.description}
                      </p>
                    </div>
                    <Switch defaultChecked={item.defaultChecked} />
                  </div>
                ))}
              </div>

              <div className="space-y-4 pt-4 border-t border-border/50">
                <h4 className="font-medium">SMS Notifications</h4>
                {[
                  {
                    id: "sms-order",
                    label: "High-value orders",
                    description: "SMS for orders above 100,000 RWF",
                    defaultChecked: true,
                  },
                  {
                    id: "sms-event",
                    label: "Event day alerts",
                    description: "SMS reminder on event day",
                    defaultChecked: true,
                  },
                ].map((item) => (
                  <div
                    key={item.id}
                    className="flex items-center justify-between p-3 rounded-lg bg-secondary/30"
                  >
                    <div>
                      <p className="text-sm font-medium">{item.label}</p>
                      <p className="text-xs text-muted-foreground">
                        {item.description}
                      </p>
                    </div>
                    <Switch defaultChecked={item.defaultChecked} />
                  </div>
                ))}
              </div>
            </CardContent>
          </Card>
        </TabsContent>

        {/* Security Tab */}
        <TabsContent value="security" className="space-y-6">
          <Card className="border-border/50 bg-card/50 backdrop-blur">
            <CardHeader>
              <CardTitle className="text-lg">Security Settings</CardTitle>
              <CardDescription>
                Manage your account security and access
              </CardDescription>
            </CardHeader>
            <CardContent className="space-y-6">
              <div className="space-y-4">
                <h4 className="font-medium">Change Password</h4>
                <div className="grid gap-4 max-w-md">
                  <div className="space-y-2">
                    <Label htmlFor="currentPassword">Current Password</Label>
                    <Input
                      id="currentPassword"
                      type="password"
                      className="bg-secondary/50"
                    />
                  </div>
                  <div className="space-y-2">
                    <Label htmlFor="newPassword">New Password</Label>
                    <Input
                      id="newPassword"
                      type="password"
                      className="bg-secondary/50"
                    />
                  </div>
                  <div className="space-y-2">
                    <Label htmlFor="confirmPassword">Confirm New Password</Label>
                    <Input
                      id="confirmPassword"
                      type="password"
                      className="bg-secondary/50"
                    />
                  </div>
                  <Button variant="outline" className="w-fit bg-transparent">
                    Update Password
                  </Button>
                </div>
              </div>

              <div className="space-y-4 pt-4 border-t border-border/50">
                <h4 className="font-medium">Two-Factor Authentication</h4>
                <div className="flex items-center justify-between p-4 rounded-lg bg-secondary/30">
                  <div>
                    <p className="font-medium">SMS Authentication</p>
                    <p className="text-sm text-muted-foreground">
                      Receive a code via SMS when signing in
                    </p>
                  </div>
                  <Switch />
                </div>
              </div>

              <div className="space-y-4 pt-4 border-t border-border/50">
                <h4 className="font-medium">Team Members</h4>
                <p className="text-sm text-muted-foreground">
                  Invite team members to help manage your events
                </p>
                <div className="flex flex-col sm:flex-row gap-2">
                  <Input
                    placeholder="Enter email address"
                    className="bg-secondary/50 flex-1"
                  />
                  <Button variant="outline">Invite Member</Button>
                </div>
              </div>
            </CardContent>
          </Card>

          <Card className="border-destructive/50 bg-destructive/5">
            <CardHeader>
              <CardTitle className="text-lg text-destructive">Danger Zone</CardTitle>
              <CardDescription>
                Irreversible actions that affect your account
              </CardDescription>
            </CardHeader>
            <CardContent>
              <div className="flex flex-col sm:flex-row sm:items-center justify-between gap-4">
                <div>
                  <p className="font-medium">Delete Organization</p>
                  <p className="text-sm text-muted-foreground">
                    Permanently delete your organization and all events
                  </p>
                </div>
                <Button variant="destructive" size="sm">
                  Delete Organization
                </Button>
              </div>
            </CardContent>
          </Card>
        </TabsContent>
      </Tabs>
    </div>
  );
}
</file>

<file path="app/scanner/history/page.tsx">
"use client";

import { useState } from "react";
import { Input } from "@/components/ui/input";
import { Badge } from "@/components/ui/badge";
import { Card, CardContent } from "@/components/ui/card";
import {
  Select,
  SelectContent,
  SelectItem,
  SelectTrigger,
  SelectValue,
} from "@/components/ui/select";
import { Search, CheckCircle2, XCircle, AlertCircle, Clock } from "lucide-react";
import { cn } from "@/lib/utils";

interface ScanRecord {
  id: string;
  ticketCode: string;
  holderName: string;
  tierName: string;
  status: "success" | "warning" | "error";
  message: string;
  timestamp: Date;
}

// Mock scan history
const mockScanHistory: ScanRecord[] = [
  {
    id: "1",
    ticketCode: "TKT-A1B2C3",
    holderName: "John Doe",
    tierName: "VIP",
    status: "success",
    message: "Valid ticket - Entry granted",
    timestamp: new Date(Date.now() - 5 * 60000),
  },
  {
    id: "2",
    ticketCode: "TKT-D4E5F6",
    holderName: "Jane Smith",
    tierName: "Regular",
    status: "warning",
    message: "Already checked in",
    timestamp: new Date(Date.now() - 12 * 60000),
  },
  {
    id: "3",
    ticketCode: "TKT-G7H8I9",
    holderName: "Mike Johnson",
    tierName: "Early Bird",
    status: "success",
    message: "Valid ticket - Entry granted",
    timestamp: new Date(Date.now() - 18 * 60000),
  },
  {
    id: "4",
    ticketCode: "TKT-INVALID",
    holderName: "Unknown",
    tierName: "-",
    status: "error",
    message: "Invalid ticket code",
    timestamp: new Date(Date.now() - 25 * 60000),
  },
  {
    id: "5",
    ticketCode: "TKT-J1K2L3",
    holderName: "Sarah Williams",
    tierName: "VIP",
    status: "success",
    message: "Valid ticket - Entry granted",
    timestamp: new Date(Date.now() - 32 * 60000),
  },
  {
    id: "6",
    ticketCode: "TKT-M4N5O6",
    holderName: "David Brown",
    tierName: "Regular",
    status: "success",
    message: "Valid ticket - Entry granted",
    timestamp: new Date(Date.now() - 45 * 60000),
  },
  {
    id: "7",
    ticketCode: "TKT-P7Q8R9",
    holderName: "Emily Davis",
    tierName: "Regular",
    status: "warning",
    message: "Already checked in",
    timestamp: new Date(Date.now() - 58 * 60000),
  },
  {
    id: "8",
    ticketCode: "TKT-S1T2U3",
    holderName: "Chris Wilson",
    tierName: "Early Bird",
    status: "success",
    message: "Valid ticket - Entry granted",
    timestamp: new Date(Date.now() - 72 * 60000),
  },
];

export default function ScannerHistoryPage() {
  const [searchQuery, setSearchQuery] = useState("");
  const [statusFilter, setStatusFilter] = useState<string>("all");

  const filteredHistory = mockScanHistory.filter((record) => {
    const matchesSearch =
      record.holderName.toLowerCase().includes(searchQuery.toLowerCase()) ||
      record.ticketCode.toLowerCase().includes(searchQuery.toLowerCase());
    const matchesStatus =
      statusFilter === "all" || record.status === statusFilter;
    return matchesSearch && matchesStatus;
  });

  const getStatusIcon = (status: string) => {
    switch (status) {
      case "success":
        return <CheckCircle2 className="h-5 w-5 text-green-500" />;
      case "warning":
        return <AlertCircle className="h-5 w-5 text-yellow-500" />;
      case "error":
        return <XCircle className="h-5 w-5 text-red-500" />;
      default:
        return null;
    }
  };

  const getStatusBadge = (status: string) => {
    switch (status) {
      case "success":
        return (
          <Badge
            variant="outline"
            className="bg-green-500/10 text-green-500 border-green-500/20"
          >
            Valid
          </Badge>
        );
      case "warning":
        return (
          <Badge
            variant="outline"
            className="bg-yellow-500/10 text-yellow-500 border-yellow-500/20"
          >
            Duplicate
          </Badge>
        );
      case "error":
        return (
          <Badge
            variant="outline"
            className="bg-red-500/10 text-red-500 border-red-500/20"
          >
            Invalid
          </Badge>
        );
      default:
        return null;
    }
  };

  const formatTime = (date: Date) => {
    const now = new Date();
    const diff = Math.floor((now.getTime() - date.getTime()) / 60000);

    if (diff < 1) return "Just now";
    if (diff < 60) return `${diff}m ago`;
    if (diff < 1440) return `${Math.floor(diff / 60)}h ago`;
    return date.toLocaleDateString();
  };

  // Stats
  const successCount = mockScanHistory.filter(
    (r) => r.status === "success"
  ).length;
  const warningCount = mockScanHistory.filter(
    (r) => r.status === "warning"
  ).length;
  const errorCount = mockScanHistory.filter((r) => r.status === "error").length;

  return (
    <div className="flex flex-col h-full">
      {/* Stats */}
      <div className="px-4 py-3 grid grid-cols-3 gap-3 bg-secondary/30 border-b border-border/50">
        <div className="text-center">
          <p className="text-lg font-semibold text-green-500">{successCount}</p>
          <p className="text-xs text-muted-foreground">Valid</p>
        </div>
        <div className="text-center">
          <p className="text-lg font-semibold text-yellow-500">{warningCount}</p>
          <p className="text-xs text-muted-foreground">Duplicate</p>
        </div>
        <div className="text-center">
          <p className="text-lg font-semibold text-red-500">{errorCount}</p>
          <p className="text-xs text-muted-foreground">Invalid</p>
        </div>
      </div>

      {/* Filters */}
      <div className="px-4 py-3 space-y-3 border-b border-border/50">
        <div className="relative">
          <Search className="absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground" />
          <Input
            placeholder="Search by name or code..."
            value={searchQuery}
            onChange={(e) => setSearchQuery(e.target.value)}
            className="pl-9 bg-secondary/50"
          />
        </div>
        <Select value={statusFilter} onValueChange={setStatusFilter}>
          <SelectTrigger className="bg-secondary/50">
            <SelectValue placeholder="Filter by status" />
          </SelectTrigger>
          <SelectContent>
            <SelectItem value="all">All Scans</SelectItem>
            <SelectItem value="success">Valid Only</SelectItem>
            <SelectItem value="warning">Duplicates</SelectItem>
            <SelectItem value="error">Invalid</SelectItem>
          </SelectContent>
        </Select>
      </div>

      {/* History List */}
      <div className="flex-1 overflow-auto px-4 py-3">
        {filteredHistory.length === 0 ? (
          <div className="flex flex-col items-center justify-center h-full text-center">
            <Clock className="h-12 w-12 text-muted-foreground mb-4" />
            <p className="text-muted-foreground">No scan history found</p>
          </div>
        ) : (
          <div className="space-y-2">
            {filteredHistory.map((record) => (
              <Card
                key={record.id}
                className={cn(
                  "border-border/50 bg-card/50",
                  record.status === "success" && "border-l-2 border-l-green-500",
                  record.status === "warning" && "border-l-2 border-l-yellow-500",
                  record.status === "error" && "border-l-2 border-l-red-500"
                )}
              >
                <CardContent className="p-3">
                  <div className="flex items-start gap-3">
                    <div className="shrink-0 mt-0.5">
                      {getStatusIcon(record.status)}
                    </div>
                    <div className="flex-1 min-w-0">
                      <div className="flex items-center justify-between gap-2">
                        <p className="font-medium truncate">
                          {record.holderName}
                        </p>
                        {getStatusBadge(record.status)}
                      </div>
                      <p className="text-sm text-muted-foreground font-mono mt-0.5">
                        {record.ticketCode}
                      </p>
                      <div className="flex items-center justify-between mt-2">
                        <span className="text-xs text-muted-foreground">
                          {record.tierName}
                        </span>
                        <span className="text-xs text-muted-foreground">
                          {formatTime(record.timestamp)}
                        </span>
                      </div>
                    </div>
                  </div>
                </CardContent>
              </Card>
            ))}
          </div>
        )}
      </div>
    </div>
  );
}
</file>

<file path="app/scanner/layout.tsx">
"use client";

import React from "react"

import { useState, useEffect } from "react";
import Link from "next/link";
import { usePathname, useRouter } from "next/navigation";
import { Button } from "@/components/ui/button";
import { Avatar, AvatarFallback } from "@/components/ui/avatar";
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuSeparator,
  DropdownMenuTrigger,
} from "@/components/ui/dropdown-menu";
import {
  Select,
  SelectContent,
  SelectItem,
  SelectTrigger,
  SelectValue,
} from "@/components/ui/select";
import { QrCode, History, Settings, LogOut, ChevronDown } from "lucide-react";
import { cn } from "@/lib/utils";
import { useAuth } from "@/lib/auth-context";
import { mockEvents } from "@/lib/mock-data";

const navItems = [
  { href: "/scanner", label: "Scan", icon: QrCode },
  { href: "/scanner/history", label: "History", icon: History },
  { href: "/scanner/settings", label: "Settings", icon: Settings },
];

export default function ScannerLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  const pathname = usePathname();
  const router = useRouter();
  const { user, logout, isLoading } = useAuth();
  const [selectedEvent, setSelectedEvent] = useState<string>("");

  // Get published events only
  const publishedEvents = mockEvents.filter((e) => e.status === "published");

  useEffect(() => {
    if (!isLoading && !user) {
      router.push("/auth/signin?redirect=/scanner");
    }
    if (!isLoading && user && user.role !== "staff" && user.role !== "organizer" && user.role !== "admin") {
      router.push("/");
    }
  }, [user, isLoading, router]);

  useEffect(() => {
    if (publishedEvents.length > 0 && !selectedEvent) {
      setSelectedEvent(publishedEvents[0].id);
    }
  }, [publishedEvents, selectedEvent]);

  if (isLoading) {
    return (
      <div className="min-h-screen flex items-center justify-center bg-background">
        <div className="animate-pulse text-muted-foreground">Loading...</div>
      </div>
    );
  }

  if (!user) {
    return null;
  }

  return (
    <div className="min-h-screen bg-background flex flex-col">
      {/* Top Header */}
      <header className="sticky top-0 z-50 border-b border-border/50 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60">
        <div className="flex items-center justify-between h-14 px-4">
          <Link href="/scanner" className="flex items-center gap-2">
            <div className="w-8 h-8 rounded-lg bg-accent flex items-center justify-center">
              <QrCode className="h-4 w-4 text-accent-foreground" />
            </div>
            <span className="font-semibold text-lg">Scanner</span>
          </Link>

          <DropdownMenu>
            <DropdownMenuTrigger asChild>
              <Button variant="ghost" className="gap-2">
                <Avatar className="h-7 w-7">
                  <AvatarFallback className="bg-secondary text-xs">
                    {user.name.charAt(0)}
                  </AvatarFallback>
                </Avatar>
                <ChevronDown className="h-4 w-4 text-muted-foreground" />
              </Button>
            </DropdownMenuTrigger>
            <DropdownMenuContent align="end" className="w-48">
              <div className="px-2 py-1.5">
                <p className="text-sm font-medium truncate">{user.name}</p>
                <p className="text-xs text-muted-foreground truncate capitalize">
                  {user.role}
                </p>
              </div>
              <DropdownMenuSeparator />
              <DropdownMenuItem onClick={logout}>
                <LogOut className="mr-2 h-4 w-4" />
                Sign Out
              </DropdownMenuItem>
            </DropdownMenuContent>
          </DropdownMenu>
        </div>

        {/* Event Selector */}
        <div className="px-4 pb-3">
          <Select value={selectedEvent} onValueChange={setSelectedEvent}>
            <SelectTrigger className="bg-secondary/50">
              <SelectValue placeholder="Select event to scan" />
            </SelectTrigger>
            <SelectContent>
              {publishedEvents.map((event) => (
                <SelectItem key={event.id} value={event.id}>
                  <div className="flex flex-col items-start">
                    <span className="truncate max-w-[200px]">{event.title}</span>
                    <span className="text-xs text-muted-foreground">
                      {new Date(event.date).toLocaleDateString()}
                    </span>
                  </div>
                </SelectItem>
              ))}
            </SelectContent>
          </Select>
        </div>
      </header>

      {/* Main Content */}
      <main className="flex-1 overflow-auto">{children}</main>

      {/* Bottom Navigation */}
      <nav className="sticky bottom-0 border-t border-border/50 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60">
        <div className="flex items-center justify-around h-16">
          {navItems.map((item) => {
            const isActive =
              pathname === item.href ||
              (item.href !== "/scanner" && pathname.startsWith(item.href));
            return (
              <Link
                key={item.href}
                href={item.href}
                className={cn(
                  "flex flex-col items-center gap-1 px-4 py-2 rounded-lg transition-colors",
                  isActive
                    ? "text-accent"
                    : "text-muted-foreground hover:text-foreground"
                )}
              >
                <item.icon className="h-5 w-5" />
                <span className="text-xs font-medium">{item.label}</span>
              </Link>
            );
          })}
        </div>
      </nav>
    </div>
  );
}
</file>

<file path="app/scanner/page.tsx">
"use client";

import { useState, useRef, useEffect } from "react";
import { Button } from "@/components/ui/button";
import { Card, CardContent } from "@/components/ui/card";
import { Input } from "@/components/ui/input";
import { Badge } from "@/components/ui/badge";
import {
  QrCode,
  Camera,
  CheckCircle2,
  XCircle,
  AlertCircle,
  Keyboard,
  RotateCcw,
} from "lucide-react";
import { cn } from "@/lib/utils";
import { mockTickets, mockEvents } from "@/lib/mock-data";

type ScanResult = {
  status: "success" | "error" | "warning";
  title: string;
  message: string;
  ticketInfo?: {
    holderName: string;
    tierName: string;
    eventTitle: string;
  };
};

export default function ScannerPage() {
  const [scanMode, setScanMode] = useState<"camera" | "manual">("camera");
  const [manualCode, setManualCode] = useState("");
  const [isScanning, setIsScanning] = useState(false);
  const [scanResult, setScanResult] = useState<ScanResult | null>(null);
  const [scansToday, setScansToday] = useState(47);
  const videoRef = useRef<HTMLVideoElement>(null);
  const [cameraActive, setCameraActive] = useState(false);

  // Simulated camera activation
  useEffect(() => {
    if (scanMode === "camera" && !scanResult) {
      setCameraActive(true);
    } else {
      setCameraActive(false);
    }
  }, [scanMode, scanResult]);

  const simulateScan = (code?: string) => {
    setIsScanning(true);
    setScanResult(null);

    // Simulate scanning delay
    setTimeout(() => {
      // Find ticket by QR code or use a random ticket for demo
      const ticketCode = code || `TKT-${Math.random().toString(36).substr(2, 8).toUpperCase()}`;
      const ticket = mockTickets.find(
        (t) => t.qrCode === ticketCode || t.id === ticketCode
      );

      if (ticket) {
        const event = mockEvents.find((e) => e.id === ticket.eventId);

        if (ticket.status === "used") {
          setScanResult({
            status: "warning",
            title: "Already Checked In",
            message: `This ticket was already scanned at ${new Date().toLocaleTimeString()}`,
            ticketInfo: {
              holderName: ticket.holderName,
              tierName: ticket.tierName,
              eventTitle: event?.title || "Unknown Event",
            },
          });
        } else if (ticket.status === "cancelled") {
          setScanResult({
            status: "error",
            title: "Invalid Ticket",
            message: "This ticket has been cancelled and is no longer valid.",
            ticketInfo: {
              holderName: ticket.holderName,
              tierName: ticket.tierName,
              eventTitle: event?.title || "Unknown Event",
            },
          });
        } else {
          // Valid ticket - mark as checked in
          setScanResult({
            status: "success",
            title: "Valid Ticket",
            message: "Attendee can enter the event.",
            ticketInfo: {
              holderName: ticket.holderName,
              tierName: ticket.tierName,
              eventTitle: event?.title || "Unknown Event",
            },
          });
          setScansToday((prev) => prev + 1);
        }
      } else {
        // Demo mode - randomly generate a result
        const random = Math.random();
        if (random > 0.3) {
          setScanResult({
            status: "success",
            title: "Valid Ticket",
            message: "Attendee can enter the event.",
            ticketInfo: {
              holderName: "John Doe",
              tierName: "VIP",
              eventTitle: "Kigali Jazz Festival 2026",
            },
          });
          setScansToday((prev) => prev + 1);
        } else if (random > 0.15) {
          setScanResult({
            status: "warning",
            title: "Already Checked In",
            message: "This ticket was already scanned at 2:45 PM",
            ticketInfo: {
              holderName: "Jane Smith",
              tierName: "Regular",
              eventTitle: "Kigali Jazz Festival 2026",
            },
          });
        } else {
          setScanResult({
            status: "error",
            title: "Invalid Ticket",
            message: "This ticket code was not found in the system.",
          });
        }
      }

      setIsScanning(false);
      setManualCode("");
    }, 800);
  };

  const resetScanner = () => {
    setScanResult(null);
    setManualCode("");
  };

  const getResultIcon = () => {
    switch (scanResult?.status) {
      case "success":
        return <CheckCircle2 className="h-16 w-16 text-green-500" />;
      case "warning":
        return <AlertCircle className="h-16 w-16 text-yellow-500" />;
      case "error":
        return <XCircle className="h-16 w-16 text-red-500" />;
      default:
        return null;
    }
  };

  const getResultBgColor = () => {
    switch (scanResult?.status) {
      case "success":
        return "bg-green-500/10 border-green-500/20";
      case "warning":
        return "bg-yellow-500/10 border-yellow-500/20";
      case "error":
        return "bg-red-500/10 border-red-500/20";
      default:
        return "";
    }
  };

  return (
    <div className="flex flex-col h-full">
      {/* Stats Bar */}
      <div className="px-4 py-3 bg-secondary/30 border-b border-border/50">
        <div className="flex items-center justify-between">
          <div>
            <p className="text-xs text-muted-foreground">Scans Today</p>
            <p className="text-xl font-semibold">{scansToday}</p>
          </div>
          <Badge variant="outline" className="bg-accent/10 text-accent border-accent/20">
            Active
          </Badge>
        </div>
      </div>

      {/* Mode Toggle */}
      <div className="px-4 py-3 flex gap-2">
        <Button
          variant={scanMode === "camera" ? "default" : "outline"}
          className={cn(
            "flex-1 gap-2",
            scanMode === "camera" && "bg-accent text-accent-foreground hover:bg-accent/90"
          )}
          onClick={() => {
            setScanMode("camera");
            resetScanner();
          }}
        >
          <Camera className="h-4 w-4" />
          Camera
        </Button>
        <Button
          variant={scanMode === "manual" ? "default" : "outline"}
          className={cn(
            "flex-1 gap-2",
            scanMode === "manual" && "bg-accent text-accent-foreground hover:bg-accent/90"
          )}
          onClick={() => {
            setScanMode("manual");
            resetScanner();
          }}
        >
          <Keyboard className="h-4 w-4" />
          Manual
        </Button>
      </div>

      {/* Scanner Area */}
      <div className="flex-1 px-4 pb-4 flex flex-col">
        {scanResult ? (
          /* Result Display */
          <Card className={cn("flex-1 border", getResultBgColor())}>
            <CardContent className="flex flex-col items-center justify-center h-full p-6 text-center">
              {getResultIcon()}
              <h2 className="text-xl font-semibold mt-4">{scanResult.title}</h2>
              <p className="text-muted-foreground mt-2">{scanResult.message}</p>

              {scanResult.ticketInfo && (
                <div className="mt-6 w-full max-w-xs space-y-2 p-4 rounded-lg bg-background/50">
                  <div className="flex justify-between text-sm">
                    <span className="text-muted-foreground">Name</span>
                    <span className="font-medium">
                      {scanResult.ticketInfo.holderName}
                    </span>
                  </div>
                  <div className="flex justify-between text-sm">
                    <span className="text-muted-foreground">Ticket</span>
                    <span className="font-medium">
                      {scanResult.ticketInfo.tierName}
                    </span>
                  </div>
                  <div className="flex justify-between text-sm">
                    <span className="text-muted-foreground">Event</span>
                    <span className="font-medium truncate max-w-[150px]">
                      {scanResult.ticketInfo.eventTitle}
                    </span>
                  </div>
                </div>
              )}

              <Button
                onClick={resetScanner}
                className="mt-6 gap-2 bg-accent text-accent-foreground hover:bg-accent/90"
              >
                <RotateCcw className="h-4 w-4" />
                Scan Next Ticket
              </Button>
            </CardContent>
          </Card>
        ) : scanMode === "camera" ? (
          /* Camera Scanner */
          <Card className="flex-1 border-border/50 bg-card/50 overflow-hidden">
            <CardContent className="relative h-full p-0">
              {/* Camera Viewfinder */}
              <div className="absolute inset-0 flex items-center justify-center bg-secondary/50">
                {cameraActive ? (
                  <div className="relative w-full h-full">
                    {/* Simulated camera view */}
                    <div className="absolute inset-0 bg-gradient-to-b from-secondary/80 to-secondary/40" />

                    {/* Scan frame */}
                    <div className="absolute inset-0 flex items-center justify-center">
                      <div className="relative w-64 h-64">
                        {/* Corner brackets */}
                        <div className="absolute top-0 left-0 w-8 h-8 border-l-2 border-t-2 border-accent" />
                        <div className="absolute top-0 right-0 w-8 h-8 border-r-2 border-t-2 border-accent" />
                        <div className="absolute bottom-0 left-0 w-8 h-8 border-l-2 border-b-2 border-accent" />
                        <div className="absolute bottom-0 right-0 w-8 h-8 border-r-2 border-b-2 border-accent" />

                        {/* Scanning line animation */}
                        <div className="absolute inset-x-4 top-1/2 h-0.5 bg-accent/50 animate-pulse" />
                      </div>
                    </div>

                    {/* Instructions */}
                    <div className="absolute bottom-8 inset-x-0 text-center">
                      <p className="text-sm text-muted-foreground">
                        Position the QR code within the frame
                      </p>
                    </div>
                  </div>
                ) : (
                  <div className="text-center p-8">
                    <Camera className="h-12 w-12 mx-auto text-muted-foreground" />
                    <p className="mt-4 text-muted-foreground">
                      Camera initializing...
                    </p>
                  </div>
                )}
              </div>

              {/* Demo Scan Button */}
              <div className="absolute bottom-4 inset-x-4">
                <Button
                  onClick={() => simulateScan()}
                  disabled={isScanning}
                  className="w-full gap-2 bg-accent text-accent-foreground hover:bg-accent/90"
                >
                  <QrCode className="h-4 w-4" />
                  {isScanning ? "Scanning..." : "Simulate Scan (Demo)"}
                </Button>
              </div>

              {/* Hidden video element for actual camera */}
              <video
                ref={videoRef}
                className="hidden"
                autoPlay
                playsInline
                muted
              />
            </CardContent>
          </Card>
        ) : (
          /* Manual Entry */
          <Card className="flex-1 border-border/50 bg-card/50">
            <CardContent className="flex flex-col h-full p-6">
              <div className="flex-1 flex flex-col items-center justify-center">
                <div className="w-16 h-16 rounded-2xl bg-secondary/50 flex items-center justify-center mb-6">
                  <Keyboard className="h-8 w-8 text-muted-foreground" />
                </div>
                <h3 className="text-lg font-medium mb-2">Manual Entry</h3>
                <p className="text-sm text-muted-foreground text-center mb-6">
                  Enter the ticket code printed on the ticket or shown on the attendee's phone
                </p>

                <div className="w-full max-w-sm space-y-4">
                  <Input
                    placeholder="Enter ticket code (e.g., TKT-ABC123)"
                    value={manualCode}
                    onChange={(e) => setManualCode(e.target.value.toUpperCase())}
                    className="bg-secondary/50 text-center font-mono text-lg tracking-wider h-12"
                    onKeyDown={(e) => {
                      if (e.key === "Enter" && manualCode.trim()) {
                        simulateScan(manualCode);
                      }
                    }}
                  />
                  <Button
                    onClick={() => simulateScan(manualCode)}
                    disabled={!manualCode.trim() || isScanning}
                    className="w-full h-12 gap-2 bg-accent text-accent-foreground hover:bg-accent/90"
                  >
                    <CheckCircle2 className="h-5 w-5" />
                    {isScanning ? "Verifying..." : "Verify Ticket"}
                  </Button>
                </div>
              </div>
            </CardContent>
          </Card>
        )}
      </div>
    </div>
  );
}
</file>

<file path="app/scanner/settings/page.tsx">
"use client";

import { useState } from "react";
import { Button } from "@/components/ui/button";
import { Card, CardContent, CardHeader, CardTitle } from "@/components/ui/card";
import { Switch } from "@/components/ui/switch";
import { Label } from "@/components/ui/label";
import {
  Select,
  SelectContent,
  SelectItem,
  SelectTrigger,
  SelectValue,
} from "@/components/ui/select";
import {
  Volume2,
  Vibrate,
  Sun,
  Camera,
  Wifi,
  RefreshCw,
  Info,
} from "lucide-react";

export default function ScannerSettingsPage() {
  const [settings, setSettings] = useState({
    soundEnabled: true,
    vibrationEnabled: true,
    autoFocus: true,
    flashlight: false,
    offlineMode: false,
  });

  const updateSetting = (key: keyof typeof settings, value: boolean) => {
    setSettings((prev) => ({ ...prev, [key]: value }));
  };

  return (
    <div className="flex flex-col h-full overflow-auto">
      <div className="px-4 py-6 space-y-6">
        {/* Scanner Settings */}
        <Card className="border-border/50 bg-card/50">
          <CardHeader className="pb-3">
            <CardTitle className="text-lg flex items-center gap-2">
              <Camera className="h-5 w-5 text-accent" />
              Scanner Settings
            </CardTitle>
          </CardHeader>
          <CardContent className="space-y-4">
            <div className="flex items-center justify-between">
              <div className="flex items-center gap-3">
                <div className="p-2 rounded-lg bg-secondary/50">
                  <Volume2 className="h-4 w-4 text-muted-foreground" />
                </div>
                <div>
                  <Label htmlFor="sound" className="font-medium">
                    Sound Effects
                  </Label>
                  <p className="text-xs text-muted-foreground">
                    Play sound on scan
                  </p>
                </div>
              </div>
              <Switch
                id="sound"
                checked={settings.soundEnabled}
                onCheckedChange={(checked) =>
                  updateSetting("soundEnabled", checked)
                }
              />
            </div>

            <div className="flex items-center justify-between">
              <div className="flex items-center gap-3">
                <div className="p-2 rounded-lg bg-secondary/50">
                  <Vibrate className="h-4 w-4 text-muted-foreground" />
                </div>
                <div>
                  <Label htmlFor="vibration" className="font-medium">
                    Vibration
                  </Label>
                  <p className="text-xs text-muted-foreground">
                    Vibrate on scan
                  </p>
                </div>
              </div>
              <Switch
                id="vibration"
                checked={settings.vibrationEnabled}
                onCheckedChange={(checked) =>
                  updateSetting("vibrationEnabled", checked)
                }
              />
            </div>

            <div className="flex items-center justify-between">
              <div className="flex items-center gap-3">
                <div className="p-2 rounded-lg bg-secondary/50">
                  <Camera className="h-4 w-4 text-muted-foreground" />
                </div>
                <div>
                  <Label htmlFor="autofocus" className="font-medium">
                    Auto Focus
                  </Label>
                  <p className="text-xs text-muted-foreground">
                    Continuous autofocus
                  </p>
                </div>
              </div>
              <Switch
                id="autofocus"
                checked={settings.autoFocus}
                onCheckedChange={(checked) =>
                  updateSetting("autoFocus", checked)
                }
              />
            </div>

            <div className="flex items-center justify-between">
              <div className="flex items-center gap-3">
                <div className="p-2 rounded-lg bg-secondary/50">
                  <Sun className="h-4 w-4 text-muted-foreground" />
                </div>
                <div>
                  <Label htmlFor="flash" className="font-medium">
                    Flashlight
                  </Label>
                  <p className="text-xs text-muted-foreground">
                    Use flash for low light
                  </p>
                </div>
              </div>
              <Switch
                id="flash"
                checked={settings.flashlight}
                onCheckedChange={(checked) =>
                  updateSetting("flashlight", checked)
                }
              />
            </div>
          </CardContent>
        </Card>

        {/* Network Settings */}
        <Card className="border-border/50 bg-card/50">
          <CardHeader className="pb-3">
            <CardTitle className="text-lg flex items-center gap-2">
              <Wifi className="h-5 w-5 text-accent" />
              Network
            </CardTitle>
          </CardHeader>
          <CardContent className="space-y-4">
            <div className="flex items-center justify-between">
              <div className="flex items-center gap-3">
                <div className="p-2 rounded-lg bg-secondary/50">
                  <Wifi className="h-4 w-4 text-muted-foreground" />
                </div>
                <div>
                  <Label htmlFor="offline" className="font-medium">
                    Offline Mode
                  </Label>
                  <p className="text-xs text-muted-foreground">
                    Scan without internet
                  </p>
                </div>
              </div>
              <Switch
                id="offline"
                checked={settings.offlineMode}
                onCheckedChange={(checked) =>
                  updateSetting("offlineMode", checked)
                }
              />
            </div>

            <div className="p-3 rounded-lg bg-secondary/30">
              <div className="flex items-center justify-between mb-2">
                <span className="text-sm text-muted-foreground">
                  Last synced
                </span>
                <span className="text-sm font-medium">2 minutes ago</span>
              </div>
              <Button variant="outline" size="sm" className="w-full gap-2 bg-transparent">
                <RefreshCw className="h-4 w-4" />
                Sync Ticket Data
              </Button>
            </div>
          </CardContent>
        </Card>

        {/* Camera Selection */}
        <Card className="border-border/50 bg-card/50">
          <CardHeader className="pb-3">
            <CardTitle className="text-lg">Camera Selection</CardTitle>
          </CardHeader>
          <CardContent>
            <Select defaultValue="back">
              <SelectTrigger className="bg-secondary/50">
                <SelectValue placeholder="Select camera" />
              </SelectTrigger>
              <SelectContent>
                <SelectItem value="back">Back Camera</SelectItem>
                <SelectItem value="front">Front Camera</SelectItem>
              </SelectContent>
            </Select>
          </CardContent>
        </Card>

        {/* App Info */}
        <Card className="border-border/50 bg-card/50">
          <CardHeader className="pb-3">
            <CardTitle className="text-lg flex items-center gap-2">
              <Info className="h-5 w-5 text-accent" />
              App Info
            </CardTitle>
          </CardHeader>
          <CardContent className="space-y-3">
            <div className="flex items-center justify-between text-sm">
              <span className="text-muted-foreground">Version</span>
              <span className="font-medium">1.0.0</span>
            </div>
            <div className="flex items-center justify-between text-sm">
              <span className="text-muted-foreground">Scanner ID</span>
              <span className="font-mono text-xs">SCN-001</span>
            </div>
            <div className="flex items-center justify-between text-sm">
              <span className="text-muted-foreground">Device</span>
              <span className="font-medium">Web Browser</span>
            </div>
          </CardContent>
        </Card>

        {/* Help */}
        <div className="pb-4">
          <Button variant="outline" className="w-full bg-transparent">
            Need Help? Contact Support
          </Button>
        </div>
      </div>
    </div>
  );
}
</file>

<file path="components.json">
{
  "$schema": "https://ui.shadcn.com/schema.json",
  "style": "new-york",
  "rsc": true,
  "tsx": true,
  "tailwind": {
    "config": "",
    "css": "app/globals.css",
    "baseColor": "neutral",
    "cssVariables": true,
    "prefix": ""
  },
  "aliases": {
    "components": "@/components",
    "utils": "@/lib/utils",
    "ui": "@/components/ui",
    "lib": "@/lib",
    "hooks": "@/hooks"
  },
  "iconLibrary": "lucide"
}
</file>

<file path="components/events/category-filter.tsx">
"use client";

import { useRouter, useSearchParams } from "next/navigation";
import { cn } from "@/lib/utils";
import {
  Music,
  Trophy,
  Palette,
  UtensilsCrossed,
  Briefcase,
  Cpu,
  Users,
  PartyPopper,
  LayoutGrid,
} from "lucide-react";

const categories = [
  { id: "all", label: "All Events", icon: LayoutGrid },
  { id: "music", label: "Music", icon: Music },
  { id: "sports", label: "Sports", icon: Trophy },
  { id: "arts", label: "Arts", icon: Palette },
  { id: "food", label: "Food & Drink", icon: UtensilsCrossed },
  { id: "business", label: "Business", icon: Briefcase },
  { id: "tech", label: "Technology", icon: Cpu },
  { id: "community", label: "Community", icon: Users },
  { id: "nightlife", label: "Nightlife", icon: PartyPopper },
];

export function CategoryFilter() {
  const router = useRouter();
  const searchParams = useSearchParams();
  const activeCategory = searchParams.get("category") || "all";

  const handleCategoryChange = (categoryId: string) => {
    const params = new URLSearchParams(searchParams.toString());
    if (categoryId === "all") {
      params.delete("category");
    } else {
      params.set("category", categoryId);
    }
    router.push(`/?${params.toString()}`, { scroll: false });
  };

  return (
    <div className="w-full overflow-x-auto scrollbar-hide -mx-4 px-4">
      <div className="flex gap-2 pb-2 min-w-max">
        {categories.map((category) => {
          const Icon = category.icon;
          const isActive = activeCategory === category.id;

          return (
            <button
              type="button"
              key={category.id}
              onClick={() => handleCategoryChange(category.id)}
              className={cn(
                "flex items-center gap-2 rounded-full px-4 py-2 text-sm font-medium transition-all whitespace-nowrap",
                isActive
                  ? "bg-accent text-accent-foreground"
                  : "bg-secondary text-muted-foreground hover:bg-secondary/80 hover:text-foreground"
              )}
            >
              <Icon className="h-4 w-4" />
              <span>{category.label}</span>
            </button>
          );
        })}
      </div>
    </div>
  );
}
</file>

<file path="components/events/event-card.tsx">
"use client";

import Image from "next/image";
import Link from "next/link";
import { Calendar, MapPin, Users } from "lucide-react";
import { Card, CardContent } from "@/components/ui/card";
import { Badge } from "@/components/ui/badge";
import type { Event } from "@/lib/types";
import { formatDate, formatRWF, getCategoryLabel, getCategoryColor } from "@/lib/mock-data";

interface EventCardProps {
  event: Event;
  featured?: boolean;
}

export function EventCard({ event, featured = false }: EventCardProps) {
  const lowestPrice = Math.min(...event.ticketTypes.map((t) => t.price));
  const totalSold = event.ticketTypes.reduce((sum, t) => sum + t.sold, 0);
  const totalCapacity = event.ticketTypes.reduce((sum, t) => sum + t.quantity, 0);
  const soldOutPercentage = (totalSold / totalCapacity) * 100;
  const isAlmostSoldOut = soldOutPercentage > 80;

  return (
    <Link href={`/events/${event.id}`}>
      <Card
        className={`group overflow-hidden border-border/50 bg-card transition-all duration-300 hover:border-accent/50 hover:shadow-lg hover:shadow-accent/5 ${
          featured ? "md:flex md:flex-row" : ""
        }`}
      >
        {/* Image */}
        <div
          className={`relative overflow-hidden ${
            featured ? "md:w-2/5 md:min-h-[280px]" : "aspect-[16/10]"
          }`}
        >
          <Image
            src={event.imageUrl || "/placeholder.svg"}
            alt={event.title}
            fill
            className="object-cover transition-transform duration-500 group-hover:scale-105"
          />
          <div className="absolute inset-0 bg-gradient-to-t from-background/80 via-transparent to-transparent" />
          
          {/* Category Badge */}
          <div className="absolute left-3 top-3">
            <Badge
              variant="secondary"
              className={`${getCategoryColor(event.category)} border-0`}
            >
              {getCategoryLabel(event.category)}
            </Badge>
          </div>

          {/* Almost Sold Out */}
          {isAlmostSoldOut && (
            <div className="absolute right-3 top-3">
              <Badge variant="destructive" className="bg-destructive/90">
                Almost Sold Out
              </Badge>
            </div>
          )}

          {/* Date Overlay on Mobile */}
          <div className="absolute bottom-3 left-3 md:hidden">
            <div className="rounded-lg bg-background/90 backdrop-blur-sm px-3 py-2">
              <p className="text-xs font-medium text-accent">
                {formatDate(event.date)}
              </p>
            </div>
          </div>
        </div>

        {/* Content */}
        <CardContent
          className={`flex flex-col gap-3 p-4 ${
            featured ? "md:flex-1 md:p-6" : ""
          }`}
        >
          {/* Date - Desktop */}
          <div className="hidden md:flex items-center gap-2 text-sm text-muted-foreground">
            <Calendar className="h-4 w-4 text-accent" />
            <span>{formatDate(event.date)}</span>
          </div>

          {/* Title */}
          <h3
            className={`font-semibold leading-tight text-balance group-hover:text-accent transition-colors ${
              featured ? "text-xl md:text-2xl" : "text-lg"
            }`}
          >
            {event.title}
          </h3>

          {/* Description - Featured only */}
          {featured && (
            <p className="hidden md:block text-muted-foreground text-sm leading-relaxed line-clamp-2">
              {event.shortDescription}
            </p>
          )}

          {/* Location */}
          <div className="flex items-center gap-2 text-sm text-muted-foreground">
            <MapPin className="h-4 w-4 shrink-0" />
            <span className="truncate">{event.venue.name}</span>
          </div>

          {/* Attendees */}
          <div className="flex items-center gap-2 text-sm text-muted-foreground">
            <Users className="h-4 w-4 shrink-0" />
            <span>{totalSold.toLocaleString()} attending</span>
          </div>

          {/* Price */}
          <div className="mt-auto flex items-center justify-between pt-3 border-t border-border/50">
            <div>
              <p className="text-xs text-muted-foreground">From</p>
              <p className="font-semibold text-accent">{formatRWF(lowestPrice)}</p>
            </div>
            <div className="rounded-full bg-secondary px-4 py-2 text-sm font-medium transition-colors group-hover:bg-accent group-hover:text-accent-foreground">
              Get Tickets
            </div>
          </div>
        </CardContent>
      </Card>
    </Link>
  );
}
</file>

<file path="components/events/search-bar.tsx">
"use client";

import React from "react"

import { useState, useCallback } from "react";
import { useRouter, useSearchParams } from "next/navigation";
import { Search, X } from "lucide-react";
import { Input } from "@/components/ui/input";
import { Button } from "@/components/ui/button";
import { cn } from "@/lib/utils";

interface SearchBarProps {
  className?: string;
  placeholder?: string;
}

export function SearchBar({ 
  className,
  placeholder = "Search events, artists, venues..." 
}: SearchBarProps) {
  const router = useRouter();
  const searchParams = useSearchParams();
  const [query, setQuery] = useState(searchParams.get("q") || "");

  const handleSearch = useCallback(
    (e: React.FormEvent) => {
      e.preventDefault();
      const params = new URLSearchParams(searchParams.toString());
      if (query.trim()) {
        params.set("q", query.trim());
      } else {
        params.delete("q");
      }
      router.push(`/?${params.toString()}`, { scroll: false });
    },
    [query, router, searchParams]
  );

  const clearSearch = useCallback(() => {
    setQuery("");
    const params = new URLSearchParams(searchParams.toString());
    params.delete("q");
    router.push(`/?${params.toString()}`, { scroll: false });
  }, [router, searchParams]);

  return (
    <form onSubmit={handleSearch} className={cn("relative w-full", className)}>
      <div className="relative">
        <Search className="absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-muted-foreground" />
        <Input
          type="text"
          value={query}
          onChange={(e) => setQuery(e.target.value)}
          placeholder={placeholder}
          className="h-12 w-full rounded-full border-border/50 bg-secondary pl-12 pr-24 text-base placeholder:text-muted-foreground focus-visible:ring-accent"
        />
        {query && (
          <Button
            type="button"
            variant="ghost"
            size="icon"
            onClick={clearSearch}
            className="absolute right-16 top-1/2 h-8 w-8 -translate-y-1/2 rounded-full"
          >
            <X className="h-4 w-4" />
          </Button>
        )}
        <Button
          type="submit"
          size="sm"
          className="absolute right-2 top-1/2 -translate-y-1/2 rounded-full px-4"
        >
          Search
        </Button>
      </div>
    </form>
  );
}
</file>

<file path="components/layout/footer.tsx">
import Link from "next/link";
import { Ticket, MapPin, Phone, Mail } from "lucide-react";

const footerLinks = {
  discover: [
    { label: "All Events", href: "/" },
    { label: "Music", href: "/?category=music" },
    { label: "Sports", href: "/?category=sports" },
    { label: "Food & Drink", href: "/?category=food" },
    { label: "Business", href: "/?category=business" },
  ],
  organizers: [
    { label: "Create Event", href: "/organizer/events/new" },
    { label: "Pricing", href: "/organizer#pricing" },
    { label: "Dashboard", href: "/organizer/dashboard" },
    { label: "Resources", href: "/organizer#resources" },
  ],
  company: [
    { label: "About Us", href: "/about" },
    { label: "Contact", href: "/contact" },
    { label: "Careers", href: "/careers" },
    { label: "Press", href: "/press" },
  ],
  legal: [
    { label: "Terms of Service", href: "/terms" },
    { label: "Privacy Policy", href: "/privacy" },
    { label: "Refund Policy", href: "/refund" },
  ],
};

export function Footer() {
  return (
    <footer className="border-t border-border bg-card">
      <div className="container mx-auto px-4 py-12">
        <div className="grid gap-8 md:grid-cols-2 lg:grid-cols-6">
          {/* Brand */}
          <div className="lg:col-span-2">
            <Link href="/" className="flex items-center gap-2">
              <div className="flex h-8 w-8 items-center justify-center rounded-lg bg-accent">
                <Ticket className="h-5 w-5 text-accent-foreground" />
              </div>
              <span className="text-xl font-bold tracking-tight">Tikiti</span>
            </Link>
            <p className="mt-4 max-w-xs text-sm text-muted-foreground leading-relaxed">
              Rwanda&apos;s trusted event ticketing platform. Discover amazing events,
              buy tickets securely, and create unforgettable memories.
            </p>
            <div className="mt-6 space-y-2">
              <div className="flex items-center gap-2 text-sm text-muted-foreground">
                <MapPin className="h-4 w-4" />
                <span>Kigali, Rwanda</span>
              </div>
              <div className="flex items-center gap-2 text-sm text-muted-foreground">
                <Phone className="h-4 w-4" />
                <span>+250 788 000 000</span>
              </div>
              <div className="flex items-center gap-2 text-sm text-muted-foreground">
                <Mail className="h-4 w-4" />
                <span>hello@tikiti.rw</span>
              </div>
            </div>
          </div>

          {/* Links */}
          <div>
            <h3 className="font-semibold mb-4">Discover</h3>
            <ul className="space-y-3">
              {footerLinks.discover.map((link) => (
                <li key={link.href}>
                  <Link
                    href={link.href}
                    className="text-sm text-muted-foreground hover:text-foreground transition-colors"
                  >
                    {link.label}
                  </Link>
                </li>
              ))}
            </ul>
          </div>

          <div>
            <h3 className="font-semibold mb-4">For Organizers</h3>
            <ul className="space-y-3">
              {footerLinks.organizers.map((link) => (
                <li key={link.href}>
                  <Link
                    href={link.href}
                    className="text-sm text-muted-foreground hover:text-foreground transition-colors"
                  >
                    {link.label}
                  </Link>
                </li>
              ))}
            </ul>
          </div>

          <div>
            <h3 className="font-semibold mb-4">Company</h3>
            <ul className="space-y-3">
              {footerLinks.company.map((link) => (
                <li key={link.href}>
                  <Link
                    href={link.href}
                    className="text-sm text-muted-foreground hover:text-foreground transition-colors"
                  >
                    {link.label}
                  </Link>
                </li>
              ))}
            </ul>
          </div>

          <div>
            <h3 className="font-semibold mb-4">Legal</h3>
            <ul className="space-y-3">
              {footerLinks.legal.map((link) => (
                <li key={link.href}>
                  <Link
                    href={link.href}
                    className="text-sm text-muted-foreground hover:text-foreground transition-colors"
                  >
                    {link.label}
                  </Link>
                </li>
              ))}
            </ul>
          </div>
        </div>

        {/* Bottom */}
        <div className="mt-12 flex flex-col items-center justify-between gap-4 border-t border-border pt-8 md:flex-row">
          <p className="text-sm text-muted-foreground">
            &copy; {new Date().getFullYear()} Tikiti. All rights reserved.
          </p>
          <div className="flex items-center gap-4">
            <span className="text-sm text-muted-foreground">
              Payments secured by
            </span>
            <div className="flex items-center gap-2">
              <div className="rounded bg-secondary px-2 py-1 text-xs font-medium">
                MTN MoMo
              </div>
              <div className="rounded bg-secondary px-2 py-1 text-xs font-medium">
                Airtel Money
              </div>
              <div className="rounded bg-secondary px-2 py-1 text-xs font-medium">
                Visa
              </div>
            </div>
          </div>
        </div>
      </div>
    </footer>
  );
}
</file>

<file path="components/layout/header.tsx">
"use client";

import Link from "next/link";
import { usePathname } from "next/navigation";
import { useState } from "react";
import { Button } from "@/components/ui/button";
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuSeparator,
  DropdownMenuTrigger,
} from "@/components/ui/dropdown-menu";
import { Sheet, SheetContent, SheetTrigger } from "@/components/ui/sheet";
import { useAuth } from "@/lib/auth-context";
import {
  Menu,
  X,
  User,
  Ticket,
  LogOut,
  LayoutDashboard,
  Settings,
  ChevronDown,
  MapPin,
} from "lucide-react";
import { cn } from "@/lib/utils";

const publicNavItems = [
  { label: "Events", href: "/" },
  { label: "How It Works", href: "/#how-it-works" },
  { label: "For Organizers", href: "/organizer" },
];

export function Header() {
  const pathname = usePathname();
  const { user, isAuthenticated, logout } = useAuth();
  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);

  const getDashboardLink = () => {
    if (!user) return "/auth/signin";
    switch (user.role) {
      case "organizer":
        return "/organizer/dashboard";
      case "admin":
        return "/admin";
      case "scanner":
        return "/scanner";
      default:
        return "/my-tickets";
    }
  };

  return (
    <header className="sticky top-0 z-50 w-full border-b border-border/40 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60">
      <div className="container mx-auto px-4">
        <nav className="flex h-16 items-center justify-between">
          {/* Logo */}
          <Link href="/" className="flex items-center gap-2">
            <div className="flex h-8 w-8 items-center justify-center rounded-lg bg-accent">
              <Ticket className="h-5 w-5 text-accent-foreground" />
            </div>
            <span className="text-xl font-bold tracking-tight">Tikiti</span>
          </Link>

          {/* Desktop Navigation */}
          <div className="hidden md:flex md:items-center md:gap-8">
            {publicNavItems.map((item) => (
              <Link
                key={item.href}
                href={item.href}
                className={cn(
                  "text-sm font-medium transition-colors hover:text-foreground",
                  pathname === item.href
                    ? "text-foreground"
                    : "text-muted-foreground"
                )}
              >
                {item.label}
              </Link>
            ))}
          </div>

          {/* Location & Auth */}
          <div className="hidden md:flex md:items-center md:gap-4">
            <Button variant="ghost" size="sm" className="gap-2 text-muted-foreground">
              <MapPin className="h-4 w-4" />
              Kigali
              <ChevronDown className="h-3 w-3" />
            </Button>

            {isAuthenticated ? (
              <DropdownMenu>
                <DropdownMenuTrigger asChild>
                  <Button variant="ghost" size="sm" className="gap-2">
                    <div className="flex h-7 w-7 items-center justify-center rounded-full bg-secondary">
                      <User className="h-4 w-4" />
                    </div>
                    <span className="max-w-[100px] truncate">
                      {user?.firstName}
                    </span>
                    <ChevronDown className="h-3 w-3" />
                  </Button>
                </DropdownMenuTrigger>
                <DropdownMenuContent align="end" className="w-56">
                  <div className="flex flex-col gap-1 p-2">
                    <p className="text-sm font-medium">
                      {user?.firstName} {user?.lastName}
                    </p>
                    <p className="text-xs text-muted-foreground">{user?.email}</p>
                  </div>
                  <DropdownMenuSeparator />
                  <DropdownMenuItem asChild>
                    <Link href={getDashboardLink()} className="gap-2">
                      <LayoutDashboard className="h-4 w-4" />
                      Dashboard
                    </Link>
                  </DropdownMenuItem>
                  {user?.role === "attendee" && (
                    <DropdownMenuItem asChild>
                      <Link href="/my-tickets" className="gap-2">
                        <Ticket className="h-4 w-4" />
                        My Tickets
                      </Link>
                    </DropdownMenuItem>
                  )}
                  <DropdownMenuItem asChild>
                    <Link href="/settings" className="gap-2">
                      <Settings className="h-4 w-4" />
                      Settings
                    </Link>
                  </DropdownMenuItem>
                  <DropdownMenuSeparator />
                  <DropdownMenuItem onClick={logout} className="gap-2 text-destructive">
                    <LogOut className="h-4 w-4" />
                    Sign Out
                  </DropdownMenuItem>
                </DropdownMenuContent>
              </DropdownMenu>
            ) : (
              <div className="flex items-center gap-2">
                <Button variant="ghost" size="sm" asChild>
                  <Link href="/auth/signin">Sign In</Link>
                </Button>
                <Button size="sm" asChild>
                  <Link href="/auth/signup">Sign Up</Link>
                </Button>
              </div>
            )}
          </div>

          {/* Mobile Menu */}
          <Sheet open={mobileMenuOpen} onOpenChange={setMobileMenuOpen}>
            <SheetTrigger asChild className="md:hidden">
              <Button variant="ghost" size="icon">
                {mobileMenuOpen ? (
                  <X className="h-5 w-5" />
                ) : (
                  <Menu className="h-5 w-5" />
                )}
              </Button>
            </SheetTrigger>
            <SheetContent side="right" className="w-full max-w-xs">
              <div className="flex flex-col gap-6 pt-6">
                <div className="flex items-center gap-2">
                  <MapPin className="h-4 w-4 text-muted-foreground" />
                  <span className="text-sm">Kigali, Rwanda</span>
                </div>

                <nav className="flex flex-col gap-4">
                  {publicNavItems.map((item) => (
                    <Link
                      key={item.href}
                      href={item.href}
                      onClick={() => setMobileMenuOpen(false)}
                      className={cn(
                        "text-lg font-medium transition-colors",
                        pathname === item.href
                          ? "text-foreground"
                          : "text-muted-foreground"
                      )}
                    >
                      {item.label}
                    </Link>
                  ))}
                </nav>

                <div className="border-t border-border pt-6">
                  {isAuthenticated ? (
                    <div className="flex flex-col gap-4">
                      <div className="flex items-center gap-3">
                        <div className="flex h-10 w-10 items-center justify-center rounded-full bg-secondary">
                          <User className="h-5 w-5" />
                        </div>
                        <div>
                          <p className="font-medium">
                            {user?.firstName} {user?.lastName}
                          </p>
                          <p className="text-sm text-muted-foreground">
                            {user?.email}
                          </p>
                        </div>
                      </div>
                      <Link
                        href={getDashboardLink()}
                        onClick={() => setMobileMenuOpen(false)}
                        className="flex items-center gap-2 text-muted-foreground"
                      >
                        <LayoutDashboard className="h-4 w-4" />
                        Dashboard
                      </Link>
                      {user?.role === "attendee" && (
                        <Link
                          href="/my-tickets"
                          onClick={() => setMobileMenuOpen(false)}
                          className="flex items-center gap-2 text-muted-foreground"
                        >
                          <Ticket className="h-4 w-4" />
                          My Tickets
                        </Link>
                      )}
                      <button
                        type="button"
                        onClick={() => {
                          logout();
                          setMobileMenuOpen(false);
                        }}
                        className="flex items-center gap-2 text-destructive"
                      >
                        <LogOut className="h-4 w-4" />
                        Sign Out
                      </button>
                    </div>
                  ) : (
                    <div className="flex flex-col gap-3">
                      <Button asChild className="w-full">
                        <Link
                          href="/auth/signup"
                          onClick={() => setMobileMenuOpen(false)}
                        >
                          Sign Up
                        </Link>
                      </Button>
                      <Button variant="outline" asChild className="w-full bg-transparent">
                        <Link
                          href="/auth/signin"
                          onClick={() => setMobileMenuOpen(false)}
                        >
                          Sign In
                        </Link>
                      </Button>
                    </div>
                  )}
                </div>
              </div>
            </SheetContent>
          </Sheet>
        </nav>
      </div>
    </header>
  );
}
</file>

<file path="components/theme-provider.tsx">
'use client'

import * as React from 'react'
import {
  ThemeProvider as NextThemesProvider,
  type ThemeProviderProps,
} from 'next-themes'

export function ThemeProvider({ children, ...props }: ThemeProviderProps) {
  return <NextThemesProvider {...props}>{children}</NextThemesProvider>
}
</file>

<file path="components/ui/avatar.tsx">
'use client'

import * as React from 'react'
import * as AvatarPrimitive from '@radix-ui/react-avatar'

import { cn } from '@/lib/utils'

function Avatar({
  className,
  ...props
}: React.ComponentProps<typeof AvatarPrimitive.Root>) {
  return (
    <AvatarPrimitive.Root
      data-slot="avatar"
      className={cn(
        'relative flex size-8 shrink-0 overflow-hidden rounded-full',
        className,
      )}
      {...props}
    />
  )
}

function AvatarImage({
  className,
  ...props
}: React.ComponentProps<typeof AvatarPrimitive.Image>) {
  return (
    <AvatarPrimitive.Image
      data-slot="avatar-image"
      className={cn('aspect-square size-full', className)}
      {...props}
    />
  )
}

function AvatarFallback({
  className,
  ...props
}: React.ComponentProps<typeof AvatarPrimitive.Fallback>) {
  return (
    <AvatarPrimitive.Fallback
      data-slot="avatar-fallback"
      className={cn(
        'bg-muted flex size-full items-center justify-center rounded-full',
        className,
      )}
      {...props}
    />
  )
}

export { Avatar, AvatarImage, AvatarFallback }
</file>

<file path="components/ui/badge.tsx">
import * as React from 'react'
import { Slot } from '@radix-ui/react-slot'
import { cva, type VariantProps } from 'class-variance-authority'

import { cn } from '@/lib/utils'

const badgeVariants = cva(
  'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',
  {
    variants: {
      variant: {
        default:
          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',
        secondary:
          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',
        destructive:
          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',
        outline:
          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',
      },
    },
    defaultVariants: {
      variant: 'default',
    },
  },
)

function Badge({
  className,
  variant,
  asChild = false,
  ...props
}: React.ComponentProps<'span'> &
  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {
  const Comp = asChild ? Slot : 'span'

  return (
    <Comp
      data-slot="badge"
      className={cn(badgeVariants({ variant }), className)}
      {...props}
    />
  )
}

export { Badge, badgeVariants }
</file>

<file path="components/ui/button.tsx">
import * as React from 'react'
import { Slot } from '@radix-ui/react-slot'
import { cva, type VariantProps } from 'class-variance-authority'

import { cn } from '@/lib/utils'

const buttonVariants = cva(
  "inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",
  {
    variants: {
      variant: {
        default: 'bg-primary text-primary-foreground hover:bg-primary/90',
        destructive:
          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',
        outline:
          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',
        secondary:
          'bg-secondary text-secondary-foreground hover:bg-secondary/80',
        ghost:
          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',
        link: 'text-primary underline-offset-4 hover:underline',
      },
      size: {
        default: 'h-9 px-4 py-2 has-[>svg]:px-3',
        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',
        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',
        icon: 'size-9',
        'icon-sm': 'size-8',
        'icon-lg': 'size-10',
      },
    },
    defaultVariants: {
      variant: 'default',
      size: 'default',
    },
  },
)

function Button({
  className,
  variant,
  size,
  asChild = false,
  ...props
}: React.ComponentProps<'button'> &
  VariantProps<typeof buttonVariants> & {
    asChild?: boolean
  }) {
  const Comp = asChild ? Slot : 'button'

  return (
    <Comp
      data-slot="button"
      className={cn(buttonVariants({ variant, size, className }))}
      {...props}
    />
  )
}

export { Button, buttonVariants }
</file>

<file path="components/ui/card.tsx">
import * as React from 'react'

import { cn } from '@/lib/utils'

function Card({ className, ...props }: React.ComponentProps<'div'>) {
  return (
    <div
      data-slot="card"
      className={cn(
        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',
        className,
      )}
      {...props}
    />
  )
}

function CardHeader({ className, ...props }: React.ComponentProps<'div'>) {
  return (
    <div
      data-slot="card-header"
      className={cn(
        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',
        className,
      )}
      {...props}
    />
  )
}

function CardTitle({ className, ...props }: React.ComponentProps<'div'>) {
  return (
    <div
      data-slot="card-title"
      className={cn('leading-none font-semibold', className)}
      {...props}
    />
  )
}

function CardDescription({ className, ...props }: React.ComponentProps<'div'>) {
  return (
    <div
      data-slot="card-description"
      className={cn('text-muted-foreground text-sm', className)}
      {...props}
    />
  )
}

function CardAction({ className, ...props }: React.ComponentProps<'div'>) {
  return (
    <div
      data-slot="card-action"
      className={cn(
        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',
        className,
      )}
      {...props}
    />
  )
}

function CardContent({ className, ...props }: React.ComponentProps<'div'>) {
  return (
    <div
      data-slot="card-content"
      className={cn('px-6', className)}
      {...props}
    />
  )
}

function CardFooter({ className, ...props }: React.ComponentProps<'div'>) {
  return (
    <div
      data-slot="card-footer"
      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}
      {...props}
    />
  )
}

export {
  Card,
  CardHeader,
  CardFooter,
  CardTitle,
  CardAction,
  CardDescription,
  CardContent,
}
</file>

<file path="components/ui/dropdown-menu.tsx">
'use client'

import * as React from 'react'
import * as DropdownMenuPrimitive from '@radix-ui/react-dropdown-menu'
import { CheckIcon, ChevronRightIcon, CircleIcon } from 'lucide-react'

import { cn } from '@/lib/utils'

function DropdownMenu({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {
  return <DropdownMenuPrimitive.Root data-slot="dropdown-menu" {...props} />
}

function DropdownMenuPortal({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {
  return (
    <DropdownMenuPrimitive.Portal data-slot="dropdown-menu-portal" {...props} />
  )
}

function DropdownMenuTrigger({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {
  return (
    <DropdownMenuPrimitive.Trigger
      data-slot="dropdown-menu-trigger"
      {...props}
    />
  )
}

function DropdownMenuContent({
  className,
  sideOffset = 4,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {
  return (
    <DropdownMenuPrimitive.Portal>
      <DropdownMenuPrimitive.Content
        data-slot="dropdown-menu-content"
        sideOffset={sideOffset}
        className={cn(
          'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md',
          className,
        )}
        {...props}
      />
    </DropdownMenuPrimitive.Portal>
  )
}

function DropdownMenuGroup({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {
  return (
    <DropdownMenuPrimitive.Group data-slot="dropdown-menu-group" {...props} />
  )
}

function DropdownMenuItem({
  className,
  inset,
  variant = 'default',
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {
  inset?: boolean
  variant?: 'default' | 'destructive'
}) {
  return (
    <DropdownMenuPrimitive.Item
      data-slot="dropdown-menu-item"
      data-inset={inset}
      data-variant={variant}
      className={cn(
        "focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className,
      )}
      {...props}
    />
  )
}

function DropdownMenuCheckboxItem({
  className,
  children,
  checked,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {
  return (
    <DropdownMenuPrimitive.CheckboxItem
      data-slot="dropdown-menu-checkbox-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className,
      )}
      checked={checked}
      {...props}
    >
      <span className="pointer-events-none absolute left-2 flex size-3.5 items-center justify-center">
        <DropdownMenuPrimitive.ItemIndicator>
          <CheckIcon className="size-4" />
        </DropdownMenuPrimitive.ItemIndicator>
      </span>
      {children}
    </DropdownMenuPrimitive.CheckboxItem>
  )
}

function DropdownMenuRadioGroup({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {
  return (
    <DropdownMenuPrimitive.RadioGroup
      data-slot="dropdown-menu-radio-group"
      {...props}
    />
  )
}

function DropdownMenuRadioItem({
  className,
  children,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {
  return (
    <DropdownMenuPrimitive.RadioItem
      data-slot="dropdown-menu-radio-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className,
      )}
      {...props}
    >
      <span className="pointer-events-none absolute left-2 flex size-3.5 items-center justify-center">
        <DropdownMenuPrimitive.ItemIndicator>
          <CircleIcon className="size-2 fill-current" />
        </DropdownMenuPrimitive.ItemIndicator>
      </span>
      {children}
    </DropdownMenuPrimitive.RadioItem>
  )
}

function DropdownMenuLabel({
  className,
  inset,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {
  inset?: boolean
}) {
  return (
    <DropdownMenuPrimitive.Label
      data-slot="dropdown-menu-label"
      data-inset={inset}
      className={cn(
        'px-2 py-1.5 text-sm font-medium data-[inset]:pl-8',
        className,
      )}
      {...props}
    />
  )
}

function DropdownMenuSeparator({
  className,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {
  return (
    <DropdownMenuPrimitive.Separator
      data-slot="dropdown-menu-separator"
      className={cn('bg-border -mx-1 my-1 h-px', className)}
      {...props}
    />
  )
}

function DropdownMenuShortcut({
  className,
  ...props
}: React.ComponentProps<'span'>) {
  return (
    <span
      data-slot="dropdown-menu-shortcut"
      className={cn(
        'text-muted-foreground ml-auto text-xs tracking-widest',
        className,
      )}
      {...props}
    />
  )
}

function DropdownMenuSub({
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {
  return <DropdownMenuPrimitive.Sub data-slot="dropdown-menu-sub" {...props} />
}

function DropdownMenuSubTrigger({
  className,
  inset,
  children,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {
  inset?: boolean
}) {
  return (
    <DropdownMenuPrimitive.SubTrigger
      data-slot="dropdown-menu-sub-trigger"
      data-inset={inset}
      className={cn(
        "focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className,
      )}
      {...props}
    >
      {children}
      <ChevronRightIcon className="ml-auto size-4" />
    </DropdownMenuPrimitive.SubTrigger>
  )
}

function DropdownMenuSubContent({
  className,
  ...props
}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {
  return (
    <DropdownMenuPrimitive.SubContent
      data-slot="dropdown-menu-sub-content"
      className={cn(
        'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg',
        className,
      )}
      {...props}
    />
  )
}

export {
  DropdownMenu,
  DropdownMenuPortal,
  DropdownMenuTrigger,
  DropdownMenuContent,
  DropdownMenuGroup,
  DropdownMenuLabel,
  DropdownMenuItem,
  DropdownMenuCheckboxItem,
  DropdownMenuRadioGroup,
  DropdownMenuRadioItem,
  DropdownMenuSeparator,
  DropdownMenuShortcut,
  DropdownMenuSub,
  DropdownMenuSubTrigger,
  DropdownMenuSubContent,
}
</file>

<file path="components/ui/input.tsx">
import * as React from 'react'

import { cn } from '@/lib/utils'

function Input({ className, type, ...props }: React.ComponentProps<'input'>) {
  return (
    <input
      type={type}
      data-slot="input"
      className={cn(
        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',
        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',
        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',
        className,
      )}
      {...props}
    />
  )
}

export { Input }
</file>

<file path="components/ui/label.tsx">
'use client'

import * as React from 'react'
import * as LabelPrimitive from '@radix-ui/react-label'

import { cn } from '@/lib/utils'

function Label({
  className,
  ...props
}: React.ComponentProps<typeof LabelPrimitive.Root>) {
  return (
    <LabelPrimitive.Root
      data-slot="label"
      className={cn(
        'flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50',
        className,
      )}
      {...props}
    />
  )
}

export { Label }
</file>

<file path="components/ui/radio-group.tsx">
'use client'

import * as React from 'react'
import * as RadioGroupPrimitive from '@radix-ui/react-radio-group'
import { CircleIcon } from 'lucide-react'

import { cn } from '@/lib/utils'

function RadioGroup({
  className,
  ...props
}: React.ComponentProps<typeof RadioGroupPrimitive.Root>) {
  return (
    <RadioGroupPrimitive.Root
      data-slot="radio-group"
      className={cn('grid gap-3', className)}
      {...props}
    />
  )
}

function RadioGroupItem({
  className,
  ...props
}: React.ComponentProps<typeof RadioGroupPrimitive.Item>) {
  return (
    <RadioGroupPrimitive.Item
      data-slot="radio-group-item"
      className={cn(
        'border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50',
        className,
      )}
      {...props}
    >
      <RadioGroupPrimitive.Indicator
        data-slot="radio-group-indicator"
        className="relative flex items-center justify-center"
      >
        <CircleIcon className="fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2" />
      </RadioGroupPrimitive.Indicator>
    </RadioGroupPrimitive.Item>
  )
}

export { RadioGroup, RadioGroupItem }
</file>

<file path="components/ui/select.tsx">
'use client'

import * as React from 'react'
import * as SelectPrimitive from '@radix-ui/react-select'
import { CheckIcon, ChevronDownIcon, ChevronUpIcon } from 'lucide-react'

import { cn } from '@/lib/utils'

function Select({
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Root>) {
  return <SelectPrimitive.Root data-slot="select" {...props} />
}

function SelectGroup({
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Group>) {
  return <SelectPrimitive.Group data-slot="select-group" {...props} />
}

function SelectValue({
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Value>) {
  return <SelectPrimitive.Value data-slot="select-value" {...props} />
}

function SelectTrigger({
  className,
  size = 'default',
  children,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {
  size?: 'sm' | 'default'
}) {
  return (
    <SelectPrimitive.Trigger
      data-slot="select-trigger"
      data-size={size}
      className={cn(
        "border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className,
      )}
      {...props}
    >
      {children}
      <SelectPrimitive.Icon asChild>
        <ChevronDownIcon className="size-4 opacity-50" />
      </SelectPrimitive.Icon>
    </SelectPrimitive.Trigger>
  )
}

function SelectContent({
  className,
  children,
  position = 'popper',
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Content>) {
  return (
    <SelectPrimitive.Portal>
      <SelectPrimitive.Content
        data-slot="select-content"
        className={cn(
          'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md',
          position === 'popper' &&
            'data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1',
          className,
        )}
        position={position}
        {...props}
      >
        <SelectScrollUpButton />
        <SelectPrimitive.Viewport
          className={cn(
            'p-1',
            position === 'popper' &&
              'h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1',
          )}
        >
          {children}
        </SelectPrimitive.Viewport>
        <SelectScrollDownButton />
      </SelectPrimitive.Content>
    </SelectPrimitive.Portal>
  )
}

function SelectLabel({
  className,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Label>) {
  return (
    <SelectPrimitive.Label
      data-slot="select-label"
      className={cn('text-muted-foreground px-2 py-1.5 text-xs', className)}
      {...props}
    />
  )
}

function SelectItem({
  className,
  children,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Item>) {
  return (
    <SelectPrimitive.Item
      data-slot="select-item"
      className={cn(
        "focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",
        className,
      )}
      {...props}
    >
      <span className="absolute right-2 flex size-3.5 items-center justify-center">
        <SelectPrimitive.ItemIndicator>
          <CheckIcon className="size-4" />
        </SelectPrimitive.ItemIndicator>
      </span>
      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>
    </SelectPrimitive.Item>
  )
}

function SelectSeparator({
  className,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.Separator>) {
  return (
    <SelectPrimitive.Separator
      data-slot="select-separator"
      className={cn('bg-border pointer-events-none -mx-1 my-1 h-px', className)}
      {...props}
    />
  )
}

function SelectScrollUpButton({
  className,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {
  return (
    <SelectPrimitive.ScrollUpButton
      data-slot="select-scroll-up-button"
      className={cn(
        'flex cursor-default items-center justify-center py-1',
        className,
      )}
      {...props}
    >
      <ChevronUpIcon className="size-4" />
    </SelectPrimitive.ScrollUpButton>
  )
}

function SelectScrollDownButton({
  className,
  ...props
}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {
  return (
    <SelectPrimitive.ScrollDownButton
      data-slot="select-scroll-down-button"
      className={cn(
        'flex cursor-default items-center justify-center py-1',
        className,
      )}
      {...props}
    >
      <ChevronDownIcon className="size-4" />
    </SelectPrimitive.ScrollDownButton>
  )
}

export {
  Select,
  SelectContent,
  SelectGroup,
  SelectItem,
  SelectLabel,
  SelectScrollDownButton,
  SelectScrollUpButton,
  SelectSeparator,
  SelectTrigger,
  SelectValue,
}
</file>

<file path="components/ui/separator.tsx">
'use client'

import * as React from 'react'
import * as SeparatorPrimitive from '@radix-ui/react-separator'

import { cn } from '@/lib/utils'

function Separator({
  className,
  orientation = 'horizontal',
  decorative = true,
  ...props
}: React.ComponentProps<typeof SeparatorPrimitive.Root>) {
  return (
    <SeparatorPrimitive.Root
      data-slot="separator"
      decorative={decorative}
      orientation={orientation}
      className={cn(
        'bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px',
        className,
      )}
      {...props}
    />
  )
}

export { Separator }
</file>

<file path="components/ui/sheet.tsx">
'use client'

import * as React from 'react'
import * as SheetPrimitive from '@radix-ui/react-dialog'
import { XIcon } from 'lucide-react'

import { cn } from '@/lib/utils'

function Sheet({ ...props }: React.ComponentProps<typeof SheetPrimitive.Root>) {
  return <SheetPrimitive.Root data-slot="sheet" {...props} />
}

function SheetTrigger({
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Trigger>) {
  return <SheetPrimitive.Trigger data-slot="sheet-trigger" {...props} />
}

function SheetClose({
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Close>) {
  return <SheetPrimitive.Close data-slot="sheet-close" {...props} />
}

function SheetPortal({
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Portal>) {
  return <SheetPrimitive.Portal data-slot="sheet-portal" {...props} />
}

function SheetOverlay({
  className,
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Overlay>) {
  return (
    <SheetPrimitive.Overlay
      data-slot="sheet-overlay"
      className={cn(
        'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50',
        className,
      )}
      {...props}
    />
  )
}

function SheetContent({
  className,
  children,
  side = 'right',
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Content> & {
  side?: 'top' | 'right' | 'bottom' | 'left'
}) {
  return (
    <SheetPortal>
      <SheetOverlay />
      <SheetPrimitive.Content
        data-slot="sheet-content"
        className={cn(
          'bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500',
          side === 'right' &&
            'data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm',
          side === 'left' &&
            'data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm',
          side === 'top' &&
            'data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b',
          side === 'bottom' &&
            'data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t',
          className,
        )}
        {...props}
      >
        {children}
        <SheetPrimitive.Close className="ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none">
          <XIcon className="size-4" />
          <span className="sr-only">Close</span>
        </SheetPrimitive.Close>
      </SheetPrimitive.Content>
    </SheetPortal>
  )
}

function SheetHeader({ className, ...props }: React.ComponentProps<'div'>) {
  return (
    <div
      data-slot="sheet-header"
      className={cn('flex flex-col gap-1.5 p-4', className)}
      {...props}
    />
  )
}

function SheetFooter({ className, ...props }: React.ComponentProps<'div'>) {
  return (
    <div
      data-slot="sheet-footer"
      className={cn('mt-auto flex flex-col gap-2 p-4', className)}
      {...props}
    />
  )
}

function SheetTitle({
  className,
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Title>) {
  return (
    <SheetPrimitive.Title
      data-slot="sheet-title"
      className={cn('text-foreground font-semibold', className)}
      {...props}
    />
  )
}

function SheetDescription({
  className,
  ...props
}: React.ComponentProps<typeof SheetPrimitive.Description>) {
  return (
    <SheetPrimitive.Description
      data-slot="sheet-description"
      className={cn('text-muted-foreground text-sm', className)}
      {...props}
    />
  )
}

export {
  Sheet,
  SheetTrigger,
  SheetClose,
  SheetContent,
  SheetHeader,
  SheetFooter,
  SheetTitle,
  SheetDescription,
}
</file>

<file path="components/ui/switch.tsx">
'use client'

import * as React from 'react'
import * as SwitchPrimitive from '@radix-ui/react-switch'

import { cn } from '@/lib/utils'

function Switch({
  className,
  ...props
}: React.ComponentProps<typeof SwitchPrimitive.Root>) {
  return (
    <SwitchPrimitive.Root
      data-slot="switch"
      className={cn(
        'peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50',
        className,
      )}
      {...props}
    >
      <SwitchPrimitive.Thumb
        data-slot="switch-thumb"
        className={
          'bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0'
        }
      />
    </SwitchPrimitive.Root>
  )
}

export { Switch }
</file>

<file path="components/ui/table.tsx">
'use client'

import * as React from 'react'

import { cn } from '@/lib/utils'

function Table({ className, ...props }: React.ComponentProps<'table'>) {
  return (
    <div
      data-slot="table-container"
      className="relative w-full overflow-x-auto"
    >
      <table
        data-slot="table"
        className={cn('w-full caption-bottom text-sm', className)}
        {...props}
      />
    </div>
  )
}

function TableHeader({ className, ...props }: React.ComponentProps<'thead'>) {
  return (
    <thead
      data-slot="table-header"
      className={cn('[&_tr]:border-b', className)}
      {...props}
    />
  )
}

function TableBody({ className, ...props }: React.ComponentProps<'tbody'>) {
  return (
    <tbody
      data-slot="table-body"
      className={cn('[&_tr:last-child]:border-0', className)}
      {...props}
    />
  )
}

function TableFooter({ className, ...props }: React.ComponentProps<'tfoot'>) {
  return (
    <tfoot
      data-slot="table-footer"
      className={cn(
        'bg-muted/50 border-t font-medium [&>tr]:last:border-b-0',
        className,
      )}
      {...props}
    />
  )
}

function TableRow({ className, ...props }: React.ComponentProps<'tr'>) {
  return (
    <tr
      data-slot="table-row"
      className={cn(
        'hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors',
        className,
      )}
      {...props}
    />
  )
}

function TableHead({ className, ...props }: React.ComponentProps<'th'>) {
  return (
    <th
      data-slot="table-head"
      className={cn(
        'text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]',
        className,
      )}
      {...props}
    />
  )
}

function TableCell({ className, ...props }: React.ComponentProps<'td'>) {
  return (
    <td
      data-slot="table-cell"
      className={cn(
        'p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]',
        className,
      )}
      {...props}
    />
  )
}

function TableCaption({
  className,
  ...props
}: React.ComponentProps<'caption'>) {
  return (
    <caption
      data-slot="table-caption"
      className={cn('text-muted-foreground mt-4 text-sm', className)}
      {...props}
    />
  )
}

export {
  Table,
  TableHeader,
  TableBody,
  TableFooter,
  TableHead,
  TableRow,
  TableCell,
  TableCaption,
}
</file>

<file path="components/ui/tabs.tsx">
'use client'

import * as React from 'react'
import * as TabsPrimitive from '@radix-ui/react-tabs'

import { cn } from '@/lib/utils'

function Tabs({
  className,
  ...props
}: React.ComponentProps<typeof TabsPrimitive.Root>) {
  return (
    <TabsPrimitive.Root
      data-slot="tabs"
      className={cn('flex flex-col gap-2', className)}
      {...props}
    />
  )
}

function TabsList({
  className,
  ...props
}: React.ComponentProps<typeof TabsPrimitive.List>) {
  return (
    <TabsPrimitive.List
      data-slot="tabs-list"
      className={cn(
        'bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]',
        className,
      )}
      {...props}
    />
  )
}

function TabsTrigger({
  className,
  ...props
}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {
  return (
    <TabsPrimitive.Trigger
      data-slot="tabs-trigger"
      className={cn(
        "data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",
        className,
      )}
      {...props}
    />
  )
}

function TabsContent({
  className,
  ...props
}: React.ComponentProps<typeof TabsPrimitive.Content>) {
  return (
    <TabsPrimitive.Content
      data-slot="tabs-content"
      className={cn('flex-1 outline-none', className)}
      {...props}
    />
  )
}

export { Tabs, TabsList, TabsTrigger, TabsContent }
</file>

<file path="components/ui/textarea.tsx">
import * as React from 'react'

import { cn } from '@/lib/utils'

function Textarea({ className, ...props }: React.ComponentProps<'textarea'>) {
  return (
    <textarea
      data-slot="textarea"
      className={cn(
        'border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',
        className,
      )}
      {...props}
    />
  )
}

export { Textarea }
</file>

<file path="lib/auth-context.tsx">
"use client";

import { createContext, useContext, useState, useCallback, type ReactNode } from "react";
import type { User, UserRole } from "./types";

interface AuthContextType {
  user: User | null;
  isAuthenticated: boolean;
  isLoading: boolean;
  login: (email: string, password: string) => Promise<boolean>;
  signup: (data: SignupData) => Promise<boolean>;
  logout: () => void;
  setMockUser: (role: UserRole) => void;
}

interface SignupData {
  firstName: string;
  lastName: string;
  email: string;
  phone: string;
  role: UserRole;
  password: string;
}

const AuthContext = createContext<AuthContextType | undefined>(undefined);

// Mock users for different roles
const mockUsersByRole: Record<UserRole, User> = {
  attendee: {
    id: "user-1",
    firstName: "Jean",
    lastName: "Mugabo",
    email: "jean.mugabo@email.com",
    phone: "0788123456",
    role: "attendee",
    isVerified: true,
    createdAt: new Date("2024-01-15"),
  },
  organizer: {
    id: "org-1",
    firstName: "Marie",
    lastName: "Uwimana",
    email: "marie@eventspro.rw",
    phone: "0788654321",
    role: "organizer",
    isVerified: true,
    createdAt: new Date("2023-06-10"),
  },
  admin: {
    id: "admin-1",
    firstName: "Patrick",
    lastName: "Ishimwe",
    email: "admin@tikiti.rw",
    phone: "0788000001",
    role: "admin",
    isVerified: true,
    createdAt: new Date("2023-01-01"),
  },
  scanner: {
    id: "scanner-1",
    firstName: "Eric",
    lastName: "Habimana",
    email: "eric.scanner@eventspro.rw",
    phone: "0788111222",
    role: "scanner",
    isVerified: true,
    createdAt: new Date("2024-06-01"),
  },
};

export function AuthProvider({ children }: { children: ReactNode }) {
  const [user, setUser] = useState<User | null>(null);
  const [isLoading, setIsLoading] = useState(false);

  const login = useCallback(async (email: string, _password: string): Promise<boolean> => {
    setIsLoading(true);
    // Simulate API call
    await new Promise((resolve) => setTimeout(resolve, 1000));
    
    // Find user by email in mock data
    const foundUser = Object.values(mockUsersByRole).find((u) => u.email === email);
    if (foundUser) {
      setUser(foundUser);
      setIsLoading(false);
      return true;
    }
    
    // Default to attendee for demo
    setUser(mockUsersByRole.attendee);
    setIsLoading(false);
    return true;
  }, []);

  const signup = useCallback(async (data: SignupData): Promise<boolean> => {
    setIsLoading(true);
    // Simulate API call
    await new Promise((resolve) => setTimeout(resolve, 1500));
    
    const newUser: User = {
      id: `user-${Date.now()}`,
      firstName: data.firstName,
      lastName: data.lastName,
      email: data.email,
      phone: data.phone,
      role: data.role,
      isVerified: false, // Would need email verification
      createdAt: new Date(),
    };
    
    setUser(newUser);
    setIsLoading(false);
    return true;
  }, []);

  const logout = useCallback(() => {
    setUser(null);
  }, []);

  const setMockUser = useCallback((role: UserRole) => {
    setUser(mockUsersByRole[role]);
  }, []);

  return (
    <AuthContext.Provider
      value={{
        user,
        isAuthenticated: !!user,
        isLoading,
        login,
        signup,
        logout,
        setMockUser,
      }}
    >
      {children}
    </AuthContext.Provider>
  );
}

export function useAuth() {
  const context = useContext(AuthContext);
  if (context === undefined) {
    throw new Error("useAuth must be used within an AuthProvider");
  }
  return context;
}
</file>

<file path="lib/mock-data.ts">
import type { Event, Ticket, User, Order, Payout, EventAnalytics } from "./types";

// Mock Users
export const mockUsers: User[] = [
  {
    id: "user-1",
    firstName: "Jean",
    lastName: "Mugabo",
    email: "jean.mugabo@email.com",
    phone: "0788123456",
    role: "attendee",
    isVerified: true,
    createdAt: new Date("2024-01-15"),
  },
  {
    id: "org-1",
    firstName: "Marie",
    lastName: "Uwimana",
    email: "marie@eventspro.rw",
    phone: "0788654321",
    role: "organizer",
    isVerified: true,
    createdAt: new Date("2023-06-10"),
  },
];

// Mock Events
export const mockEvents: Event[] = [
  {
    id: "event-1",
    title: "Kigali Jazz Junction",
    description: "Experience the finest jazz performances in East Africa. Join us for an unforgettable evening of smooth melodies, soulful rhythms, and world-class musicians at the beautiful Kigali Convention Centre. This year's lineup features both local legends and international artists who will take you on a musical journey through the rich history of jazz.\n\nThe evening will include:\n- Live performances from 6 different artists\n- Networking sessions with fellow jazz enthusiasts\n- Premium food and beverage options\n- Meet and greet with performers",
    shortDescription: "An evening of world-class jazz performances featuring local and international artists.",
    category: "music",
    venue: {
      name: "Kigali Convention Centre",
      address: "KG 2 Roundabout",
      city: "Kigali",
      mapUrl: "https://maps.google.com/?q=Kigali+Convention+Centre",
    },
    date: new Date("2026-03-15T18:00:00"),
    endDate: new Date("2026-03-15T23:00:00"),
    imageUrl: "https://images.unsplash.com/photo-1511192336575-5a79af67a629?w=800&h=500&fit=crop",
    organizerId: "org-1",
    organizerName: "Events Pro Rwanda",
    ticketTypes: [
      {
        id: "tt-1-1",
        name: "General Admission",
        description: "Access to main event area",
        price: 15000,
        quantity: 500,
        sold: 342,
        maxPerOrder: 10,
      },
      {
        id: "tt-1-2",
        name: "VIP",
        description: "Premium seating, complimentary drinks, meet & greet",
        price: 50000,
        quantity: 100,
        sold: 67,
        maxPerOrder: 5,
      },
      {
        id: "tt-1-3",
        name: "VVIP Table",
        description: "Private table for 4, bottle service, backstage access",
        price: 200000,
        quantity: 20,
        sold: 12,
        maxPerOrder: 2,
      },
    ],
    isFeatured: true,
    isPublished: true,
    createdAt: new Date("2024-12-01"),
  },
  {
    id: "event-2",
    title: "Rwanda Tech Summit 2026",
    description: "The largest technology conference in Rwanda bringing together innovators, entrepreneurs, and tech leaders from across Africa and beyond. Discover the latest trends in AI, blockchain, fintech, and digital transformation.\n\nKey highlights:\n- 50+ speakers from leading tech companies\n- Startup pitch competition with RWF 10M prize\n- Hands-on workshops and coding sessions\n- Networking with investors and mentors",
    shortDescription: "Africa's premier tech conference featuring 50+ speakers and startup pitch competition.",
    category: "tech",
    venue: {
      name: "Radisson Blu Hotel",
      address: "KN 3 Avenue",
      city: "Kigali",
    },
    date: new Date("2026-04-20T08:00:00"),
    endDate: new Date("2026-04-21T18:00:00"),
    imageUrl: "https://images.unsplash.com/photo-1540575467063-178a50c2df87?w=800&h=500&fit=crop",
    organizerId: "org-2",
    organizerName: "Rwanda ICT Chamber",
    ticketTypes: [
      {
        id: "tt-2-1",
        name: "Standard Pass",
        description: "Full conference access",
        price: 25000,
        quantity: 800,
        sold: 456,
        maxPerOrder: 10,
      },
      {
        id: "tt-2-2",
        name: "Premium Pass",
        description: "Conference + workshops + networking dinner",
        price: 75000,
        quantity: 200,
        sold: 134,
        maxPerOrder: 5,
      },
    ],
    isFeatured: true,
    isPublished: true,
    createdAt: new Date("2024-11-15"),
  },
  {
    id: "event-3",
    title: "Kigali Food Festival",
    description: "Celebrate Rwanda's rich culinary heritage and explore flavors from around the world. Over 50 food vendors, live cooking demonstrations, and entertainment for the whole family.\n\nWhat to expect:\n- Traditional Rwandan cuisine\n- International food stalls\n- Celebrity chef demonstrations\n- Kids zone with activities\n- Live music throughout the day",
    shortDescription: "A celebration of food featuring 50+ vendors and live cooking demonstrations.",
    category: "food",
    venue: {
      name: "Kigali Car Free Zone",
      address: "KN 4 Avenue",
      city: "Kigali",
    },
    date: new Date("2026-03-08T10:00:00"),
    endDate: new Date("2026-03-08T20:00:00"),
    imageUrl: "https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=800&h=500&fit=crop",
    organizerId: "org-3",
    organizerName: "Kigali City Events",
    ticketTypes: [
      {
        id: "tt-3-1",
        name: "Day Pass",
        description: "All-day access to the festival",
        price: 5000,
        quantity: 2000,
        sold: 1245,
        maxPerOrder: 20,
      },
      {
        id: "tt-3-2",
        name: "Family Pack",
        description: "Entry for 2 adults and 2 children",
        price: 15000,
        quantity: 300,
        sold: 189,
        maxPerOrder: 5,
      },
    ],
    isFeatured: false,
    isPublished: true,
    createdAt: new Date("2024-12-10"),
  },
  {
    id: "event-4",
    title: "Amahoro Stadium Concert",
    description: "The biggest music event of the year! Join thousands of fans for an incredible night of performances from top African artists.\n\nLineup includes:\n- Diamond Platnumz\n- Meddy\n- The Ben\n- Knowless Butera\n- Bruce Melodie",
    shortDescription: "The biggest music concert featuring top African artists at Amahoro Stadium.",
    category: "music",
    venue: {
      name: "Amahoro National Stadium",
      address: "KG 5 Avenue",
      city: "Kigali",
    },
    date: new Date("2026-05-01T17:00:00"),
    endDate: new Date("2026-05-01T23:59:00"),
    imageUrl: "https://images.unsplash.com/photo-1459749411175-04bf5292ceea?w=800&h=500&fit=crop",
    organizerId: "org-1",
    organizerName: "Events Pro Rwanda",
    ticketTypes: [
      {
        id: "tt-4-1",
        name: "Regular",
        description: "Standing area access",
        price: 20000,
        quantity: 10000,
        sold: 4523,
        maxPerOrder: 10,
      },
      {
        id: "tt-4-2",
        name: "Premium",
        description: "Premium standing with better view",
        price: 50000,
        quantity: 2000,
        sold: 876,
        maxPerOrder: 8,
      },
      {
        id: "tt-4-3",
        name: "VIP Lounge",
        description: "Exclusive lounge access with open bar",
        price: 150000,
        quantity: 500,
        sold: 234,
        maxPerOrder: 4,
      },
    ],
    isFeatured: true,
    isPublished: true,
    createdAt: new Date("2025-01-05"),
  },
  {
    id: "event-5",
    title: "Rwanda Business Forum",
    description: "Connect with business leaders, investors, and entrepreneurs at Rwanda's premier business networking event. Learn about investment opportunities and economic growth in the region.",
    shortDescription: "Premier business networking event connecting leaders and investors.",
    category: "business",
    venue: {
      name: "Marriott Hotel Kigali",
      address: "KN 3 Avenue",
      city: "Kigali",
    },
    date: new Date("2026-03-25T09:00:00"),
    endDate: new Date("2026-03-25T17:00:00"),
    imageUrl: "https://images.unsplash.com/photo-1591115765373-5207764f72e7?w=800&h=500&fit=crop",
    organizerId: "org-4",
    organizerName: "Rwanda Development Board",
    ticketTypes: [
      {
        id: "tt-5-1",
        name: "Delegate Pass",
        description: "Full conference access and lunch",
        price: 100000,
        quantity: 300,
        sold: 187,
        maxPerOrder: 5,
      },
    ],
    isFeatured: false,
    isPublished: true,
    createdAt: new Date("2025-01-10"),
  },
  {
    id: "event-6",
    title: "Kigali Night Run",
    description: "Experience Kigali like never before with this unique 10km night run through the city's most scenic routes. Glow gear, live DJs at checkpoints, and an amazing after-party await!",
    shortDescription: "A unique 10km night run through Kigali with glow gear and after-party.",
    category: "sports",
    venue: {
      name: "Kigali City Tower",
      address: "Avenue du Commerce",
      city: "Kigali",
    },
    date: new Date("2026-04-12T19:00:00"),
    endDate: new Date("2026-04-12T23:00:00"),
    imageUrl: "https://images.unsplash.com/photo-1552674605-db6ffd4facb5?w=800&h=500&fit=crop",
    organizerId: "org-5",
    organizerName: "Rwanda Athletics Federation",
    ticketTypes: [
      {
        id: "tt-6-1",
        name: "Runner",
        description: "Race entry, t-shirt, medal, and after-party",
        price: 10000,
        quantity: 3000,
        sold: 2134,
        maxPerOrder: 5,
      },
      {
        id: "tt-6-2",
        name: "Spectator",
        description: "After-party access only",
        price: 5000,
        quantity: 1000,
        sold: 456,
        maxPerOrder: 10,
      },
    ],
    isFeatured: false,
    isPublished: true,
    createdAt: new Date("2025-01-20"),
  },
  {
    id: "event-7",
    title: "Art Kigali Exhibition",
    description: "Discover contemporary African art at this exclusive exhibition featuring works from Rwanda's most talented artists. Opening night includes wine reception and artist talks.",
    shortDescription: "Contemporary African art exhibition featuring Rwanda's finest artists.",
    category: "arts",
    venue: {
      name: "Inema Arts Center",
      address: "KG 563 Street",
      city: "Kigali",
    },
    date: new Date("2026-03-20T18:00:00"),
    endDate: new Date("2026-03-30T18:00:00"),
    imageUrl: "https://images.unsplash.com/photo-1536924940846-227afb31e2a5?w=800&h=500&fit=crop",
    organizerId: "org-6",
    organizerName: "Inema Arts Center",
    ticketTypes: [
      {
        id: "tt-7-1",
        name: "General Entry",
        description: "Exhibition access",
        price: 8000,
        quantity: 500,
        sold: 234,
        maxPerOrder: 10,
      },
      {
        id: "tt-7-2",
        name: "Opening Night",
        description: "Opening reception with wine and artist meet",
        price: 25000,
        quantity: 100,
        sold: 78,
        maxPerOrder: 4,
      },
    ],
    isFeatured: false,
    isPublished: true,
    createdAt: new Date("2025-02-01"),
  },
  {
    id: "event-8",
    title: "Kigali Rooftop Party",
    description: "Dance under the stars at Kigali's most exclusive rooftop venue. International DJs, craft cocktails, and breathtaking city views.",
    shortDescription: "Exclusive rooftop party with international DJs and stunning city views.",
    category: "nightlife",
    venue: {
      name: "The Hut Rooftop",
      address: "KN 5 Avenue",
      city: "Kigali",
    },
    date: new Date("2026-03-22T21:00:00"),
    endDate: new Date("2026-03-23T04:00:00"),
    imageUrl: "https://images.unsplash.com/photo-1516450360452-9312f5e86fc7?w=800&h=500&fit=crop",
    organizerId: "org-7",
    organizerName: "Kigali Nightlife",
    ticketTypes: [
      {
        id: "tt-8-1",
        name: "Early Bird",
        description: "Entry before 11 PM",
        price: 15000,
        quantity: 200,
        sold: 200,
        maxPerOrder: 4,
      },
      {
        id: "tt-8-2",
        name: "Regular",
        description: "Standard entry",
        price: 25000,
        quantity: 300,
        sold: 167,
        maxPerOrder: 4,
      },
      {
        id: "tt-8-3",
        name: "VIP Table",
        description: "Reserved table for 6, bottle included",
        price: 300000,
        quantity: 15,
        sold: 8,
        maxPerOrder: 2,
      },
    ],
    isFeatured: false,
    isPublished: true,
    createdAt: new Date("2025-02-10"),
  },
];

// Mock Tickets for current user
export const mockTickets: Ticket[] = [
  {
    id: "ticket-1",
    eventId: "event-1",
    event: mockEvents[0],
    userId: "user-1",
    ticketTypeId: "tt-1-2",
    ticketTypeName: "VIP",
    purchaseDate: new Date("2025-01-20"),
    qrCode: "TKT-KJJ-2026-VIP-001",
    status: "valid",
    price: 50000,
  },
  {
    id: "ticket-2",
    eventId: "event-3",
    event: mockEvents[2],
    userId: "user-1",
    ticketTypeId: "tt-3-2",
    ticketTypeName: "Family Pack",
    purchaseDate: new Date("2025-01-25"),
    qrCode: "TKT-KFF-2026-FAM-002",
    status: "valid",
    price: 15000,
  },
  {
    id: "ticket-3",
    eventId: "event-6",
    event: mockEvents[5],
    userId: "user-1",
    ticketTypeId: "tt-6-1",
    ticketTypeName: "Runner",
    purchaseDate: new Date("2025-01-15"),
    qrCode: "TKT-KNR-2026-RUN-003",
    status: "valid",
    price: 10000,
  },
];

// Mock Orders
export const mockOrders: Order[] = [
  {
    id: "order-1",
    userId: "user-1",
    eventId: "event-1",
    items: [
      {
        ticketTypeId: "tt-1-2",
        ticketTypeName: "VIP",
        quantity: 1,
        price: 50000,
      },
    ],
    total: 50000,
    status: "completed",
    createdAt: new Date("2025-01-20"),
  },
];

// Mock Payouts for organizers
export const mockPayouts: Payout[] = [
  {
    id: "payout-1",
    organizerId: "org-1",
    amount: 5000000,
    status: "completed",
    requestedAt: new Date("2025-01-01"),
    completedAt: new Date("2025-01-05"),
  },
  {
    id: "payout-2",
    organizerId: "org-1",
    amount: 3500000,
    status: "processing",
    requestedAt: new Date("2025-01-20"),
  },
  {
    id: "payout-3",
    organizerId: "org-1",
    amount: 2000000,
    status: "pending",
    requestedAt: new Date("2025-02-01"),
  },
];

// Mock Analytics
export const mockAnalytics: EventAnalytics = {
  totalRevenue: 21850000,
  totalTicketsSold: 421,
  totalAttendees: 385,
  salesByDate: [
    { date: "2025-01-15", revenue: 1500000, tickets: 45 },
    { date: "2025-01-16", revenue: 2200000, tickets: 67 },
    { date: "2025-01-17", revenue: 1800000, tickets: 52 },
    { date: "2025-01-18", revenue: 3100000, tickets: 89 },
    { date: "2025-01-19", revenue: 2500000, tickets: 72 },
    { date: "2025-01-20", revenue: 4200000, tickets: 96 },
  ],
  ticketTypeBreakdown: [
    { name: "General Admission", sold: 342, revenue: 5130000 },
    { name: "VIP", sold: 67, revenue: 3350000 },
    { name: "VVIP Table", sold: 12, revenue: 2400000 },
  ],
};

// Helper functions
export function formatRWF(amount: number): string {
  return new Intl.NumberFormat("en-RW", {
    style: "currency",
    currency: "RWF",
    minimumFractionDigits: 0,
    maximumFractionDigits: 0,
  }).format(amount);
}

export function formatDate(date: Date): string {
  return new Intl.DateTimeFormat("en-RW", {
    weekday: "short",
    day: "numeric",
    month: "short",
    year: "numeric",
  }).format(date);
}

export function formatTime(date: Date): string {
  return new Intl.DateTimeFormat("en-RW", {
    hour: "2-digit",
    minute: "2-digit",
  }).format(date);
}

export function formatDateTime(date: Date): string {
  return `${formatDate(date)} at ${formatTime(date)}`;
}

export function getCategoryLabel(category: string): string {
  const labels: Record<string, string> = {
    music: "Music",
    sports: "Sports",
    arts: "Arts & Culture",
    food: "Food & Drink",
    business: "Business",
    tech: "Technology",
    community: "Community",
    nightlife: "Nightlife",
  };
  return labels[category] || category;
}

export function getCategoryColor(category: string): string {
  const colors: Record<string, string> = {
    music: "bg-pink-500/20 text-pink-400",
    sports: "bg-green-500/20 text-green-400",
    arts: "bg-purple-500/20 text-purple-400",
    food: "bg-orange-500/20 text-orange-400",
    business: "bg-blue-500/20 text-blue-400",
    tech: "bg-cyan-500/20 text-cyan-400",
    community: "bg-yellow-500/20 text-yellow-400",
    nightlife: "bg-indigo-500/20 text-indigo-400",
  };
  return colors[category] || "bg-muted text-muted-foreground";
}
</file>

<file path="lib/types.ts">
// User Types
export type UserRole = "attendee" | "organizer" | "admin" | "scanner";

export interface User {
  id: string;
  firstName: string;
  lastName: string;
  email: string;
  phone: string;
  role: UserRole;
  isVerified: boolean;
  createdAt: Date;
  avatar?: string;
}

// Event Types
export type EventCategory =
  | "music"
  | "sports"
  | "arts"
  | "food"
  | "business"
  | "tech"
  | "community"
  | "nightlife";

export interface EventVenue {
  name: string;
  address: string;
  city: string;
  mapUrl?: string;
}

export interface TicketType {
  id: string;
  name: string;
  description: string;
  price: number;
  quantity: number;
  sold: number;
  maxPerOrder: number;
}

export interface Event {
  id: string;
  title: string;
  description: string;
  shortDescription: string;
  category: EventCategory;
  venue: EventVenue;
  date: Date;
  endDate?: Date;
  imageUrl: string;
  organizerId: string;
  organizerName: string;
  organizerLogo?: string;
  ticketTypes: TicketType[];
  isFeatured: boolean;
  isPublished: boolean;
  createdAt: Date;
}

// Ticket Types
export type TicketStatus = "valid" | "used" | "expired" | "cancelled";

export interface Ticket {
  id: string;
  eventId: string;
  event: Event;
  userId: string;
  ticketTypeId: string;
  ticketTypeName: string;
  purchaseDate: Date;
  qrCode: string;
  status: TicketStatus;
  price: number;
}

// Order Types
export interface OrderItem {
  ticketTypeId: string;
  ticketTypeName: string;
  quantity: number;
  price: number;
}

export interface Order {
  id: string;
  userId: string;
  eventId: string;
  items: OrderItem[];
  total: number;
  status: "pending" | "completed" | "failed" | "refunded";
  createdAt: Date;
}

// Analytics Types
export interface SalesData {
  date: string;
  revenue: number;
  tickets: number;
}

export interface EventAnalytics {
  totalRevenue: number;
  totalTicketsSold: number;
  totalAttendees: number;
  salesByDate: SalesData[];
  ticketTypeBreakdown: {
    name: string;
    sold: number;
    revenue: number;
  }[];
}

// Payout Types
export interface Payout {
  id: string;
  organizerId: string;
  amount: number;
  status: "pending" | "processing" | "completed" | "failed";
  requestedAt: Date;
  completedAt?: Date;
}

// Scan Types
export interface ScanResult {
  success: boolean;
  message: string;
  ticket?: Ticket;
  status: "valid" | "invalid" | "already_used" | "expired";
}
</file>

<file path="lib/utils.ts">
import { clsx, type ClassValue } from 'clsx'
import { twMerge } from 'tailwind-merge'

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs))
}
</file>

<file path="next.config.mjs">
/** @type {import('next').NextConfig} */
const nextConfig = {
  typescript: {
    ignoreBuildErrors: true,
  },
  images: {
    unoptimized: true,
  },
 
}

export default nextConfig
</file>

<file path="package.json">
{
  "name": "my-v0-project",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "build": "next build",
    "dev": "next dev",
    "lint": "eslint .",
    "start": "next start"
  },
  "dependencies": {
    "@hookform/resolvers": "^3.10.0",
    "@radix-ui/react-accordion": "1.2.2",
    "@radix-ui/react-alert-dialog": "1.1.4",
    "@radix-ui/react-aspect-ratio": "1.1.1",
    "@radix-ui/react-avatar": "1.1.2",
    "@radix-ui/react-checkbox": "1.1.3",
    "@radix-ui/react-collapsible": "1.1.2",
    "@radix-ui/react-context-menu": "2.2.4",
    "@radix-ui/react-dialog": "1.1.4",
    "@radix-ui/react-dropdown-menu": "2.1.4",
    "@radix-ui/react-hover-card": "1.1.4",
    "@radix-ui/react-label": "2.1.1",
    "@radix-ui/react-menubar": "1.1.4",
    "@radix-ui/react-navigation-menu": "1.2.3",
    "@radix-ui/react-popover": "1.1.4",
    "@radix-ui/react-progress": "1.1.1",
    "@radix-ui/react-radio-group": "1.2.2",
    "@radix-ui/react-scroll-area": "1.2.2",
    "@radix-ui/react-select": "2.1.4",
    "@radix-ui/react-separator": "1.1.1",
    "@radix-ui/react-slider": "1.2.2",
    "@radix-ui/react-slot": "1.1.1",
    "@radix-ui/react-switch": "1.1.2",
    "@radix-ui/react-tabs": "1.1.2",
    "@radix-ui/react-toast": "1.2.4",
    "@radix-ui/react-toggle": "1.1.1",
    "@radix-ui/react-toggle-group": "1.1.1",
    "@radix-ui/react-tooltip": "1.1.6",
    "@vercel/analytics": "1.3.1",
    "autoprefixer": "^10.4.20",
    "class-variance-authority": "^0.7.1",
    "clsx": "^2.1.1",
    "cmdk": "1.0.4",
    "date-fns": "4.1.0",
    "embla-carousel-react": "8.5.1",
    "input-otp": "1.4.1",
    "lucide-react": "^0.454.0",
    "next": "16.0.10",
    "next-themes": "^0.4.6",
    "qrcode.react": "4.2.0",
    "react": "19.2.0",
    "react-day-picker": "9.8.0",
    "react-dom": "19.2.0",
    "react-hook-form": "^7.60.0",
    "react-resizable-panels": "^2.1.7",
    "recharts": "2.15.4",
    "sonner": "^1.7.4",
    "tailwind-merge": "^3.3.1",
    "tailwindcss-animate": "^1.0.7",
    "vaul": "^1.1.2",
    "zod": "3.25.76"
  },
  "devDependencies": {
    "@tailwindcss/postcss": "^4.1.9",
    "@types/node": "^22",
    "@types/react": "^19",
    "@types/react-dom": "^19",
    "postcss": "^8.5",
    "tailwindcss": "^4.1.9",
    "tw-animate-css": "1.3.3",
    "typescript": "^5"
  }
}
</file>

<file path="postcss.config.mjs">
/** @type {import('postcss-load-config').Config} */
const config = {
  plugins: {
    '@tailwindcss/postcss': {},
  },
}

export default config
</file>

<file path="public/icon.svg">
<svg width="180" height="180" viewBox="0 0 180 180" fill="none" xmlns="http://www.w3.org/2000/svg">
  <style>
    @media (prefers-color-scheme: light) {
      .background { fill: black; }
      .foreground { fill: white; }
    }
    @media (prefers-color-scheme: dark) {
      .background { fill: white; }
      .foreground { fill: black; }
    }
  </style>
  <g clip-path="url(#clip0_7960_43945)">
    <rect class="background" width="180" height="180" rx="37" />
    <g style="transform: scale(95%); transform-origin: center">
      <path class="foreground"
        d="M101.141 53H136.632C151.023 53 162.689 64.6662 162.689 79.0573V112.904H148.112V79.0573C148.112 78.7105 148.098 78.3662 148.072 78.0251L112.581 112.898C112.701 112.902 112.821 112.904 112.941 112.904H148.112V126.672H112.941C98.5504 126.672 86.5638 114.891 86.5638 100.5V66.7434H101.141V100.5C101.141 101.15 101.191 101.792 101.289 102.422L137.56 66.7816C137.255 66.7563 136.945 66.7434 136.632 66.7434H101.141V53Z" />
      <path class="foreground"
        d="M65.2926 124.136L14 66.7372H34.6355L64.7495 100.436V66.7372H80.1365V118.47C80.1365 126.278 70.4953 129.958 65.2926 124.136Z" />
    </g>
  </g>
  <defs>
    <clipPath id="clip0_7960_43945">
      <rect width="180" height="180" fill="white" />
    </clipPath>
  </defs>
</svg>
</file>

<file path="public/placeholder-logo.svg">
<svg xmlns="http://www.w3.org/2000/svg" width="215" height="48" fill="none"><path fill="#000" d="M57.588 9.6h6L73.828 38h-5.2l-2.36-6.88h-11.36L52.548 38h-5.2l10.24-28.4Zm7.16 17.16-4.16-12.16-4.16 12.16h8.32Zm23.694-2.24c-.186-1.307-.706-2.32-1.56-3.04-.853-.72-1.866-1.08-3.04-1.08-1.68 0-2.986.613-3.92 1.84-.906 1.227-1.36 2.947-1.36 5.16s.454 3.933 1.36 5.16c.934 1.227 2.24 1.84 3.92 1.84 1.254 0 2.307-.373 3.16-1.12.854-.773 1.387-1.867 1.6-3.28l5.12.24c-.186 1.68-.733 3.147-1.64 4.4-.906 1.227-2.08 2.173-3.52 2.84-1.413.667-2.986 1-4.72 1-2.08 0-3.906-.453-5.48-1.36-1.546-.907-2.76-2.2-3.64-3.88-.853-1.68-1.28-3.627-1.28-5.84 0-2.24.427-4.187 1.28-5.84.88-1.68 2.094-2.973 3.64-3.88 1.574-.907 3.4-1.36 5.48-1.36 1.68 0 3.227.32 4.64.96 1.414.64 2.56 1.56 3.44 2.76.907 1.2 1.454 2.6 1.64 4.2l-5.12.28Zm11.486-7.72.12 3.4c.534-1.227 1.307-2.173 2.32-2.84 1.04-.693 2.267-1.04 3.68-1.04 1.494 0 2.76.387 3.8 1.16 1.067.747 1.827 1.813 2.28 3.2.507-1.44 1.294-2.52 2.36-3.24 1.094-.747 2.414-1.12 3.96-1.12 1.414 0 2.64.307 3.68.92s1.84 1.52 2.4 2.72c.56 1.2.84 2.667.84 4.4V38h-4.96V25.92c0-1.813-.293-3.187-.88-4.12-.56-.96-1.413-1.44-2.56-1.44-.906 0-1.68.213-2.32.64-.64.427-1.133 1.053-1.48 1.88-.32.827-.48 1.84-.48 3.04V38h-4.56V25.92c0-1.2-.133-2.213-.4-3.04-.24-.827-.626-1.453-1.16-1.88-.506-.427-1.133-.64-1.88-.64-.906 0-1.68.227-2.32.68-.64.427-1.133 1.053-1.48 1.88-.32.827-.48 1.827-.48 3V38h-4.96V16.8h4.48Zm26.723 10.6c0-2.24.427-4.187 1.28-5.84.854-1.68 2.067-2.973 3.64-3.88 1.574-.907 3.4-1.36 5.48-1.36 1.84 0 3.494.413 4.96 1.24 1.467.827 2.64 2.08 3.52 3.76.88 1.653 1.347 3.693 1.4 6.12v1.32h-15.08c.107 1.813.614 3.227 1.52 4.24.907.987 2.134 1.48 3.68 1.48.987 0 1.88-.253 2.68-.76a4.803 4.803 0 0 0 1.84-2.2l5.08.36c-.64 2.027-1.84 3.64-3.6 4.84-1.733 1.173-3.733 1.76-6 1.76-2.08 0-3.906-.453-5.48-1.36-1.573-.907-2.786-2.2-3.64-3.88-.853-1.68-1.28-3.627-1.28-5.84Zm15.16-2.04c-.213-1.733-.76-3.013-1.64-3.84-.853-.827-1.893-1.24-3.12-1.24-1.44 0-2.6.453-3.48 1.36-.88.88-1.44 2.12-1.68 3.72h9.92ZM163.139 9.6V38h-5.04V9.6h5.04Zm8.322 7.2.24 5.88-.64-.36c.32-2.053 1.094-3.56 2.32-4.52 1.254-.987 2.787-1.48 4.6-1.48 2.32 0 4.107.733 5.36 2.2 1.254 1.44 1.88 3.387 1.88 5.84V38h-4.96V25.92c0-1.253-.12-2.28-.36-3.08-.24-.8-.64-1.413-1.2-1.84-.533-.427-1.253-.64-2.16-.64-1.44 0-2.573.48-3.4 1.44-.8.933-1.2 2.307-1.2 4.12V38h-4.96V16.8h4.48Zm30.003 7.72c-.186-1.307-.706-2.32-1.56-3.04-.853-.72-1.866-1.08-3.04-1.08-1.68 0-2.986.613-3.92 1.84-.906 1.227-1.36 2.947-1.36 5.16s.454 3.933 1.36 5.16c.934 1.227 2.24 1.84 3.92 1.84 1.254 0 2.307-.373 3.16-1.12.854-.773 1.387-1.867 1.6-3.28l5.12.24c-.186 1.68-.733 3.147-1.64 4.4-.906 1.227-2.08 2.173-3.52 2.84-1.413.667-2.986 1-4.72 1-2.08 0-3.906-.453-5.48-1.36-1.546-.907-2.76-2.2-3.64-3.88-.853-1.68-1.28-3.627-1.28-5.84 0-2.24.427-4.187 1.28-5.84.88-1.68 2.094-2.973 3.64-3.88 1.574-.907 3.4-1.36 5.48-1.36 1.68 0 3.227.32 4.64.96 1.414.64 2.56 1.56 3.44 2.76.907 1.2 1.454 2.6 1.64 4.2l-5.12.28Zm11.443 8.16V38h-5.6v-5.32h5.6Z"/><path fill="#171717" fill-rule="evenodd" d="m7.839 40.783 16.03-28.054L20 6 0 40.783h7.839Zm8.214 0H40L27.99 19.894l-4.02 7.032 3.976 6.914H20.02l-3.967 6.943Z" clip-rule="evenodd"/></svg>
</file>

<file path="public/placeholder.svg">
<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="1200" fill="none"><rect width="1200" height="1200" fill="#EAEAEA" rx="3"/><g opacity=".5"><g opacity=".5"><path fill="#FAFAFA" d="M600.709 736.5c-75.454 0-136.621-61.167-136.621-136.62 0-75.454 61.167-136.621 136.621-136.621 75.453 0 136.62 61.167 136.62 136.621 0 75.453-61.167 136.62-136.62 136.62Z"/><path stroke="#C9C9C9" stroke-width="2.418" d="M600.709 736.5c-75.454 0-136.621-61.167-136.621-136.62 0-75.454 61.167-136.621 136.621-136.621 75.453 0 136.62 61.167 136.62 136.621 0 75.453-61.167 136.62-136.62 136.62Z"/></g><path stroke="url(#a)" stroke-width="2.418" d="M0-1.209h553.581" transform="scale(1 -1) rotate(45 1163.11 91.165)"/><path stroke="url(#b)" stroke-width="2.418" d="M404.846 598.671h391.726"/><path stroke="url(#c)" stroke-width="2.418" d="M599.5 795.742V404.017"/><path stroke="url(#d)" stroke-width="2.418" d="m795.717 796.597-391.441-391.44"/><path fill="#fff" d="M600.709 656.704c-31.384 0-56.825-25.441-56.825-56.824 0-31.384 25.441-56.825 56.825-56.825 31.383 0 56.824 25.441 56.824 56.825 0 31.383-25.441 56.824-56.824 56.824Z"/><g clip-path="url(#e)"><path fill="#666" fill-rule="evenodd" d="M616.426 586.58h-31.434v16.176l3.553-3.554.531-.531h9.068l.074-.074 8.463-8.463h2.565l7.18 7.181V586.58Zm-15.715 14.654 3.698 3.699 1.283 1.282-2.565 2.565-1.282-1.283-5.2-5.199h-6.066l-5.514 5.514-.073.073v2.876a2.418 2.418 0 0 0 2.418 2.418h26.598a2.418 2.418 0 0 0 2.418-2.418v-8.317l-8.463-8.463-7.181 7.181-.071.072Zm-19.347 5.442v4.085a6.045 6.045 0 0 0 6.046 6.045h26.598a6.044 6.044 0 0 0 6.045-6.045v-7.108l1.356-1.355-1.282-1.283-.074-.073v-17.989h-38.689v23.43l-.146.146.146.147Z" clip-rule="evenodd"/></g><path stroke="#C9C9C9" stroke-width="2.418" d="M600.709 656.704c-31.384 0-56.825-25.441-56.825-56.824 0-31.384 25.441-56.825 56.825-56.825 31.383 0 56.824 25.441 56.824 56.825 0 31.383-25.441 56.824-56.824 56.824Z"/></g><defs><linearGradient id="a" x1="554.061" x2="-.48" y1=".083" y2=".087" gradientUnits="userSpaceOnUse"><stop stop-color="#C9C9C9" stop-opacity="0"/><stop offset=".208" stop-color="#C9C9C9"/><stop offset=".792" stop-color="#C9C9C9"/><stop offset="1" stop-color="#C9C9C9" stop-opacity="0"/></linearGradient><linearGradient id="b" x1="796.912" x2="404.507" y1="599.963" y2="599.965" gradientUnits="userSpaceOnUse"><stop stop-color="#C9C9C9" stop-opacity="0"/><stop offset=".208" stop-color="#C9C9C9"/><stop offset=".792" stop-color="#C9C9C9"/><stop offset="1" stop-color="#C9C9C9" stop-opacity="0"/></linearGradient><linearGradient id="c" x1="600.792" x2="600.794" y1="403.677" y2="796.082" gradientUnits="userSpaceOnUse"><stop stop-color="#C9C9C9" stop-opacity="0"/><stop offset=".208" stop-color="#C9C9C9"/><stop offset=".792" stop-color="#C9C9C9"/><stop offset="1" stop-color="#C9C9C9" stop-opacity="0"/></linearGradient><linearGradient id="d" x1="404.85" x2="796.972" y1="403.903" y2="796.02" gradientUnits="userSpaceOnUse"><stop stop-color="#C9C9C9" stop-opacity="0"/><stop offset=".208" stop-color="#C9C9C9"/><stop offset=".792" stop-color="#C9C9C9"/><stop offset="1" stop-color="#C9C9C9" stop-opacity="0"/></linearGradient><clipPath id="e"><path fill="#fff" d="M581.364 580.535h38.689v38.689h-38.689z"/></clipPath></defs></svg>
</file>

<file path="README.md">
# Event ticketing platform

*Automatically synced with your [v0.app](https://v0.app) deployments*

[![Deployed on Vercel](https://img.shields.io/badge/Deployed%20on-Vercel-black?style=for-the-badge&logo=vercel)](https://vercel.com/elissasibomana18-7848s-projects/v0-etp)
[![Built with v0](https://img.shields.io/badge/Built%20with-v0.app-black?style=for-the-badge)](https://v0.app/chat/pHDZWLbIMkj)

## Overview

This repository will stay in sync with your deployed chats on [v0.app](https://v0.app).
Any changes you make to your deployed app will be automatically pushed to this repository from [v0.app](https://v0.app).

## Deployment

Your project is live at:

**[https://vercel.com/elissasibomana18-7848s-projects/v0-etp](https://vercel.com/elissasibomana18-7848s-projects/v0-etp)**

## Build your app

Continue building your app on:

**[https://v0.app/chat/pHDZWLbIMkj](https://v0.app/chat/pHDZWLbIMkj)**

## How It Works

1. Create and modify your project using [v0.app](https://v0.app)
2. Deploy your chats from the v0 interface
3. Changes are automatically pushed to this repository
4. Vercel deploys the latest version from this repository
</file>

<file path="styles/globals.css">
@import 'tailwindcss';
@import 'tw-animate-css';

@custom-variant dark (&:is(.dark *));

:root {
  --background: oklch(1 0 0);
  --foreground: oklch(0.145 0 0);
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.145 0 0);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.145 0 0);
  --primary: oklch(0.205 0 0);
  --primary-foreground: oklch(0.985 0 0);
  --secondary: oklch(0.97 0 0);
  --secondary-foreground: oklch(0.205 0 0);
  --muted: oklch(0.97 0 0);
  --muted-foreground: oklch(0.556 0 0);
  --accent: oklch(0.97 0 0);
  --accent-foreground: oklch(0.205 0 0);
  --destructive: oklch(0.577 0.245 27.325);
  --destructive-foreground: oklch(0.577 0.245 27.325);
  --border: oklch(0.922 0 0);
  --input: oklch(0.922 0 0);
  --ring: oklch(0.708 0 0);
  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);
  --radius: 0.625rem;
  --sidebar: oklch(0.985 0 0);
  --sidebar-foreground: oklch(0.145 0 0);
  --sidebar-primary: oklch(0.205 0 0);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.97 0 0);
  --sidebar-accent-foreground: oklch(0.205 0 0);
  --sidebar-border: oklch(0.922 0 0);
  --sidebar-ring: oklch(0.708 0 0);
}

.dark {
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);
  --card: oklch(0.145 0 0);
  --card-foreground: oklch(0.985 0 0);
  --popover: oklch(0.145 0 0);
  --popover-foreground: oklch(0.985 0 0);
  --primary: oklch(0.985 0 0);
  --primary-foreground: oklch(0.205 0 0);
  --secondary: oklch(0.269 0 0);
  --secondary-foreground: oklch(0.985 0 0);
  --muted: oklch(0.269 0 0);
  --muted-foreground: oklch(0.708 0 0);
  --accent: oklch(0.269 0 0);
  --accent-foreground: oklch(0.985 0 0);
  --destructive: oklch(0.396 0.141 25.723);
  --destructive-foreground: oklch(0.637 0.237 25.331);
  --border: oklch(0.269 0 0);
  --input: oklch(0.269 0 0);
  --ring: oklch(0.439 0 0);
  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
  --sidebar: oklch(0.205 0 0);
  --sidebar-foreground: oklch(0.985 0 0);
  --sidebar-primary: oklch(0.488 0.243 264.376);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.269 0 0);
  --sidebar-accent-foreground: oklch(0.985 0 0);
  --sidebar-border: oklch(0.269 0 0);
  --sidebar-ring: oklch(0.439 0 0);
}

@theme inline {
  --font-sans: 'Geist', 'Geist Fallback';
  --font-mono: 'Geist Mono', 'Geist Mono Fallback';
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}
</file>

<file path="tsconfig.json">
{
  "compilerOptions": {
    "lib": [
      "dom",
      "dom.iterable",
      "esnext"
    ],
    "allowJs": true,
    "target": "ES6",
    "skipLibCheck": true,
    "strict": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "esnext",
    "moduleResolution": "bundler",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "react-jsx",
    "incremental": true,
    "plugins": [
      {
        "name": "next"
      }
    ],
    "paths": {
      "@/*": [
        "./*"
      ]
    }
  },
  "include": [
    "next-env.d.ts",
    "**/*.ts",
    "**/*.tsx",
    ".next/types/**/*.ts",
    ".next/dev/types/**/*.ts"
  ],
  "exclude": [
    "node_modules"
  ]
}
</file>

</files>
